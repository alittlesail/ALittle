G2048
local ___pairs = pairs
local ___ipairs = ipairs


local __Log
__Log = function(content, level)
	__CPPAPI_ScriptSystemEx:Log(content, level)
end

ALittle.SetLogFunc(__Log)
function __ALITTLEAPI_CEngine_Init(base_path)
local ___COROUTINE = coroutine.running()
	Require(base_path .. "CEngine/UISystem/IShow")
	Require(base_path .. "CEngine/Utility/String")
	Require(base_path .. "CEngine/Utility/File")
	Require(base_path .. "CEngine/Utility/ModuleSystem")
	Require(base_path .. "CEngine/Utility/System")
	Require(base_path .. "CEngine/Utility/ConfigSystem")
	Require(base_path .. "CEngine/Utility/AudioSystem")
	Require(base_path .. "CEngine/Utility/OtherSystem")
	Require(base_path .. "CEngine/Utility/CsvConfigManager")
	Require(base_path .. "CEngine/LoopSystem/LoopAnimation")
	Require(base_path .. "CEngine/LoopSystem/LoopAttribute")
	Require(base_path .. "CEngine/LoopSystem/LoopLinear")
	Require(base_path .. "CEngine/LoopSystem/LoopRit")
	Require(base_path .. "CEngine/UISystem/UIEnumTypes")
	Require(base_path .. "CEngine/UISystem/UIEventDispatcher")
	Require(base_path .. "CEngine/UISystem/Base/Matrix2D")
	Require(base_path .. "CEngine/UISystem/Base/DisplayObject")
	Require(base_path .. "CEngine/UISystem/Base/DisplayGroup")
	Require(base_path .. "CEngine/UISystem/Base/DisplayLayout")
	Require(base_path .. "CEngine/UISystem/Base/DisplayView")
	Require(base_path .. "CEngine/UISystem/Base/Quad")
	Require(base_path .. "CEngine/UISystem/Base/Image")
	Require(base_path .. "CEngine/UISystem/Base/Sprite")
	Require(base_path .. "CEngine/UISystem/Base/Text")
	Require(base_path .. "CEngine/UISystem/Base/TextArea")
	Require(base_path .. "CEngine/UISystem/Base/TextEdit")
	Require(base_path .. "CEngine/UISystem/Base/TextInput")
	Require(base_path .. "CEngine/UISystem/Base/Triangle")
	Require(base_path .. "CEngine/UISystem/Complex/Grid9Image")
	Require(base_path .. "CEngine/UISystem/Complex/TextButton")
	Require(base_path .. "CEngine/UISystem/Complex/TextCheckButton")
	Require(base_path .. "CEngine/UISystem/Complex/TextRadioButton")
	Require(base_path .. "CEngine/UISystem/Complex/Grid3")
	Require(base_path .. "CEngine/UISystem/Complex/Grid9")
	Require(base_path .. "CEngine/UISystem/Complex/Linear")
	Require(base_path .. "CEngine/UISystem/Complex/Tab")
	Require(base_path .. "CEngine/UISystem/Complex/DropDown")
	Require(base_path .. "CEngine/UISystem/Complex/Slider")
	Require(base_path .. "CEngine/UISystem/Complex/ScrollBar")
	Require(base_path .. "CEngine/UISystem/Complex/ScrollScreen")
	Require(base_path .. "CEngine/UISystem/Complex/Dialog")
	Require(base_path .. "CEngine/UISystem/Complex/TileTable")
	Require(base_path .. "CEngine/UISystem/Complex/ImagePlay")
	Require(base_path .. "CEngine/UISystem/Complex/SpritePlay")
	Require(base_path .. "CEngine/UISystem/Complex/FramePlay")
	Require(base_path .. "CEngine/UISystem/Complex/Piechart")
	Require(base_path .. "CEngine/UISystem/Complex/ImageInput")
	Require(base_path .. "CEngine/UISystem/Complex/ImageEdit")
	Require(base_path .. "CEngine/UISystem/Complex/RichArea")
	Require(base_path .. "CEngine/UISystem/Complex/RichEdit")
	Require(base_path .. "CEngine/UISystem/Complex/RichInput")
	Require(base_path .. "CEngine/UISystem/Complex/ScrollList")
	Require(base_path .. "CEngine/UISystem/Complex/ScrollButton")
	Require(base_path .. "CEngine/UISystem/Special/SpringTextButton")
	Require(base_path .. "CEngine/UISystem/Plugin/SpringButton")
	Require(base_path .. "CEngine/UISystem/Plugin/SpringCheckButton")
	Require(base_path .. "CEngine/UISystem/Plugin/SpringRadioButton")
	Require(base_path .. "CEngine/UISystem/Plugin/SpringDialog")
	Require(base_path .. "CEngine/UISystem/Effect/EffectImage")
	Require(base_path .. "CEngine/UISystem/UISystem")
	Require(base_path .. "CEngine/UISystem/LayerManager")
	Require(base_path .. "CEngine/UISystem/TextureManager")
	Require(base_path .. "CEngine/UISystem/ControlSystem")
	do
		Require(base_path .. "CEngine/Version/VersionSystem")
		Require(base_path .. "CEngine/Version/VersionSystemAndroid")
		Require(base_path .. "CEngine/Version/VersionSystemIOS")
		Require(base_path .. "CEngine/Version/VersionSystemWindows")
	end
end

function __ALITTLEAPI_HandleConsoleCmd(cmd)
	ALittle.ExecuteCommand(cmd)
end

function __ALITTLEAPI_FingerMoved(x, y, finger_id, touch_id)
	A_UISystem:HandleFingerMoved(x, y, finger_id, touch_id)
end

function __ALITTLEAPI_FingerDown(x, y, finger_id, touch_id)
	A_UISystem:HandleFingerDown(x, y, finger_id, touch_id)
end

function __ALITTLEAPI_FingerUp(x, y, finger_id, touch_id)
	A_UISystem:HandleFingerUp(x, y, finger_id, touch_id)
end

function __ALITTLEAPI_MouseMoved(x, y)
	A_UISystem:HandleMouseMoved(x, y)
end

function __ALITTLEAPI_LButtonDown(x, y, count)
	A_UISystem:HandleLButtonDown(x, y, count)
end

function __ALITTLEAPI_LButtonUp(x, y)
	A_UISystem:HandleLButtonUp(x, y)
end

function __ALITTLEAPI_MButtonDown(x, y, count)
	A_UISystem:HandleMButtonDown(x, y, count)
end

function __ALITTLEAPI_MButtonUp(x, y)
	A_UISystem:HandleMButtonUp(x, y)
end

function __ALITTLEAPI_RButtonDown(x, y, count)
	A_UISystem:HandleRButtonDown(x, y, count)
end

function __ALITTLEAPI_RButtonUp(x, y)
	A_UISystem:HandleRButtonUp(x, y)
end

function __ALITTLEAPI_MouseWheel(x, y)
	A_UISystem:HandleMouseWheel(x, y)
end

function __ALITTLEAPI_KeyDown(mod, sym, scancode)
	A_UISystem:HandleKeyDown(mod, sym, scancode)
end

function __ALITTLEAPI_KeyUp(mod, sym, scancode)
	A_UISystem:HandleKeyUp(mod, sym, scancode)
end

function __ALITTLEAPI_ViewResized(width, height)
	A_UISystem:HandleViewResized(width, height)
end

function __ALITTLEAPI_TextInput(text)
	A_UISystem:HandleTextInput(text)
end

function __ALITTLEAPI_TextEditing(text, start)
	A_UISystem:HandleTextEditing(text, start)
end

function __ALITTLEAPI_DropFile(path)
	A_UISystem:HandleDropFile(path)
end

function __ALITTLEAPI_WindowEnter()
	A_UISystem:HandleWindowEnter()
end

function __ALITTLEAPI_WindowLeave()
	A_UISystem:HandleWindowLeave()
end

function __ALITTLEAPI_Update(frame_time)
	A_LuaLoopSystem:Update(frame_time)
end

function __ALITTLEAPI_WillEnterBackground()
	A_OtherSystem:HandleWillEnterBackground()
end

function __ALITTLEAPI_DidEnterBackground()
	A_OtherSystem:HandleDidEnterBackground()
end

function __ALITTLEAPI_WillEnterForeground()
	A_OtherSystem:HandleWillEnterForeground()
end

function __ALITTLEAPI_DidEnterForeground()
	A_OtherSystem:HandleDidEnterForeground()
end

function __ALITTLEAPI_LowMemory()
	A_OtherSystem:HandleLowMemory()
end

function __ALITTLEAPI_TextureLoadSucceed(loader, texture)
	A_LoadTextureManager:HandleTextureLoadSucceed(loader, texture)
end

function __ALITTLEAPI_TextureLoadFailed(loader)
	A_LoadTextureManager:HandleTextureLoadFailed(loader)
end

function __ALITTLEAPI_TextureCutLoadSucceed(loader, texture)
	A_LoadTextureManager:HandleTextureCutLoadSucceed(loader, texture)
end

function __ALITTLEAPI_TextureCutLoadFailed(loader)
	A_LoadTextureManager:HandleTextureCutLoadFailed(loader)
end

function __ALITTLEAPI_CsvFileLoadSucceed(loader, file)
	A_CsvConfigManager:HandleCsvFileLoadSucceed(loader, file)
end

function __ALITTLEAPI_CsvFileLoadFailed(loader)
	A_CsvConfigManager:HandleCsvFileLoadFailed(loader)
end

function __ALITTLEAPI_RenderDeviceReset()
	A_LoadTextureManager:HandleRenderDeviceReset()
end

_G.__ALITTLEAPI_HttpFileSucceed = ALittle.__ALITTLEAPI_HttpFileSucceed
_G.__ALITTLEAPI_HttpFileFailed = ALittle.__ALITTLEAPI_HttpFileFailed
_G.__ALITTLEAPI_HttpFileProcess = ALittle.__ALITTLEAPI_HttpFileProcess
_G.__ALITTLEAPI_HttpClientSucceed = ALittle.__ALITTLEAPI_HttpClientSucceed
_G.__ALITTLEAPI_HttpClientFailed = ALittle.__ALITTLEAPI_HttpClientFailed
_G.__ALITTLEAPI_ConnectSucceed = ALittle.__ALITTLEAPI_ConnectSucceed
_G.__ALITTLEAPI_Disconnect = ALittle.__ALITTLEAPI_Disconnect
_G.__ALITTLEAPI_ConnectFailed = ALittle.__ALITTLEAPI_ConnectFailed
_G.__ALITTLEAPI_Message = ALittle.__ALITTLEAPI_Message
function __ALITTLEAPI_AudioChunkStopedEvent(id)
	A_AudioSystem:HandleAudioChunkStopedEvent(id)
end

function __ALITTLEAPI_NetworkChanged(net_type)
	ALittle.System_ClearAIFamily()
	A_OtherSystem:HandleNetworkChanged(net_type)
end

function __ALITTLEAPI_ALittleJsonRPC(json)
	A_OtherSystem:HandleALittleJsonRPC(json)
end

function __ALITTLEAPI_SystemSelectFile(path)
	A_OtherSystem:HandleSystemSelectFile(path)
end

function __ALITTLEAPI_SystemSaveFile(path)
	A_OtherSystem:HandleSystemSaveFile(path)
end

function __ALITTLEAPI_SetupMainModule(base_path, debug, module_name)
	A_AudioSystem:Setup()
	A_ModuleSystem:MainSetup(base_path, debug, module_name)
end

function __ALITTLEAPI_ShutdownMainModule()
	A_LayerManager:Shutdown()
	A_AudioSystem:Shutdown()
	A_ModuleSystem:MainShutdown()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(-925381158, "ALittle.LoopChildInfo", {
name = "ALittle.LoopChildInfo", ns_name = "ALittle", rl_name = "LoopChildInfo", hash_code = -925381158,
name_list = {"clazz","target","total_time","delay_time"},
type_list = {"string","any","int","int"},
option_map = {}
})
RegStruct(-1741432339, "ALittle.LoopListInfo", {
name = "ALittle.LoopListInfo", ns_name = "ALittle", rl_name = "LoopListInfo", hash_code = -1741432339,
name_list = {"link","attribute","init","childs"},
type_list = {"string","string","any","List<ALittle.LoopChildInfo>"},
option_map = {}
})
RegStruct(1653869333, "ALittle.LoopGroupInfo", {
name = "ALittle.LoopGroupInfo", ns_name = "ALittle", rl_name = "LoopGroupInfo", hash_code = 1653869333,
name_list = {"childs"},
type_list = {"List<ALittle.LoopListInfo>"},
option_map = {}
})

LoopAnimation = Lua.Class(nil, "ALittle.LoopAnimation")

function LoopAnimation:Ctor(from, info)
	___rawset(self, "_from", from)
	___rawset(self, "_info", info)
end

function LoopAnimation:Init(map)
	self:Close()
	self._group = LoopGroup()
	self._group.complete_callback = Lua.Bind(self.Completed, self)
	self._save_value_map = {}
	self._init_value_map = {}
	for _, list in ___ipairs(self._info.childs) do
		local target
		if map ~= nil then
			target = map[list.link]
		end
		if target == nil and self._from ~= nil then
			target = self._from[list.link]
		end
		if target == nil then
			self._group = nil
			self._save_value_map = nil
			self._init_value_map = nil
			return "can't find link:" .. list.link .. " from map or object"
		end
		local value_map = self._save_value_map[target]
		if value_map == nil then
			value_map = {}
			self._save_value_map[target] = value_map
		end
		value_map[list.attribute] = target[list.attribute]
		if list.init ~= nil then
			target[list.attribute] = list.init
			value_map = self._init_value_map[target]
			if value_map == nil then
				value_map = {}
				self._init_value_map[target] = value_map
			end
			value_map[list.attribute] = list.init
		end
		local loop_list = LoopList()
		for index, info in ___ipairs(list.childs) do
			if info.clazz == "LoopLinear" then
				loop_list:AddUpdater(LoopLinear(target, list.attribute, info.target, info.total_time, info.delay_time))
			elseif info.clazz == "LoopAttribute" then
				loop_list:AddUpdater(LoopAttribute(target, list.attribute, info.target, info.delay_time))
			elseif info.clazz == "LoopRit" then
				loop_list:AddUpdater(LoopRit(target, list.attribute, info.target, info.total_time, info.delay_time))
			end
		end
		self._group:AddUpdater(loop_list)
	end
	return nil
end

function LoopAnimation:Completed()
	if self._loop == 0 then
		self:ReleaseCo(nil)
		return
	end
	if self._loop > 0 then
		self._loop = self._loop - 1
		if self._loop <= 0 then
			self:ReleaseCo(nil)
			return
		end
	end
	self:SetTime(0)
	self._group:Start()
end

function LoopAnimation:Play(loop)
	self:ReleaseCo("Play被调用")
	if self._group == nil then
		return
	end
	if loop == nil then
		self._loop = 1
	elseif loop == 0 then
		self._loop = -1
	else
		self._loop = loop
	end
	self._group:Start()
end

function LoopAnimation:AsyncPlay(loop)
local ___COROUTINE = coroutine.running()
	self:ReleaseCo("AsyncPlay被调用")
	if self._group == nil then
		return "this._group == null"
	end
	if ___COROUTINE == nil then
		return "当前不是协程"
	end
	self._co = ___COROUTINE
	if loop == nil then
		self._loop = 1
	elseif loop == 0 then
		self._loop = -1
	else
		self._loop = loop
	end
	self._group:Start()
	return coroutine.yield()
end

function LoopAnimation:ReleaseCo(reason)
	if self._co == nil then
		return
	end
	local result, error = Coroutine.Resume(self._co, reason)
	if result ~= true then
		Error(error)
	end
	self._co = nil
end

function LoopAnimation:Pause()
	if self._group == nil then
		return
	end
	self._group:Stop()
end

function LoopAnimation:SetTime(time)
	self:ReleaseCo("SetTime被调用")
	if self._group == nil then
		return
	end
	if self._save_value_map ~= nil then
		for object, value_map in ___pairs(self._save_value_map) do
			for attr, param in ___pairs(value_map) do
				object[attr] = param
			end
		end
	end
	if self._init_value_map ~= nil then
		for object, value_map in ___pairs(self._init_value_map) do
			for attr, param in ___pairs(value_map) do
				object[attr] = param
			end
		end
	end
	self._group:SetTime(time)
end

function LoopAnimation:Close()
	self:ReleaseCo("Close被调用")
	if self._group ~= nil then
		self._group:Stop()
		self._group = nil
	end
	if self._save_value_map ~= nil then
		for object, value_map in ___pairs(self._save_value_map) do
			for attr, param in ___pairs(value_map) do
				object[attr] = param
			end
		end
		self._save_value_map = nil
	end
	self._init_value_map = nil
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopAttribute = Lua.Class(ALittle.LoopObject, "ALittle.LoopAttribute")

function LoopAttribute:Ctor(target, property, target_value, delay_time)
	___rawset(self, "_target", target)
	___rawset(self, "_property", property)
	___rawset(self, "_target_value", target_value)
	if delay_time == nil or delay_time < 0 then
		delay_time = 0
	end
	___rawset(self, "_total_delay_time", delay_time)
	___rawset(self, "_accumulate_count", 0)
	___rawset(self, "_accumulate_delay_time", 0)
	___rawset(self, "_complete_callback", nil)
end

function LoopAttribute.__getter:complete_callback()
	return self._complete_callback
end

function LoopAttribute.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopAttribute:Reset()
	self._accumulate_count = 0
	self._accumulate_delay_time = 0
end

function LoopAttribute:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopAttribute:IsCompleted()
	return self._accumulate_count >= 1
end

function LoopAttribute:SetCompleted()
	if self._accumulate_count >= 1 then
		return
	end
	self._accumulate_count = 1
	self._accumulate_delay_time = self._total_delay_time
	self._target[self._property] = self._target_value
end

function LoopAttribute:SetTime(time)
	self._accumulate_count = 0
	self._accumulate_delay_time = 0
	if time <= 0 then
		return 0, false
	end
	if time <= self._total_delay_time then
		self._accumulate_delay_time = time
		return 0, false
	end
	self._accumulate_delay_time = self._total_delay_time
	self._accumulate_count = 1
	self._target[self._property] = self._target_value
	return time - self._total_delay_time, true
end

function LoopAttribute:Update(frame_time)
	if self._accumulate_delay_time < self._total_delay_time then
		self._accumulate_delay_time = self._accumulate_delay_time + (frame_time)
		if self._accumulate_delay_time < self._total_delay_time then
			return
		end
		self._accumulate_delay_time = self._total_delay_time
	end
	if self._accumulate_count >= 1 then
		return
	end
	self._accumulate_count = 1
	self._target[self._property] = self._target_value
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopLinear = Lua.Class(ALittle.LoopObject, "ALittle.LoopLinear")

function LoopLinear:Ctor(target, property, target_value, total_time, delay_time, func)
	___rawset(self, "_target", target)
	___rawset(self, "_target_value", target_value)
	___rawset(self, "_func", func)
	if total_time == nil or total_time < 0 then
		total_time = 0
	end
	___rawset(self, "_total_time", total_time)
	if delay_time == nil or delay_time < 0 then
		delay_time = 0
	end
	___rawset(self, "_total_delay_time", delay_time)
	___rawset(self, "_accumulate_time", 0)
	___rawset(self, "_accumulate_delay_time", 0)
	if target == nil or target[property] == nil then
		___rawset(self, "_accumulate_time", self._total_time)
		Log("LoopLinear create failed:loop_target is nil or property is nil")
		return
	end
	___rawset(self, "_property", property)
	___rawset(self, "_complete_callback", nil)
	___rawset(self, "_speed", nil)
	___rawset(self, "_init_value", nil)
end

function LoopLinear.__getter:complete_callback()
	return self._complete_callback
end

function LoopLinear.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopLinear.__getter:speed()
	if self._speed ~= nil then
		return self._speed
	end
	if self._init_value == nil then
		self._init_value = self._target[self._property]
	end
	self._speed = (self._target_value - self._init_value) / self._total_time
	return self._speed
end

function LoopLinear:Reset()
	self._accumulate_time = 0
	self._accumulate_delay_time = 0
	self._init_value = nil
end

function LoopLinear:SetTime(time)
	self._accumulate_delay_time = 0
	self._accumulate_time = 0
	if time <= 0 then
		return 0, false
	end
	if time <= self._total_delay_time then
		self._accumulate_delay_time = time
		return 0, false
	end
	self._accumulate_delay_time = self._total_delay_time
	time = time - (self._total_delay_time)
	if time < self._total_time then
		self._accumulate_time = time
		if self._init_value == nil then
			self._init_value = self._target[self._property]
		end
		local current_value = (self._accumulate_time * self._target_value + (self._total_time - self._accumulate_time) * self._init_value) / self._total_time
		self._target[self._property] = current_value
		return 0, false
	end
	self._target[self._property] = self._target_value
	self._accumulate_time = self._total_time
	if self._func ~= nil then
		self._func()
	end
	return time - self._total_time, true
end

function LoopLinear:IsCompleted()
	return self._accumulate_time >= self._total_time
end

function LoopLinear:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopLinear:SetCompleted()
	if self._accumulate_time >= self._total_time then
		return
	end
	self:SetTime(self._total_time + self._total_delay_time)
end

function LoopLinear:Update(frame_time)
	if self._accumulate_delay_time < self._total_delay_time then
		self._accumulate_delay_time = self._accumulate_delay_time + (frame_time)
		if self._accumulate_delay_time < self._total_delay_time then
			return
		end
		frame_time = self._accumulate_delay_time - self._total_delay_time
		self._accumulate_delay_time = self._total_delay_time
	end
	if self._init_value == nil then
		self._init_value = self._target[self._property]
	end
	self._accumulate_time = self._accumulate_time + (frame_time)
	if self._accumulate_time > self._total_time then
		self._accumulate_time = self._total_time
	end
	local current_value = (self._accumulate_time * self._target_value + (self._total_time - self._accumulate_time) * self._init_value) / self._total_time
	self._target[self._property] = current_value
	if self._func ~= nil then
		self._func()
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopRit = Lua.Class(ALittle.LoopObject, "ALittle.LoopRit")

function LoopRit:Ctor(target, property, target_value, total_time, delay_time, func)
	___rawset(self, "_target", target)
	___rawset(self, "_target_value", target_value)
	___rawset(self, "_func", func)
	if total_time == nil or total_time < 0 then
		total_time = 0
	end
	___rawset(self, "_total_time", total_time)
	if delay_time == nil or delay_time < 0 then
		delay_time = 0
	end
	___rawset(self, "_total_delay_time", delay_time)
	___rawset(self, "_accumulate_time", 0)
	___rawset(self, "_accumulate_delay_time", 0)
	if target == nil or target[property] == nil then
		___rawset(self, "_accumulate_time", self._total_time)
		Log("LoopRit create failed:loop_target is nil or property is nil")
		return
	end
	___rawset(self, "_property", property)
	___rawset(self, "_init_value", nil)
	___rawset(self, "_complete_callback", nil)
end

function LoopRit.__getter:complete_callback()
	return self._complete_callback
end

function LoopRit.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopRit:Reset()
	self._accumulate_time = 0
	self._accumulate_delay_time = 0
	self._init_value = nil
end

function LoopRit:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopRit:IsCompleted()
	return self._accumulate_time >= self._total_time
end

function LoopRit:SetCompleted()
	if self._accumulate_time >= self._total_time then
		return
	end
	self:SetTime(self._total_time + self._total_delay_time)
end

function LoopRit:SetTime(time)
	self._accumulate_delay_time = 0
	self._accumulate_time = 0
	if time <= 0 then
		return 0, false
	end
	if time <= self._total_delay_time then
		self._accumulate_delay_time = time
		return 0, false
	end
	self._accumulate_delay_time = self._total_delay_time
	time = time - (self._total_delay_time)
	if time < self._total_time then
		self._accumulate_time = time
		local current_value = (self._target_value - self._init_value) * math.sin((self._accumulate_time / self._total_time) * 1.57) + self._init_value
		self._target[self._property] = current_value
		return 0, false
	end
	self._target[self._property] = self._target_value
	self._accumulate_time = self._total_time
	if self._func ~= nil then
		self._func()
	end
	return time - self._total_time, true
end

function LoopRit:Update(frame_time)
	if self._accumulate_delay_time < self._total_delay_time then
		self._accumulate_delay_time = self._accumulate_delay_time + (frame_time)
		if self._accumulate_delay_time < self._total_delay_time then
			return
		end
		frame_time = self._accumulate_delay_time - self._total_delay_time
		self._accumulate_delay_time = self._total_delay_time
	end
	if self._init_value == nil then
		self._init_value = self._target[self._property]
	end
	self._accumulate_time = self._accumulate_time + (frame_time)
	if self._accumulate_time > self._total_time then
		self._accumulate_time = self._total_time
	end
	local current_value = (self._target_value - self._init_value) * math.sin((self._accumulate_time / self._total_time) * 1.57) + self._init_value
	self._target[self._property] = current_value
	if self._func ~= nil then
		self._func()
	end
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(1225542858, "ALittle.UIViewModuleDebugInfo", {
name = "ALittle.UIViewModuleDebugInfo", ns_name = "ALittle", rl_name = "UIViewModuleDebugInfo", hash_code = 1225542858,
name_list = {"window_width","window_height","title","ui_name"},
type_list = {"int","int","string","string"},
option_map = {}
})

g_Control = nil
g_LayerGroup = nil
g_ModuleBasePath = nil
function __Module_Setup(layer_group, control, module_base_path, script_base_path, debug)
	g_Control = control
	g_LayerGroup = layer_group
	g_ModuleBasePath = module_base_path
	local error, info = Lua.TCall(String_JsonDecode, debug)
	local screen_width = System_GetScreenWidth()
	local screen_height = System_GetScreenHeight()
	local window_width = info.window_width
	local window_height = info.window_height
	local rate = 1.0
	if System_GetPlatform() ~= "Windows" then
		window_width = Math_Floor(screen_width / screen_height * window_height)
	else
		if window_width > screen_width or window_height > screen_height then
			rate = 0.5
		end
	end
	System_CreateView(info.title, window_width, window_height, ALittle.UIEnumTypes.VIEW_RESIZABLE, rate)
	local layer = DisplayLayout(g_Control)
	layer.width_type = UIEnumTypes.SIZE_MARGIN
	layer.height_type = UIEnumTypes.SIZE_MARGIN
	g_LayerGroup:AddChild(layer)
	g_Control:CreateControl(info.ui_name, nil, layer)
end

function PreLoadFile(ui_name, layer, result)
end

function __Module_Shutdown()
end

function __Module_GetInfo(control, base_path)
	local info = {}
	info.title = "UIViewer"
	info.icon = nil
	info.width_type = UIEnumTypes.SIZE_MARGIN
	info.width_value = 0
	info.height_type = UIEnumTypes.SIZE_MARGIN
	info.height_value = 0
	return info
end

function __Plugin_Setup(control, module_base_path, script_base_path, debug)
end

function __Plugin_Shutdown()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __byte = String_Byte
local __type = String_Type
ControlSystem = Lua.Class(nil, "ALittle.ControlSystem")

function ControlSystem:Ctor(module_name, crypt_mode)
	___rawset(self, "_font_map", {})
	___rawset(self, "_name_map_info", {})
	___rawset(self, "_name_map_info_cache", {})
	___rawset(self, "_module_name", module_name)
	___rawset(self, "_crypt_mode", crypt_mode or false)
	___rawset(self, "_base_path", "Module/" .. module_name .. "/")
	___rawset(self, "_ui_path", self._base_path .. "UI/")
	___rawset(self, "_font_path", self._base_path .. "Font/")
	___rawset(self, "_sound_path", self._base_path .. "Sound/")
	___rawset(self, "_other_path", self._base_path .. "Other/")
	___rawset(self, "_texture_mgr", TextureManager(module_name, self._crypt_mode))
	A_LoadTextureManager:RegisterTexmgrControl(self._texture_mgr)
end

function ControlSystem:RegisterFont(src, dst)
	self._font_map[src] = dst
end

function ControlSystem:RegisterInfoByHttp()
local ___COROUTINE = coroutine.running()
	local path = self._ui_path .. "../ui_all_in_one.json"
	ALittle.File_MakeDeepDir(ALittle.File_GetFilePathByPath(path))
	local error = ALittle.HttpDownloadRequest(self._host, Math_ToInt(self._port), path, path)
	if error ~= nil then
		ALittle.Error("ui load failed:" .. error)
		return
	end
	local content = JavaScript.File_LoadFile(path)
	if content == nil then
		ALittle.Error("ui load failed:" .. error)
		return
	end
	JavaScript.File_DeleteFile(path)
	local jerror, json = Lua.TCall(ALittle.String_JsonDecode, content)
	if jerror ~= nil then
		ALittle.Error("ui json decode failed:" .. jerror)
		return
	end
	for name, value in ___pairs(json) do
		self:RegisterInfo(name, value)
	end
	for name, value in ___pairs(json) do
		local info = self:CreateInfo(self._name_map_info[name])
		self._name_map_info[name] = info
		self._name_map_info_cache[name] = true
	end
end

function ControlSystem:RegisterInfo(name, info)
	self._name_map_info[name] = info
	self._name_map_info_cache[name] = nil
end

function ControlSystem:UnRegisterInfo(name)
	self._name_map_info[name] = nil
	self._name_map_info_cache[name] = nil
end

function ControlSystem:ClearAllInfo()
	self._name_map_info = {}
	self._name_map_info_cache = {}
end

function ControlSystem:CreateControlObject(info)
	local target_class = info.__target_class
	if target_class ~= nil then
		local class_func = info.__class_func
		if class_func == nil then
			class_func = _G
			for index, value in ___ipairs(target_class) do
				class_func = class_func[value]
				if class_func == nil then
					break
				end
			end
			info.__class_func = class_func
		end
		if class_func ~= nil then
			return class_func(self)
		else
			Log("unknow target class." .. String_Join(target_class, "."))
		end
	end
	local clazz = info.__class
	if clazz == nil then
		Log("__class is null")
		return nil
	end
	local class_func = info.__class_func
	if class_func == nil then
		class_func = ALittle[clazz]
		info.__class_func = class_func
	end
	if class_func == nil then
		Log("unknow class." .. clazz)
		return nil
	end
	return ALittle.NewObject(class_func, self)
end

function ControlSystem:StartChunk(file_path, loop, callback)
	return A_AudioSystem:StartChunk(self._sound_path .. file_path, loop, callback)
end

function ControlSystem:StopChunk(channel)
	A_AudioSystem:StopChunk(channel)
end

function ControlSystem:StartMusic(file_path, loop)
	return A_AudioSystem:StartMusic(self._sound_path .. file_path, loop)
end

function ControlSystem:StopMusic()
	A_AudioSystem:StopMusic()
end

function ControlSystem:SetTexture(object, name)
	self._texture_mgr:SetTexture(object, name)
end

function ControlSystem:PrepareTexture(ui_list, callback)
	local name_map = {}
	if ui_list ~= nil then
		for index, ui in ___ipairs(ui_list) do
			self:CollectTextureName(ui, name_map)
		end
	end
	self._texture_mgr:PrepareTexture(name_map, callback)
end

function ControlSystem:PrepareCsv(csv_map, callback)
	local new_csv_map = {}
	for file_path, config in ___pairs(csv_map) do
		new_csv_map[self._other_path .. file_path] = config
	end
	A_CsvConfigManager:PrepareCsv(new_csv_map, callback)
end

function ControlSystem.__setter:cache_texture(cache)
	self._texture_mgr.cache_texture = cache
end

function ControlSystem.__getter:cache_texture()
	return self._texture_mgr.cache_texture
end

function ControlSystem:SetFont(object, font_path, font_size)
	local dst = self._font_map[font_path]
	if dst == nil then
		dst = font_path
	end
	object.native_show:SetFont(self._font_path .. dst, font_size)
end

function ControlSystem:SaveControlToFile(control, file_path, scale)
	if control == nil then
		return false
	end
	if scale == nil then
		scale = 1
	end
	local texture = __CPPAPIRenderTexture()
	local x = control.x
	local y = control.y
	local width = control.width
	local height = control.height
	local visible = control.visible
	local clip = control.clip
	control.native_show:SetX(0)
	control.native_show:SetY(0)
	control.visible = true
	control.clip = false
	local result = texture:Save(file_path, control.native_show, Math_Floor(width), Math_Floor(height), scale)
	control.native_show:SetX(x)
	control.native_show:SetY(y)
	control.visible = visible
	control.clip = clip
	texture:Clear()
	return result
end

function ControlSystem:CreateControl(name, target_logic, parent)
	local info = self:LoadInfo(name)
	if info == nil then
		Log("can't find control name:" .. name)
		return nil
	end
	local object = self:CreateControlObject(info)
	if object == nil then
		return nil
	end
	object:Deserialize(info, target_logic, parent)
	return object
end

function ControlSystem:CollectTextureName(name, map)
	local info = self:LoadInfo(name)
	if info == nil then
		Log("can't find control name:" .. name)
		return nil
	end
	return self:CollectTextureNameImpl(info, map)
end

function ControlSystem:LoadInfo(name)
	if self._name_map_info_cache[name] then
		return self._name_map_info[name]
	end
	local info = self._name_map_info[name]
	if info == nil then
		local json = File_ReadJsonFromFile(self._ui_path .. name .. ".json", self._crypt_mode)
		if json == nil then
			return nil
		end
		for key, value in ___pairs(json) do
			self:RegisterInfo(key, value)
		end
	end
	info = self:CreateInfo(self._name_map_info[name])
	self._name_map_info[name] = info
	self._name_map_info_cache[name] = true
	return self._name_map_info[name]
end

function ControlSystem:CreateInfo(info)
	if info == nil then
		return nil
	end
	if info.__include ~= nil then
		return self:LoadInfo(info.__include)
	end
	local extendsv = info.__extends
	if extendsv ~= nil then
		if info.__extends_included ~= true then
			local control = self:LoadInfo(extendsv)
			if control == nil then
				Log("ControlSystem CreateInfo extends Failed:" .. extendsv)
				return nil
			end
			local copy = {}
			for key, value in ___pairs(control) do
				copy[key] = value
			end
			for key, value in ___pairs(info) do
				copy[key] = value
			end
			info = copy
			info.__extends_included = true
			info.__shows_included = nil
			info.__childs_included = nil
			info.__base_attr = nil
			info.__show_attr = nil
		end
	end
	if info.__shows_included ~= true then
		for key, value in ___pairs(info) do
			if __byte(key, 1) ~= 95 and __type(value) == "table" and (value.__include ~= nil or value.__extends ~= nil or value.__class ~= nil) then
				info[key] = self:CreateInfo(value)
			end
		end
		info.__shows_included = true
	end
	local childs = info.__childs
	if childs ~= nil then
		if info.__childs_included ~= true then
			for index, child in ___ipairs(childs) do
				childs[index] = self:CreateInfo(childs[index])
			end
			info.__childs_included = true
		end
	end
	return info
end

function ControlSystem:CollectTextureNameImpl(info, map)
	if map == nil then
		map = {}
	end
	local class_func = nil
	local target_class = info.__target_class
	if target_class ~= nil then
		class_func = _G
		for index, value in ___ipairs(target_class) do
			class_func = class_func[value]
			if class_func == nil then
				break
			end
		end
		if class_func == nil then
			Log("unknow target class." .. String_Join(target_class, "."))
		end
	end
	if class_func == nil then
		class_func = ALittle[info.__class]
	end
	if class_func == nil then
		Log("unknow class." .. info.__class)
		return map
	end
	local texture_name = info.texture_name
	if texture_name ~= nil and texture_name ~= "" then
		map[texture_name] = true
	end
	local info_t = info
	for key, value in ___pairs(info_t) do
		if __type(value) == "table" and value.__class ~= nil then
			self:CollectTextureNameImpl(value, map)
		end
	end
	local childs = info.__childs
	if childs ~= nil then
		for index, value in ___ipairs(childs) do
			self:CollectTextureNameImpl(value, map)
		end
	end
	return map
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IDisplayObject = Lua.Class(nil, "ALittle.IDisplayObject")

function IDisplayObject:SetX(value)
end

function IDisplayObject:SetY(value)
end

function IDisplayObject:SetScaleX(value)
end

function IDisplayObject:SetScaleY(value)
end

function IDisplayObject:SetCenterX(value)
end

function IDisplayObject:SetCenterY(value)
end

function IDisplayObject:SetAngle(value)
end

function IDisplayObject:SetRed(value)
end

function IDisplayObject:SetGreen(value)
end

function IDisplayObject:SetBlue(value)
end

function IDisplayObject:SetAlpha(value)
end

function IDisplayObject:SetClip(value)
end

function IDisplayObject:SetWidth(value)
end

function IDisplayObject:SetHeight(value)
end

function IDisplayObject:SetVisible(value)
end

function IDisplayObject:RemoveChild(value)
end

function IDisplayObject:AddChild(value)
end

function IDisplayObject:AddChildBefore(value1, value2)
end

function IDisplayObject:RemoveAllChild()
end

function IDisplayObject:SetFont(path, size)
end

function IDisplayObject:ClearTexture()
end

function IDisplayObject:SetTexture(texture)
end

function IDisplayObject:SetTextureCoord(t, b, l, r)
end

function IDisplayObject:SetFlip(value)
end

function IDisplayObject:SetRowColCount(row_count, col_count)
end

function IDisplayObject:SetRowColIndex(row, col)
end

function IDisplayObject:NeedDraw()
end

function IDisplayObject:SetText(value)
end

function IDisplayObject:SetBold(value)
end

function IDisplayObject:SetItalic(value)
end

function IDisplayObject:SetUnderline(value)
end

function IDisplayObject:SetDeleteline(value)
end

function IDisplayObject:SetOutline(value)
end

function IDisplayObject:GetRealWidth()
	return 0
end

function IDisplayObject:GetRealHeight()
	return 0
end

function IDisplayObject:GetFontHeight()
	return 0
end

function IDisplayObject:SetHAlign(value)
end

function IDisplayObject:SetVAlign(value)
end

function IDisplayObject:SetCursorAlpha(value)
end

function IDisplayObject:GetLineWidth(value)
	return 0
end

function IDisplayObject:GetLineCount()
	return 0
end

function IDisplayObject:GetScrollOffset()
	return 0
end

function IDisplayObject:IsDefaultText()
	return false
end

function IDisplayObject:SetDefaultText(defaultv, value)
end

function IDisplayObject:SetDefaultTextAlpha(value)
end

function IDisplayObject:GetCursorX()
	return 0
end

function IDisplayObject:GetCursorY()
	return 0
end

function IDisplayObject:GetText()
	return nil
end

function IDisplayObject:SetCursorToEnd()
end

function IDisplayObject:SetCursorToHome()
end

function IDisplayObject:ShowCursor(value)
end

function IDisplayObject:ClickCursor(x, y)
end

function IDisplayObject:ClickWordCursor(x, y)
	return false
end

function IDisplayObject:SelectAll()
end

function IDisplayObject:GetSelectText()
	return nil
end

function IDisplayObject:InsertText(value)
	return false
end

function IDisplayObject:CursorOffsetLR(value)
end

function IDisplayObject:SelectCursorOffsetLR(value)
end

function IDisplayObject:CursorOffsetUD(value)
end

function IDisplayObject:SelectCursorOffsetUD(value)
end

function IDisplayObject:DeleteText(value)
	return false
end

function IDisplayObject:DeleteSelectText()
	return false
end

function IDisplayObject:DragCursorBegin()
end

function IDisplayObject:DragCursor(x, y)
end

function IDisplayObject:SetCursorRed(value)
end

function IDisplayObject:SetCursorGreen(value)
end

function IDisplayObject:SetCursorBlue(value)
end

function IDisplayObject:SetPasswordMode(value)
end

function IDisplayObject:CursorOffset(value)
end

function IDisplayObject:SelectCursorOffset(value)
end

function IDisplayObject:SetTexUV(index, u, v)
end

function IDisplayObject:SetPosXY(index, x, y)
end

function IDisplayObject:SetLeftSize(value)
end

function IDisplayObject:SetRightSize(value)
end

function IDisplayObject:SetTopSize(value)
end

function IDisplayObject:SetBottomSize(value)
end

function IDisplayObject:CutTextByWidth(remain_width, text, total_width)
	return 0
end

function IDisplayObject:ClearCutWidthCache()
end

function IDisplayObject:GetCutWidthListCount()
	return 0
end

function IDisplayObject:GetCutWidthByIndex(index)
	return 0
end

function IDisplayObject:CalcTextWidth(value)
	return 0
end

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
IDisplayObjects = Lua.Class(ALittle.IDisplayObject, "ALittle.IDisplayObjects")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
IDisplayView = Lua.Class(ALittle.IDisplayObject, "ALittle.IDisplayView")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
IImage = Lua.Class(ALittle.IDisplayObject, "ALittle.IImage")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
IQuad = Lua.Class(ALittle.IDisplayObject, "ALittle.IQuad")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
ISprite = Lua.Class(ALittle.IDisplayObject, "ALittle.ISprite")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
IText = Lua.Class(ALittle.IDisplayObject, "ALittle.IText")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
ITextArea = Lua.Class(ALittle.IDisplayObject, "ALittle.ITextArea")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
ITextEdit = Lua.Class(ALittle.IDisplayObject, "ALittle.ITextEdit")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
ITextInput = Lua.Class(ALittle.IDisplayObject, "ALittle.ITextInput")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
ITriangle = Lua.Class(ALittle.IDisplayObject, "ALittle.ITriangle")

assert(ALittle.IDisplayObject, " extends class:ALittle.IDisplayObject is nil")
IGrid9Image = Lua.Class(ALittle.IDisplayObject, "ALittle.IGrid9Image")

IDisplaySystem = Lua.Class(nil, "ALittle.IDisplaySystem")

function IDisplaySystem:AddSpecialChild(value)
end

function IDisplaySystem:AddChild(value)
end

function IDisplaySystem:AddChildBefore(value1, value2)
end

function IDisplaySystem:RemoveChild(value)
end

function IDisplaySystem:RemoveAllChild()
end

ITexture = Lua.Class(nil, "ALittle.ITexture")

function ITexture:Clear()
end

function ITexture:GetTexture()
	return self
end

function ITexture:GetWidth()
	return 0
end

function ITexture:GetHeight()
	return 0
end

assert(ALittle.ITexture, " extends class:ALittle.ITexture is nil")
IRenderTexture = Lua.Class(ALittle.ITexture, "ALittle.IRenderTexture")

function IRenderTexture:Save(file_path, show, width, height, scale)
	return false
end

function IRenderTexture:Draw(show, width, height, scale)
	return false
end

ITextureLoader = Lua.Class(nil, "ALittle.ITextureLoader")

function ITextureLoader:SetPath(big_path, altas, big_width, big_height, crypt_mode)
end

function ITextureLoader:Start()
end

function ITextureLoader:GetID()
	return 0
end

function ITextureLoader:GetPath()
	return nil
end

ITextureCutLoader = Lua.Class(nil, "ALittle.ITextureCutLoader")

function ITextureCutLoader:SetPath(path, max_width, max_height)
end

function ITextureCutLoader:Start()
end

function ITextureCutLoader:GetID()
	return 0
end

function ITextureCutLoader:GetPath()
	return nil
end

function ITextureCutLoader:GetMaxWidth()
	return 0
end

function ITextureCutLoader:GetMaxHeight()
	return 0
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


LayerManager = Lua.Class(nil, "ALittle.LayerManager")

function LayerManager:Ctor()
	___rawset(self, "_normal_groups", {})
	___rawset(self, "_normal_group_count", 0)
	___rawset(self, "_modal_layer", DisplayLayout(nil))
	__CPPAPI_DisplaySystem:AddSpecialChild(self._modal_layer.native_show)
	___rawset(self, "_right_layer", DisplayLayout(nil))
	___rawset(self, "_right_show", nil)
	__CPPAPI_DisplaySystem:AddSpecialChild(self._right_layer.native_show)
	___rawset(self, "_tip_layer", DisplayLayout(nil))
	self._tip_layer.disabled = true
	__CPPAPI_DisplaySystem:AddSpecialChild(self._tip_layer.native_show)
end

function LayerManager:Shutdown()
	__CPPAPI_DisplaySystem:RemoveAllChild()
end

function LayerManager.__getter:group_count()
	return self._normal_group_count
end

function LayerManager:AddChild(child, index)
	if child == nil then
		return
	end
	if index == nil or index > self._normal_group_count or self._normal_group_count < 1 then
		self._normal_group_count = self._normal_group_count + 1
		self._normal_groups[self._normal_group_count] = child
		__CPPAPI_DisplaySystem:AddChild(child.native_show)
	else
		if index < 1 then
			index = 1
		end
		local back_child = self._normal_groups[index]
		__CPPAPI_DisplaySystem:AddChildBefore(back_child.native_show, child.native_show)
		List_Insert(self._normal_groups, index, child)
		self._normal_group_count = self._normal_group_count + 1
	end
	child.width = A_UISystem.view_width
	child.height = A_UISystem.view_height
end

function LayerManager:RemoveChild(child)
	if child == nil then
		return
	end
	local has_layer = false
	for index, value in ___ipairs(self._normal_groups) do
		if value == child then
			List_Remove(self._normal_groups, index)
			has_layer = true
			break
		end
	end
	if has_layer == false then
		return
	end
	__CPPAPI_DisplaySystem:RemoveChild(child.native_show)
	self._normal_group_count = self._normal_group_count - 1
end

function LayerManager:HandleViewResized(width, height)
	for group_index, group in ___ipairs(self._normal_groups) do
		group.width = width
		group.height = height
	end
	self._modal_layer.width = width
	self._modal_layer.height = height
	self._right_layer.width = width
	self._right_layer.height = height
	self._tip_layer.width = width
	self._tip_layer.height = height
	self:HideCurrentFromRight()
end

function LayerManager:AddToModal(dialog, index)
	if dialog == nil then
		return
	end
	dialog.x_type = UIEnumTypes.POS_ALIGN_CENTER
	dialog.x_value = 0
	dialog.y_type = UIEnumTypes.POS_ALIGN_CENTER
	dialog.y_value = 0
	dialog.modal = true
	dialog.visible = false
	self._modal_layer:AddChild(dialog, index)
end

function LayerManager:RemoveFromModal(dialog)
	if dialog == nil then
		return
	end
	dialog.modal = false
	dialog.visible = true
	self._modal_layer:RemoveChild(dialog)
end

function LayerManager:ShowFromRight(dialog, focus)
	if focus == nil then
		focus = true
	end
	if self._right_show == dialog then
		return
	end
	if self._right_show ~= nil then
		self._right_show:DispatchEvent(___all_struct[348388800], {})
		self._right_layer:RemoveChild(self._right_show)
		self._right_show = nil
	end
	self._right_show = dialog
	if self._right_show ~= nil then
		self._right_layer:AddChild(self._right_show)
		if focus then
			self._right_show.focus = true
		end
		dialog:DispatchEvent(___all_struct[1862557463], {})
		dialog.visible = true
	end
end

function LayerManager:HideFromRight(dialog)
	if self._right_show ~= dialog then
		return
	end
	if self._right_show == nil then
		return
	end
	self._right_show:DispatchEvent(___all_struct[348388800], {})
	self._right_layer:RemoveChild(self._right_show)
	self._right_show.focus = false
	self._right_show = nil
end

function LayerManager:HideCurrentFromRight()
	if self._right_show == nil then
		return false
	end
	self:HideFromRight(self._right_show)
	return true
end

function LayerManager:IsCurrentRight(dialog)
	return self._right_show == dialog
end

function LayerManager:AddToTip(dialog)
	self._tip_layer:AddChild(dialog)
end

function LayerManager:RemoveFromTip(dialog)
	self._tip_layer:RemoveChild(dialog)
end

function LayerManager:PickUp(x, y)
	local mfc_rel_x
	local mfc_rel_y
	local mfc
	local mfd
	mfc, mfc_rel_x, mfc_rel_y = self._right_layer:PickUp(x, y)
	if mfc ~= nil then
		return mfc, nil, mfc_rel_x, mfc_rel_y
	end
	mfc, mfc_rel_x, mfc_rel_y = self._modal_layer:PickUp(x, y)
	if mfc ~= nil then
		return mfc, nil, mfc_rel_x, mfc_rel_y
	end
	local normal_groups = self._normal_groups
	local group_index = self._normal_group_count
	while true do
		if not(group_index > 0) then break end
		local normal_layers = normal_groups[group_index]
		local layer_list = normal_layers.childs
		local layer_index = normal_layers.child_count
		while true do
			if not(layer_index > 0) then break end
			local layer = layer_list[layer_index]
			mfc, mfd, mfc_rel_x, mfc_rel_y = self:LayerPickup(layer, x, y)
			if mfc ~= nil then
				return mfc, mfd, mfc_rel_x, mfc_rel_y
			end
			layer_index = layer_index+(-1)
		end
		group_index = group_index+(-1)
	end
	return nil, nil, nil, nil
end

function LayerManager:LayerPickup(layer, x, y)
	local mfc_rel_x
	local mfc_rel_y
	local mfc
	local mfd
	if layer.visible and layer.disabled == false and layer.childs ~= nil then
		local rel_x = x - layer.x
		local rel_y = y - layer.y
		local child_list = layer.childs
		local index = layer.child_count
		while true do
			if not(index > 0) then break end
			local dialog = child_list[index]
			mfc, mfc_rel_x, mfc_rel_y = dialog:PickUp(rel_x, rel_y)
			if mfc ~= nil then
				mfd = dialog
				break
			end
			index = index+(-1)
		end
	end
	return mfc, mfd, mfc_rel_x, mfc_rel_y
end

function LayerManager:HandleLRButtonDown(x, y)
	if self._right_show == nil then
		return
	end
	local left, top = self._right_show:LocalToGlobal()
	local right = self._right_show.width * self._right_show.scale_x + left
	local bottom = self._right_show.height * self._right_show.scale_y + top
	if x >= left and x < right and y >= top and y < bottom then
		return
	end
	local link_control = self._right_show.__right_data
	if link_control ~= nil then
		local abs_x, abs_y = link_control:LocalToGlobal()
		if x >= abs_x and x < abs_x + link_control.width * link_control.scale_x and y >= abs_y and y < abs_y + link_control.height * link_control.scale_y then
			return
		end
	end
	self._right_show:DispatchEvent(___all_struct[348388800], {})
	self._right_show.visible = false
	self._right_show = nil
end

_G.A_LayerManager = LayerManager()

module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(1266404893, "ALittle.LoadTextureInfo", {
name = "ALittle.LoadTextureInfo", ns_name = "ALittle", rl_name = "LoadTextureInfo", hash_code = 1266404893,
name_list = {"loader","cut_loader","texture_mgr"},
type_list = {"ALittle.ITextureLoader","ALittle.ITextureCutLoader","ALittle.TextureManager"},
option_map = {}
})
RegStruct(1002517605, "ALittle.LoadingTextureObjectInfo", {
name = "ALittle.LoadingTextureObjectInfo", ns_name = "ALittle", rl_name = "LoadingTextureObjectInfo", hash_code = 1002517605,
name_list = {"callback"},
type_list = {"Functor<(ALittle.DisplayObject,bool)>"},
option_map = {}
})
RegStruct(1754262532, "ALittle.LoadingTextureInfo", {
name = "ALittle.LoadingTextureInfo", ns_name = "ALittle", rl_name = "LoadingTextureInfo", hash_code = 1754262532,
name_list = {"cache","object_map"},
type_list = {"bool","Map<ALittle.DisplayObject,ALittle.LoadingTextureObjectInfo>"},
option_map = {}
})
RegStruct(1812223610, "ALittle.LoadAtlasInfo", {
name = "ALittle.LoadAtlasInfo", ns_name = "ALittle", rl_name = "LoadAtlasInfo", hash_code = 1812223610,
name_list = {"big_path","atlas","big_width","big_height"},
type_list = {"string","List<string>","int","int"},
option_map = {}
})
RegStruct(-1815508639, "ALittle.TextureCutInfo", {
name = "ALittle.TextureCutInfo", ns_name = "ALittle", rl_name = "TextureCutInfo", hash_code = -1815508639,
name_list = {"texture_name","max_width","max_height","cache"},
type_list = {"string","int","int","bool"},
option_map = {}
})
RegStruct(-451991995, "ALittle.AltasTextureInfo", {
name = "ALittle.AltasTextureInfo", ns_name = "ALittle", rl_name = "AltasTextureInfo", hash_code = -451991995,
name_list = {"width","height","path"},
type_list = {"int","int","string"},
option_map = {}
})
RegStruct(1390702448, "ALittle.AltasCollectInfo", {
name = "ALittle.AltasCollectInfo", ns_name = "ALittle", rl_name = "AltasCollectInfo", hash_code = 1390702448,
name_list = {"count","list"},
type_list = {"int","List<List<any>>"},
option_map = {}
})
RegStruct(1305876767, "ALittle.PrepareInfo", {
name = "ALittle.PrepareInfo", ns_name = "ALittle", rl_name = "PrepareInfo", hash_code = 1305876767,
name_list = {"total","succeed","failed","map","callback"},
type_list = {"int","int","int","Map<string,bool>","Functor<(int,int,int)>"},
option_map = {}
})
RegStruct(-60039899, "ALittle.AltasInfo", {
name = "ALittle.AltasInfo", ns_name = "ALittle", rl_name = "AltasInfo", hash_code = -60039899,
name_list = {"big_path","atlas","big_width","big_height","t","b","l","r"},
type_list = {"string","List<string>","int","int","double","double","double","double"},
option_map = {}
})

LoadTextureManager = Lua.Class(nil, "ALittle.LoadTextureManager")

function LoadTextureManager:Ctor()
	___rawset(self, "_id_map_info", {})
	___rawset(self, "_path_map_texture_cut", CreateValueWeakMap())
	___rawset(self, "_path_map_objects_cut", {})
	___rawset(self, "_redraw_map_redraw", CreateKeyWeakMap())
	___rawset(self, "_texmgr_map_texmgr", CreateKeyWeakMap())
end

function LoadTextureManager:CreateTexture(texture_mgr, atlas)
	local loader
	loader = __CPPAPITextureLoader()
	loader:SetPath(atlas.big_path, String_Join(atlas.atlas, ";"), atlas.big_width, atlas.big_height, texture_mgr.crypt_mode)
	local info = {}
	self._id_map_info[loader:GetID()] = info
	info.texture_mgr = texture_mgr
	info.loader = loader
	loader:Start()
end

function LoadTextureManager:HandleTextureLoadSucceed(loader, texture)
	local loader_id = loader:GetID()
	local info = self._id_map_info[loader_id]
	if info == nil then
		return
	end
	self._id_map_info[loader_id] = nil
	info.texture_mgr:HandleTextureLoadSucceed(loader, texture)
end

function LoadTextureManager:HandleTextureLoadFailed(loader)
	local loader_id = loader:GetID()
	local info = self._id_map_info[loader_id]
	if info == nil then
		return
	end
	self._id_map_info[loader_id] = nil
	info.texture_mgr:HandleTextureLoadFailed(loader)
end

function LoadTextureManager:GetTextureCut(path, max_width, max_height)
	local texture_id = path .. "_" .. max_width .. "_" .. max_height
	return self._path_map_texture_cut[texture_id]
end

function LoadTextureManager:ClearTextureCut(path, max_width, max_height)
	local texture_id = path .. "_" .. max_width .. "_" .. max_height
	self._path_map_texture_cut[texture_id] = nil
end

function LoadTextureManager:IsLoadingTextureCut(path, max_width, max_height)
	local texture_id = path .. "_" .. max_width .. "_" .. max_height
	return self._path_map_objects_cut[texture_id] ~= nil
end

function LoadTextureManager:SetTextureCut(object, path, max_width, max_height, cache, callback)
	object:SetTextureCoord(0, 1, 0, 1)
	if max_width == nil then
		max_width = 0
	end
	max_width = Math_Floor(max_width)
	if max_height == nil then
		max_height = 0
	end
	max_height = Math_Floor(max_height)
	if cache == nil then
		cache = false
	end
	local texture_id = path .. "_" .. max_width .. "_" .. max_height
	local texture = self._path_map_texture_cut[texture_id]
	if texture ~= nil then
		object.texture = texture
		if callback ~= nil then
			callback(object, true)
		end
		return
	end
	local loading_info = self._path_map_objects_cut[texture_id]
	if loading_info ~= nil then
		local object_info = {}
		object_info.callback = callback
		loading_info.object_map[object] = object_info
		return
	end
	loading_info = {}
	loading_info.cache = cache
	self._path_map_objects_cut[texture_id] = loading_info
	loading_info.object_map = CreateKeyWeakMap()
	local object_info = {}
	object_info.callback = callback
	loading_info.object_map[object] = object_info
	local loader
	loader = __CPPAPITextureCutLoader()
	loader:SetPath(path, max_width, max_height)
	local info = {}
	self._id_map_info[loader:GetID()] = info
	info.cut_loader = loader
	loader:Start()
end

function LoadTextureManager:HandleTextureCutLoadSucceed(loader, texture)
	local loader_id = loader:GetID()
	local info = self._id_map_info[loader_id]
	if info == nil then
		return
	end
	self._id_map_info[loader_id] = nil
	local texture_wrap = __CPPAPITextureWrap()
	texture_wrap:SetTexture(texture)
	texture = texture_wrap
	local path = loader:GetPath()
	local max_width = loader:GetMaxWidth()
	local max_height = loader:GetMaxHeight()
	local texture_id = path .. "_" .. max_width .. "_" .. max_height
	local loading_info = self._path_map_objects_cut[texture_id]
	if loading_info == nil then
		return
	end
	if loading_info.cache then
		self._path_map_texture_cut[texture_id] = texture
	end
	for object, value in ___pairs(loading_info.object_map) do
		if object.texture_name == path then
			object.texture = texture
			if value.callback ~= nil then
				value.callback(object, true)
			end
		end
	end
	self._path_map_objects_cut[texture_id] = nil
end

function LoadTextureManager:HandleTextureCutLoadFailed(loader)
	local loader_id = loader:GetID()
	local info = self._id_map_info[loader_id]
	if info == nil then
		return
	end
	self._id_map_info[loader_id] = nil
	local path = loader:GetPath()
	local max_width = loader:GetMaxWidth()
	local max_height = loader:GetMaxHeight()
	local texture_id = path .. "_" .. max_width .. "_" .. max_height
	local loading_info = self._path_map_objects_cut[texture_id]
	if loading_info == nil then
		return
	end
	for object, value in ___pairs(loading_info.object_map) do
		if value.callback ~= nil then
			value.callback(object, false)
		end
	end
	self._path_map_objects_cut[texture_id] = nil
end

function LoadTextureManager:RegisterRedrawControl(control)
	self._redraw_map_redraw[control] = true
end

function LoadTextureManager:RegisterTexmgrControl(control)
	self._texmgr_map_texmgr[control] = nil
end

function LoadTextureManager:HandleRenderDeviceReset()
	self._path_map_texture_cut = CreateValueWeakMap()
	for texmgr, _ in ___pairs(self._texmgr_map_texmgr) do
		texmgr:ClearCache()
	end
	for control, _ in ___pairs(self._redraw_map_redraw) do
		control:Redraw()
	end
end

_G.A_LoadTextureManager = LoadTextureManager()
AltasBinary = Lua.Class(nil, "ALittle.AltasBinary")

function AltasBinary:Ctor(x, y, width, height)
	___rawset(self, "_width", width)
	___rawset(self, "_height", height)
	___rawset(self, "_x", x)
	___rawset(self, "_y", y)
	___rawset(self, "_texture_x", nil)
	___rawset(self, "_texture_y", nil)
	___rawset(self, "_texture_w", nil)
	___rawset(self, "_texture_h", nil)
	___rawset(self, "_texture_path", nil)
	___rawset(self, "_left", nil)
	___rawset(self, "_right", nil)
end

function AltasBinary:Fill(texture_info, padding)
	if self._left ~= nil then
		if self._left:Fill(texture_info, padding) then
			return true
		end
	end
	if self._right ~= nil then
		if self._right:Fill(texture_info, padding) then
			return true
		end
	end
	if self._texture_path == nil then
		local real_width = texture_info.width + padding * 2
		local real_height = texture_info.height + padding * 2
		if real_width > self._width then
			return false
		end
		if real_height > self._height then
			return false
		end
		self._texture_w = texture_info.width
		self._texture_h = texture_info.height
		self._texture_x = self._x + padding
		self._texture_y = self._y + padding
		self._texture_path = texture_info.path
		self._left = AltasBinary(self._x + real_width, self._y, self._width - real_width, real_height)
		self._right = AltasBinary(self._x, self._y + real_height, self._width, self._height - real_height)
		return true
	end
	return false
end

function AltasBinary:GetInfo(list_info)
	if list_info == nil then
		list_info = {}
		list_info.count = 0
		list_info.list = {}
	end
	if self._texture_path ~= nil then
		local info = {}
		info[1] = self._texture_path
		info[2] = self._texture_x
		info[3] = self._texture_y
		info[4] = self._texture_w
		info[5] = self._texture_h
		list_info.count = list_info.count + 1
		list_info.list[list_info.count] = info
	end
	if self._left ~= nil then
		self._left:GetInfo(list_info)
	end
	if self._right ~= nil then
		self._right:GetInfo(list_info)
	end
	return list_info.list
end

function AltasBinary.TextureListComp(a, b)
	if a.height > b.height then
		return true
	elseif a.height == b.height then
		if a.width > b.width then
			return true
		elseif a.width == b.width then
			if a.path > b.path then
				return true
			end
		end
	end
	return false
end

function AltasBinary.GenerateAltas(texture_list, max_width, max_height, padding)
	List_Sort(texture_list, AltasBinary.TextureListComp)
	local big_list = {}
	local big_list_count = 0
	big_list_count = big_list_count + 1
	big_list[big_list_count] = max_width
	big_list_count = big_list_count + 1
	big_list[big_list_count] = max_height
	while true do
		local altas = AltasBinary(0, 0, max_width, max_height)
		local left_list = {}
		local left_list_count = 0
		for index, texture_info in ___ipairs(texture_list) do
			local real_width = texture_info.width + padding * 2
			local real_height = texture_info.height + padding * 2
			if real_width <= max_width and real_height <= max_height then
				if altas:Fill(texture_info, padding) ~= true then
					left_list_count = left_list_count + 1
					left_list[left_list_count] = texture_info
				end
			end
		end
		local list = altas:GetInfo()
		if list[2] ~= nil then
			big_list_count = big_list_count + 1
			big_list[big_list_count] = list
		end
		texture_list = left_list
		if texture_list[1] == nil then
			break
		end
	end
	return big_list
end

TextureManager = Lua.Class(nil, "ALittle.TextureManager")

function TextureManager:Ctor(module_name, crypt_mode)
	___rawset(self, "_cache_texture", true)
	___rawset(self, "_base_path", "Module/" .. module_name .. "/Texture/")
	___rawset(self, "_crypt_mode", crypt_mode or false)
	___rawset(self, "_path_map_texture", CreateValueWeakMap())
	___rawset(self, "_prepare_map", {})
	___rawset(self, "_path_map_objects", {})
	self:LoadAtlas()
end

function TextureManager:LoadAtlas()
	self._name_map_atlas = {}
	if not self._crypt_mode then
		return
	end
	local big_list = File_ReadJsonFromFile(self._base_path .. "Atlas.ali", self._crypt_mode)
	if big_list == nil then
		return
	end
	local big_list_count = List_MaxN(big_list)
	if big_list_count < 2 then
		return
	end
	local texture_width = big_list[1]
	local texture_height = big_list[2]
	local index = 3
	while true do
		if not(index <= big_list_count) then break end
		local list = big_list[index]
		local big_path = index .. ".atlas"
		local info = {}
		local info_count = 0
		for index, value in ___ipairs(list) do
			local path = value[1]
			local x = value[2]
			local y = value[3]
			local w = value[4]
			local h = value[5]
			local atlas = {}
			atlas.big_path = big_path
			atlas.t = y / texture_height
			atlas.b = (y + h) / texture_height
			atlas.l = x / texture_width
			atlas.r = (x + w) / texture_width
			atlas.big_width = texture_width
			atlas.big_height = texture_height
			atlas.atlas = info
			self._name_map_atlas[path] = atlas
			info_count = info_count + 1
			info[info_count] = self._base_path .. path .. "," .. y .. "," .. (y + h) .. "," .. x .. "," .. (x + w) .. "," .. w .. "," .. h
		end
		index = index+(1)
	end
end

function TextureManager:GetAtlas(name)
	local atlas = self._name_map_atlas[name]
	if atlas ~= nil then
		return atlas
	end
	atlas = {}
	self._name_map_atlas[name] = atlas
	atlas.big_path = name
	atlas.t = 0
	atlas.b = 1
	atlas.l = 0
	atlas.r = 1
	atlas.big_width = 0
	atlas.big_height = 0
	atlas.atlas = {}
	atlas.atlas[1] = self._base_path .. name .. ",0,0,0,0,0,0"
	return atlas
end

function TextureManager.__setter:cache_texture(cache)
	self._cache_texture = cache
end

function TextureManager.__getter:cache_texture()
	return self._cache_texture
end

function TextureManager.__getter:crypt_mode()
	return self._crypt_mode
end

function TextureManager:ClearCache()
	self._path_map_texture = CreateValueWeakMap()
	self._prepare_map = {}
end

function TextureManager:PrepareTexture(name_map, callback)
	local new_name_map = {}
	for name, value in ___pairs(name_map) do
		local atlas = self:GetAtlas(name)
		if new_name_map[atlas.big_path] == nil then
			local texture = self._path_map_texture[atlas.big_path]
			if texture == nil then
				local loading_map = self._path_map_objects[atlas.big_path]
				if loading_map == nil then
					loading_map = CreateKeyWeakMap()
					self._path_map_objects[atlas.big_path] = loading_map
				end
				A_LoadTextureManager:CreateTexture(self, atlas)
				new_name_map[atlas.big_path] = false
			else
				new_name_map[atlas.big_path] = true
			end
		end
	end
	local prepare_info = {}
	prepare_info.total = 0
	prepare_info.succeed = 0
	prepare_info.failed = 0
	prepare_info.map = new_name_map
	prepare_info.callback = callback
	for name, value in ___pairs(new_name_map) do
		prepare_info.total = prepare_info.total + 1
		if value then
			prepare_info.succeed = prepare_info.succeed + 1
		end
	end
	if prepare_info.total > prepare_info.succeed + prepare_info.failed then
		self._prepare_map[prepare_info] = true
	end
	if callback ~= nil then
		callback(prepare_info.total, prepare_info.succeed, prepare_info.failed)
	end
end

function TextureManager:SetTexture(object, name)
	local atlas = self:GetAtlas(name)
	object:SetTextureCoord(atlas.t, atlas.b, atlas.l, atlas.r)
	local texture = self._path_map_texture[atlas.big_path]
	if texture ~= nil then
		object.texture = texture
		return
	end
	local loading_map = self._path_map_objects[atlas.big_path]
	if loading_map ~= nil then
		loading_map[object] = name
		return
	end
	loading_map = CreateKeyWeakMap()
	self._path_map_objects[atlas.big_path] = loading_map
	loading_map[object] = name
	A_LoadTextureManager:CreateTexture(self, atlas)
end

function TextureManager:HandleTextureLoadSucceed(loader, texture)
	local texture_wrap = __CPPAPITextureWrap()
	texture_wrap:SetTexture(texture)
	texture = texture_wrap
	local path = loader:GetPath()
	local loading_map = self._path_map_objects[path]
	if loading_map ~= nil then
		if self._cache_texture then
			self._path_map_texture[path] = texture
		end
		for k, v in ___pairs(loading_map) do
			if k.texture_name == v then
				k.texture = texture
			end
		end
		self._path_map_objects[path] = nil
	end
	local copy_map = {}
	for k, v in ___pairs(self._prepare_map) do
		copy_map[k] = v
	end
	local erase_map = {}
	for info, v in ___pairs(copy_map) do
		if info.map[path] == false then
			info.succeed = info.succeed + 1
			info.map[path] = true
			if info.callback ~= nil then
				info.callback(info.total, info.succeed, info.failed)
			end
			if info.total <= info.succeed + info.failed then
				erase_map[info] = true
			end
		end
	end
	for info, v in ___pairs(erase_map) do
		self._prepare_map[info] = nil
	end
end

function TextureManager:HandleTextureLoadFailed(loader)
	local path = loader:GetPath()
	self._path_map_objects[path] = nil
	local erase_map = {}
	for info, v in ___pairs(self._prepare_map) do
		if info.map[path] == false then
			info.failed = info.failed + 1
			info.map[path] = true
			if info.callback ~= nil then
				info.callback(info.total, info.succeed, info.failed)
			end
			if info.total <= info.succeed + info.failed then
				erase_map[info] = true
			end
		end
	end
	for info, v in ___pairs(erase_map) do
		self._prepare_map[info] = nil
	end
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


UIEnumTypes = {
	FLIP_NONE = 0,
	FLIP_H = 1,
	FLIP_V = 2,
	FLIP_HV = 3,
	POS_ABS = 1,
	POS_ALIGN_STARTING = 2,
	POS_ALIGN_CENTER = 3,
	POS_ALIGN_ENDING = 4,
	POS_PERCENT_STARTING = 7,
	POS_PERCENT_CENTER = 8,
	POS_PERCENT_ENDING = 9,
	SIZE_ABS = 1,
	SIZE_PERCENT = 2,
	SIZE_MARGIN = 4,
	HALIGN_LEFT = 0,
	HALIGN_CENTER = 1,
	HALIGN_RIGHT = 2,
	VALIGN_TOP = 0,
	VALIGN_CENTER = 1,
	VALIGN_BOTTOM = 2,
	TYPE_H = 1,
	TYPE_V = 2,
	DIR_UP = 1,
	DIR_DOWN = 2,
	DIR_LEFT = 3,
	DIR_RIGHT = 4,
	FREE = 1,
	FIXED = 2,
	KMOD_NONE = 0x0000,
	KMOD_LSHIFT = 0x0001,
	KMOD_RSHIFT = 0x0002,
	KMOD_LCTRL = 0x0040,
	KMOD_RCTRL = 0x0080,
	KMOD_LALT = 0x0100,
	KMOD_RALT = 0x0200,
	KMOD_LGUI = 0x0400,
	KMOD_RGUI = 0x0800,
	KMOD_NUM = 0x1000,
	KMOD_CAPS = 0x2000,
	KMOD_MODE = 0x4000,
	KMOD_RESERVED = 0x8000,
	KMOD_CTRL = 0x00c0,
	KMOD_SHIFT = 0x0003,
	KMOD_ALT = 0x0300,
	KMOD_GUI = 0x0c00,
	VIEW_FULLSCREEN = 0x00000001,
	VIEW_OPENGL = 0x00000002,
	VIEW_SHOWN = 0x00000004,
	VIEW_HIDDEN = 0x00000008,
	VIEW_BORDERLESS = 0x00000010,
	VIEW_RESIZABLE = 0x00000020,
	VIEW_MINIMIZED = 0x00000040,
	VIEW_MAXIMIZED = 0x00000080,
	VIEW_INPUT_GRABBED = 0x00000100,
	VIEW_INPUT_FOCUS = 0x00000200,
	VIEW_MOUSE_FOCUS = 0x00000400,
	VIEW_FULLSCREEN_DESKTOP = 0x00001001,
	VIEW_FOREIGN = 0x00000800,
	VIEW_ALLOW_HIGHDPI = 0x00002000,
	VIEW_MOUSE_CAPTURE = 0x00004000,
	VIEW_SHAPED_WINDOW = 0x10000000,
}


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(-1479093282, "ALittle.UIEvent", {
name = "ALittle.UIEvent", ns_name = "ALittle", rl_name = "UIEvent", hash_code = -1479093282,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(292776509, "ALittle.UIFocusOutEvent", {
name = "ALittle.UIFocusOutEvent", ns_name = "ALittle", rl_name = "UIFocusOutEvent", hash_code = 292776509,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-644464135, "ALittle.UIFocusInEvent", {
name = "ALittle.UIFocusInEvent", ns_name = "ALittle", rl_name = "UIFocusInEvent", hash_code = -644464135,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-1202439334, "ALittle.UIMoveOutEvent", {
name = "ALittle.UIMoveOutEvent", ns_name = "ALittle", rl_name = "UIMoveOutEvent", hash_code = -1202439334,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(544684311, "ALittle.UIMoveInEvent", {
name = "ALittle.UIMoveInEvent", ns_name = "ALittle", rl_name = "UIMoveInEvent", hash_code = 544684311,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(348388800, "ALittle.UIHideEvent", {
name = "ALittle.UIHideEvent", ns_name = "ALittle", rl_name = "UIHideEvent", hash_code = 348388800,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1862557463, "ALittle.UIShowEvent", {
name = "ALittle.UIShowEvent", ns_name = "ALittle", rl_name = "UIShowEvent", hash_code = 1862557463,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(958494922, "ALittle.UIChangedEvent", {
name = "ALittle.UIChangedEvent", ns_name = "ALittle", rl_name = "UIChangedEvent", hash_code = 958494922,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1309977874, "ALittle.UIChangedEndEvent", {
name = "ALittle.UIChangedEndEvent", ns_name = "ALittle", rl_name = "UIChangedEndEvent", hash_code = 1309977874,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(444989011, "ALittle.UISelectChangedEvent", {
name = "ALittle.UISelectChangedEvent", ns_name = "ALittle", rl_name = "UISelectChangedEvent", hash_code = 444989011,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-431205740, "ALittle.UIResizeEvent", {
name = "ALittle.UIResizeEvent", ns_name = "ALittle", rl_name = "UIResizeEvent", hash_code = -431205740,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(2024735182, "ALittle.UITabKeyEvent", {
name = "ALittle.UITabKeyEvent", ns_name = "ALittle", rl_name = "UITabKeyEvent", hash_code = 2024735182,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(776398171, "ALittle.UIEnterKeyEvent", {
name = "ALittle.UIEnterKeyEvent", ns_name = "ALittle", rl_name = "UIEnterKeyEvent", hash_code = 776398171,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1816229739, "ALittle.UIAtKeyEvent", {
name = "ALittle.UIAtKeyEvent", ns_name = "ALittle", rl_name = "UIAtKeyEvent", hash_code = 1816229739,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(809518110, "ALittle.UIDragUpEvent", {
name = "ALittle.UIDragUpEvent", ns_name = "ALittle", rl_name = "UIDragUpEvent", hash_code = 809518110,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1848466169, "ALittle.UIDragDownEvent", {
name = "ALittle.UIDragDownEvent", ns_name = "ALittle", rl_name = "UIDragDownEvent", hash_code = 1848466169,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-567702959, "ALittle.UIDragLeftEvent", {
name = "ALittle.UIDragLeftEvent", ns_name = "ALittle", rl_name = "UIDragLeftEvent", hash_code = -567702959,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-839083637, "ALittle.UIDragRightEvent", {
name = "ALittle.UIDragRightEvent", ns_name = "ALittle", rl_name = "UIDragRightEvent", hash_code = -839083637,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1337289812, "ALittle.UIButtonDragEvent", {
name = "ALittle.UIButtonDragEvent", ns_name = "ALittle", rl_name = "UIButtonDragEvent", hash_code = 1337289812,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double"},
option_map = {}
})
RegStruct(1301789264, "ALittle.UIButtonDragBeginEvent", {
name = "ALittle.UIButtonDragBeginEvent", ns_name = "ALittle", rl_name = "UIButtonDragBeginEvent", hash_code = 1301789264,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double"},
option_map = {}
})
RegStruct(150587926, "ALittle.UIButtonDragEndEvent", {
name = "ALittle.UIButtonDragEndEvent", ns_name = "ALittle", rl_name = "UIButtonDragEndEvent", hash_code = 150587926,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double"},
option_map = {}
})
RegStruct(-51419723, "ALittle.UIFingerDragEvent", {
name = "ALittle.UIFingerDragEvent", ns_name = "ALittle", rl_name = "UIFingerDragEvent", hash_code = -51419723,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y","finger_key","is_sfc"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double","string","bool"},
option_map = {}
})
RegStruct(1598008698, "ALittle.UIFingerDragBeginEvent", {
name = "ALittle.UIFingerDragBeginEvent", ns_name = "ALittle", rl_name = "UIFingerDragBeginEvent", hash_code = 1598008698,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y","finger_key","is_sfc"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double","string","bool"},
option_map = {}
})
RegStruct(-2050069067, "ALittle.UIFingerDragEndEvent", {
name = "ALittle.UIFingerDragEndEvent", ns_name = "ALittle", rl_name = "UIFingerDragEndEvent", hash_code = -2050069067,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y","finger_key","is_sfc"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double","string","bool"},
option_map = {}
})
RegStruct(1354499457, "ALittle.UIDropEvent", {
name = "ALittle.UIDropEvent", ns_name = "ALittle", rl_name = "UIDropEvent", hash_code = 1354499457,
name_list = {"target","drop_target"},
type_list = {"ALittle.DisplayObject","ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-1347278145, "ALittle.UIButtonEvent", {
name = "ALittle.UIButtonEvent", ns_name = "ALittle", rl_name = "UIButtonEvent", hash_code = -1347278145,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(-439548260, "ALittle.UILongButtonDownEvent", {
name = "ALittle.UILongButtonDownEvent", ns_name = "ALittle", rl_name = "UILongButtonDownEvent", hash_code = -439548260,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(1883782801, "ALittle.UILButtonDownEvent", {
name = "ALittle.UILButtonDownEvent", ns_name = "ALittle", rl_name = "UILButtonDownEvent", hash_code = 1883782801,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(40651933, "ALittle.UILButtonUpEvent", {
name = "ALittle.UILButtonUpEvent", ns_name = "ALittle", rl_name = "UILButtonUpEvent", hash_code = 40651933,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(349963892, "ALittle.UIMButtonDownEvent", {
name = "ALittle.UIMButtonDownEvent", ns_name = "ALittle", rl_name = "UIMButtonDownEvent", hash_code = 349963892,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(683647260, "ALittle.UIMButtonUpEvent", {
name = "ALittle.UIMButtonUpEvent", ns_name = "ALittle", rl_name = "UIMButtonUpEvent", hash_code = 683647260,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(-641444818, "ALittle.UIRButtonDownEvent", {
name = "ALittle.UIRButtonDownEvent", ns_name = "ALittle", rl_name = "UIRButtonDownEvent", hash_code = -641444818,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(-569321214, "ALittle.UIRButtonUpEvent", {
name = "ALittle.UIRButtonUpEvent", ns_name = "ALittle", rl_name = "UIRButtonUpEvent", hash_code = -569321214,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","count","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","int","bool"},
option_map = {}
})
RegStruct(-1737121315, "ALittle.UIMButtonWheelEvent", {
name = "ALittle.UIMButtonWheelEvent", ns_name = "ALittle", rl_name = "UIMButtonWheelEvent", hash_code = -1737121315,
name_list = {"target","delta_x","delta_y"},
type_list = {"ALittle.DisplayObject","double","double"},
option_map = {}
})
RegStruct(-525850898, "ALittle.UIFingerEvent", {
name = "ALittle.UIFingerEvent", ns_name = "ALittle", rl_name = "UIFingerEvent", hash_code = -525850898,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","finger_key","is_sfc","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","string","bool","bool"},
option_map = {}
})
RegStruct(-1233353463, "ALittle.UIFingerDownEvent", {
name = "ALittle.UIFingerDownEvent", ns_name = "ALittle", rl_name = "UIFingerDownEvent", hash_code = -1233353463,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","finger_key","is_sfc","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","string","bool","bool"},
option_map = {}
})
RegStruct(734860930, "ALittle.UIFingerUpEvent", {
name = "ALittle.UIFingerUpEvent", ns_name = "ALittle", rl_name = "UIFingerUpEvent", hash_code = 734860930,
name_list = {"target","abs_x","abs_y","rel_x","rel_y","finger_key","is_sfc","is_drag"},
type_list = {"ALittle.DisplayObject","double","double","double","double","string","bool","bool"},
option_map = {}
})
RegStruct(-449066808, "ALittle.UIClickEvent", {
name = "ALittle.UIClickEvent", ns_name = "ALittle", rl_name = "UIClickEvent", hash_code = -449066808,
name_list = {"target","is_drag"},
type_list = {"ALittle.DisplayObject","bool"},
option_map = {}
})
RegStruct(-1330840, "ALittle.UIMClickEvent", {
name = "ALittle.UIMClickEvent", ns_name = "ALittle", rl_name = "UIMClickEvent", hash_code = -1330840,
name_list = {"target","is_drag"},
type_list = {"ALittle.DisplayObject","bool"},
option_map = {}
})
RegStruct(286797479, "ALittle.UIFClickEvent", {
name = "ALittle.UIFClickEvent", ns_name = "ALittle", rl_name = "UIFClickEvent", hash_code = 286797479,
name_list = {"target","is_drag"},
type_list = {"ALittle.DisplayObject","bool"},
option_map = {}
})
RegStruct(-1234078962, "ALittle.UITextInputEvent", {
name = "ALittle.UITextInputEvent", ns_name = "ALittle", rl_name = "UITextInputEvent", hash_code = -1234078962,
name_list = {"target","text","custom"},
type_list = {"ALittle.DisplayObject","string","bool"},
option_map = {}
})
RegStruct(882286932, "ALittle.UIKeyEvent", {
name = "ALittle.UIKeyEvent", ns_name = "ALittle", rl_name = "UIKeyEvent", hash_code = 882286932,
name_list = {"target","mod","sym","scancode","custom","handled"},
type_list = {"ALittle.DisplayObject","int","int","int","bool","bool"},
option_map = {}
})
RegStruct(-1604617962, "ALittle.UIKeyDownEvent", {
name = "ALittle.UIKeyDownEvent", ns_name = "ALittle", rl_name = "UIKeyDownEvent", hash_code = -1604617962,
name_list = {"target","mod","sym","scancode","custom","handled"},
type_list = {"ALittle.DisplayObject","int","int","int","bool","bool"},
option_map = {}
})
RegStruct(1213009422, "ALittle.UIKeyUpEvent", {
name = "ALittle.UIKeyUpEvent", ns_name = "ALittle", rl_name = "UIKeyUpEvent", hash_code = 1213009422,
name_list = {"target","mod","sym","scancode","custom","handled"},
type_list = {"ALittle.DisplayObject","int","int","int","bool","bool"},
option_map = {}
})
RegStruct(-1001723540, "ALittle.UIMouseMoveEvent", {
name = "ALittle.UIMouseMoveEvent", ns_name = "ALittle", rl_name = "UIMouseMoveEvent", hash_code = -1001723540,
name_list = {"target","abs_x","abs_y","rel_x","rel_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double"},
option_map = {}
})
RegStruct(-338112738, "ALittle.UIDropFileEvent", {
name = "ALittle.UIDropFileEvent", ns_name = "ALittle", rl_name = "UIDropFileEvent", hash_code = -338112738,
name_list = {"target","path"},
type_list = {"ALittle.DisplayObject","string"},
option_map = {}
})
RegStruct(124598654, "ALittle.UISystemSelectFileEvent", {
name = "ALittle.UISystemSelectFileEvent", ns_name = "ALittle", rl_name = "UISystemSelectFileEvent", hash_code = 124598654,
name_list = {"target","path"},
type_list = {"ALittle.DisplayObject","string"},
option_map = {}
})
RegStruct(-1676610185, "ALittle.UISystemSaveFileEvent", {
name = "ALittle.UISystemSaveFileEvent", ns_name = "ALittle", rl_name = "UISystemSaveFileEvent", hash_code = -1676610185,
name_list = {"target","path"},
type_list = {"ALittle.DisplayObject","string"},
option_map = {}
})

UIEventDispatcher = Lua.Class(nil, "ALittle.UIEventDispatcher")

function UIEventDispatcher:Ctor()
	___rawset(self, "_trans_target", CreateValueWeakMap())
	___rawset(self, "_listeners", {})
	___rawset(self, "_abs_disabled", false)
end

function UIEventDispatcher.__getter:event_trans_target()
	return self._trans_target["event"]
end

function UIEventDispatcher.__setter:event_trans_target(value)
	local old_value = self._trans_target["event"]
	if old_value == value then
		return
	end
	self._trans_target["event"] = value
end

function UIEventDispatcher.__getter:drag_trans_target()
	return self._trans_target["drag"]
end

function UIEventDispatcher.__setter:drag_trans_target(value)
	local old_value = self._trans_target["drag"]
	if old_value == value then
		return
	end
	self._trans_target["drag"] = value
end

function UIEventDispatcher.__getter:abs_disabled()
	return self._abs_disabled
end

function UIEventDispatcher.__setter:abs_disabled(value)
	self._abs_disabled = value
end

function UIEventDispatcher:AddEventListener(T, object, callback)
	local rflt = T
	return self:AddEventListenerImpl(rflt.name, object, callback)
end

function UIEventDispatcher:AddEventListenerImpl(event_type, object, callback)
	if object == nil then
		return false
	end
	if callback == nil then
		return false
	end
	local callback_table = self._listeners[event_type]
	if callback_table == nil then
		callback_table = CreateKeyWeakMap()
		self._listeners[event_type] = callback_table
	end
	local callback_value = callback_table[object]
	if callback_value == nil then
		callback_value = {}
		callback_table[object] = callback_value
	end
	callback_value[callback] = true
	return true
end

function UIEventDispatcher:RemoveEventListener(T, object, callback)
	local rflt = T
	local callback_table = self._listeners[rflt.name]
	if callback_table == nil then
		return
	end
	if callback == nil then
		callback_table[object] = nil
	else
		local callback_value = callback_table[object]
		if callback_value == nil then
			return
		end
		callback_value[callback] = nil
	end
end

function UIEventDispatcher:ClearEventListener()
	self._listeners = {}
end

function UIEventDispatcher:DispatchEvent(T, event)
	local rflt = T
	if event.target == nil then
		event.target = self
	end
	local event_target = self
	if self._trans_target["event"] ~= nil then
		event_target = self._trans_target["event"]
	elseif self._trans_target["drag"] ~= nil then
		if rflt.name == "ALittle.UIButtonDragEvent" or rflt.name == "ALittle.UIButtonDragBeginEvent" then
			event_target = self._trans_target["drag"]
		elseif rflt.name == "ALittle.UIButtonDragEndEvent" then
			A_UISystem.focus = self._trans_target["drag"]
		end
	end
	if event_target._abs_disabled then
		return
	end
	local callback_table = event_target._listeners[rflt.name]
	if callback_table == nil then
		return
	end
	for object, callback_value in ___pairs(callback_table) do
		for func, _ in ___pairs(callback_value) do
			func(object, event)
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(1031172931, "ALittle.FingerInfo", {
name = "ALittle.FingerInfo", ns_name = "ALittle", rl_name = "FingerInfo", hash_code = 1031172931,
name_list = {"key","mouse_x","mouse_y","last_mouse_x","last_mouse_y","dl","mfc","mfc_rel_x","mfc_rel_y","is_sfc"},
type_list = {"string","double","double","double","double","bool","ALittle.DisplayObject","double","double","bool"},
option_map = {}
})

local __abs = Math_Abs
UISystem = Lua.Class(nil, "ALittle.UISystem")

function UISystem:Ctor()
	___rawset(self, "_view_width", 0)
	___rawset(self, "_view_height", 0)
	___rawset(self, "_mouse_x", 0)
	___rawset(self, "_mouse_y", 0)
	___rawset(self, "_last_mouse_x", 0)
	___rawset(self, "_last_mouse_y", 0)
	___rawset(self, "_lbutton_down", false)
	___rawset(self, "_lbutton_finger_id", nil)
	___rawset(self, "_lbutton_touch_id", nil)
	___rawset(self, "_mfc", nil)
	___rawset(self, "_mfc_rel_x", 0)
	___rawset(self, "_mfc_rel_y", 0)
	___rawset(self, "_mfd", nil)
	___rawset(self, "_sfc", nil)
	___rawset(self, "_wfc", nil)
	___rawset(self, "_pfc", nil)
	___rawset(self, "_button_type", nil)
	___rawset(self, "_sl", false)
	___rawset(self, "_dl", false)
	___rawset(self, "_dl_delta_x", 0)
	___rawset(self, "_dl_delta_y", 0)
	___rawset(self, "_max_dl_delta", 10)
	___rawset(self, "_max_lp_delta", 2)
	if System_GetPlatform() == "Windows" then
		___rawset(self, "_max_dl_delta", 1)
		___rawset(self, "_max_lp_delta", 0)
	end
	___rawset(self, "_ime_editing", false)
	___rawset(self, "_ime_editing_callback", nil)
	___rawset(self, "_sym_map", {})
	___rawset(self, "_keydown_callback", nil)
	___rawset(self, "_view_resize_callback", nil)
	___rawset(self, "_long_press", nil)
	___rawset(self, "_finger_info", {})
end

function UISystem.__setter:view_resize_callback(value)
	self._view_resize_callback = value
end

function UISystem.__getter:view_resize_callback()
	return self._view_resize_callback
end

function UISystem.__setter:keydown_callback(value)
	self._keydown_callback = value
end

function UISystem.__getter:keydown_callback()
	return self._keydown_callback
end

function UISystem.__getter:sym_map()
	return self._sym_map
end

function UISystem.__setter:ime_callback(value)
	self._ime_editing_callback = value
end

function UISystem.__getter:ime_callback()
	return self._ime_editing_callback
end

function UISystem.__getter:mouse_x()
	return self._mouse_x
end

function UISystem.__getter:mouse_y()
	return self._mouse_y
end

function UISystem.__setter:focus(control)
	if self._sfc == control then
		return
	end
	self._wfc = nil
	if self._sfc ~= nil then
		if self._dl == true then
			self._dl = false
			self._dl_delta_x = 0
			self._dl_delta_y = 0
			if self._button_type == "ALittle.UILButtonDownEvent" then
				local event = {}
				event.target = self._sfc
				event.rel_x = self._mfc_rel_x
				event.rel_y = self._mfc_rel_y
				if self._mfc ~= self._sfc then
					event.rel_x, event.rel_y = self._sfc:GlobalToLocalMatrix2D(self._mouse_x, self._mouse_y)
				end
				event.delta_x = self._mouse_x - self._last_mouse_x
				event.delta_y = self._mouse_y - self._last_mouse_y
				event.abs_x = self._mouse_x
				event.abs_y = self._mouse_y
				self._sfc:DispatchEvent(___all_struct[150587926], event)
			end
		end
		local sfc = self._sfc
		if self._ime_editing_callback ~= nil then
			self._ime_editing_callback(false, nil, nil, nil, nil)
		end
		self._sfc = nil
		self._sl = false
		sfc:DispatchEvent(___all_struct[292776509], {})
	end
	self._sfc = control
	if self._sfc ~= nil then
		self._sfc:DispatchEvent(___all_struct[-644464135], {})
	end
end

function UISystem.__getter:focus()
	return self._sfc
end

function UISystem.__setter:pick(control)
	if self._pfc ~= nil then
		A_LayerManager:RemoveFromTip(self._pfc)
	end
	self._pfc = control
	if self._pfc ~= nil then
		A_LayerManager:AddToTip(self._pfc)
	end
end

function UISystem.__getter:pick()
	return self._pfc
end

function UISystem.__getter:view_width()
	return self._view_width
end

function UISystem.__getter:view_height()
	return self._view_height
end

function UISystem:HandleMouseMoved(x, y)
	local delta_x = x - self._mouse_x
	local delta_y = y - self._mouse_y
	self._last_mouse_x = self._mouse_x
	self._last_mouse_y = self._mouse_y
	self._mouse_x = x
	self._mouse_y = y
	if self._long_press ~= nil and __abs(delta_x) <= self._max_lp_delta and __abs(delta_y) <= self._max_lp_delta then
		return false
	end
	if self._long_press ~= nil then
		self._long_press:Stop()
		self._long_press = nil
	end
	if self._pfc ~= nil then
		self._pfc.x = self._pfc.x + (delta_x)
		self._pfc.y = self._pfc.y + (delta_y)
	end
	if self._sl and self._button_type == "ALittle.UILButtonDownEvent" then
		if self._dl == true then
			local event = {}
			event.target = self._sfc
			event.rel_x, event.rel_y = self._sfc:GlobalToLocalMatrix2D(x, y)
			if self._dl_delta_x > 0 then
				delta_x = self._dl_delta_x + delta_x
				self._dl_delta_x = 0
			end
			if self._dl_delta_y > 0 then
				delta_y = self._dl_delta_y + delta_y
				self._dl_delta_y = 0
			end
			event.abs_x = x
			event.abs_y = y
			event.delta_x = delta_x
			event.delta_y = delta_y
			self._sfc:DispatchEvent(___all_struct[1337289812], event)
			return true
		end
		if self._dl == false then
			self._dl_delta_x = self._dl_delta_x + (delta_x)
			self._dl_delta_y = self._dl_delta_y + (delta_y)
			if __abs(self._dl_delta_x) >= self._max_dl_delta or __abs(self._dl_delta_y) >= self._max_dl_delta then
				self._dl = true
				local event = {}
				event.target = self._sfc
				event.rel_x, event.rel_y = self._sfc:GlobalToLocalMatrix2D(self._mouse_x, self._mouse_y)
				event.abs_x = x
				event.abs_y = y
				event.delta_x = self._dl_delta_x
				event.delta_y = self._dl_delta_y
				self._sfc:DispatchEvent(___all_struct[1301789264], event)
			end
		end
		return true
	end
	self:UpdateMoveFocus(x, y)
	return self._mfc ~= nil
end

function UISystem:HandleLButtonDown(x, y, count)
	self._lbutton_down = true
	self._lbutton_finger_id = nil
	self._lbutton_touch_id = nil
	return self:HandleButtonDown(___all_struct[1883782801], x, y, count)
end

function UISystem:HandleLButtonUp(x, y)
	self._lbutton_down = false
	return self:HandleButtonUp(___all_struct[40651933], x, y)
end

function UISystem:HandleMButtonDown(x, y, count)
	return self:HandleButtonDown(___all_struct[349963892], x, y, count)
end

function UISystem:HandleMButtonUp(x, y)
	return self:HandleButtonUp(___all_struct[683647260], x, y)
end

function UISystem:HandleButtonDown(T, x, y, count)
	local rflt = T
	self._wfc = nil
	A_LayerManager:HandleLRButtonDown(x, y)
	self:UpdateMoveFocus(x, y)
	if self._mfc ~= nil then
		self._sl = true
		self._button_type = rflt.name
		if self._pfc ~= nil and rflt.name == "ALittle.UILButtonDownEvent" then
			local event = {}
			event.target = self._mfc
			event.drop_target = self._pfc
			self._mfc:DispatchEvent(___all_struct[1354499457], event)
			A_LayerManager:RemoveFromTip(self._pfc)
			self._pfc = nil
		end
		if self._mfd ~= nil then
			local layer = self._mfd.show_parent
			layer:SetChildIndex(self._mfd, layer.child_count)
		end
		local event = {}
		event.target = self._mfc
		event.abs_x = x
		event.abs_y = y
		event.rel_x = self._mfc_rel_x
		event.rel_y = self._mfc_rel_y
		event.count = count
		event.is_drag = false
		self._mfc:DispatchEvent(T, event)
		if rflt.name == "ALittle.UILButtonDownEvent" then
			if self._long_press ~= nil then
				self._long_press:Stop()
			end
			local long_event = {}
			long_event.target = self._mfc
			long_event.abs_x = x
			long_event.abs_y = y
			long_event.rel_x = self._mfc_rel_x
			long_event.rel_y = self._mfc_rel_y
			long_event.is_drag = false
			self._long_press = LoopFunction(Lua.Bind(UISystem.DispatchLongButtonEvent, self._mfc, long_event), 1, 500, 1)
			self._long_press:Start()
		end
		if self._sfc == nil then
			self._sfc = self._mfc
			self._sfc:DispatchEvent(___all_struct[-644464135], {})
		elseif self._mfc ~= self._sfc then
			self._sfc:DispatchEvent(___all_struct[292776509], {})
			if self._ime_editing_callback ~= nil then
				self._ime_editing_callback(false, nil, nil, nil, nil)
			end
			self._sfc = self._mfc
			self._sfc:DispatchEvent(___all_struct[-644464135], {})
		end
		return true
	else
		if self._sfc ~= nil then
			self._sfc:DispatchEvent(___all_struct[292776509], {})
			if self._ime_editing_callback ~= nil then
				self._ime_editing_callback(false, nil, nil, nil, nil)
			end
			self._sfc = nil
			self._sl = false
		end
	end
	return false
end

function UISystem.DispatchLongButtonEvent(mfc, event)
	mfc:DispatchEvent(___all_struct[-439548260], event)
end

function UISystem:HandleButtonUp(T, x, y)
	if self._sl == false then
		return false
	end
	if self._long_press ~= nil then
		self._long_press:Stop()
		self._long_press = nil
	end
	self._sl = false
	local rel_x, rel_y = self._sfc:GlobalToLocalMatrix2D(x, y)
	local save_dl = self._dl
	if self._dl == true then
		self._dl = false
		self._dl_delta_x = 0
		self._dl_delta_y = 0
		local event = {}
		event.target = self._sfc
		event.abs_x = x
		event.abs_y = y
		event.delta_x = self._mouse_x - self._last_mouse_x
		event.delta_y = self._mouse_y - self._last_mouse_y
		event.rel_x = rel_x
		event.rel_y = rel_y
		self._sfc:DispatchEvent(___all_struct[150587926], event)
	end
	if self._sfc ~= nil then
		local event = {}
		event.target = self._sfc
		event.abs_x = x
		event.abs_y = y
		event.rel_x = rel_x
		event.rel_y = rel_y
		event.is_drag = save_dl
		self._sfc:DispatchEvent(T, event)
	end
	self:UpdateMoveFocus(x, y)
	return self._mfc ~= nil
end

function UISystem:HandleRButtonDown(x, y, count)
	A_LayerManager:HandleLRButtonDown(x, y)
	if self._sl then
		return false
	end
	self:UpdateMoveFocus(x, y)
	if self._mfc ~= nil then
		local event = {}
		event.target = self._mfc
		event.abs_x = x
		event.abs_y = y
		event.rel_x = self._mfc_rel_x
		event.rel_y = self._mfc_rel_y
		event.count = count
		event.is_drag = false
		self._mfc:DispatchEvent(___all_struct[-641444818], event)
		return true
	end
	return false
end

function UISystem:HandleRButtonUp(x, y)
	return false
end

function UISystem:HandleTextInput(text)
	self._ime_editing = false
	if self._ime_editing_callback ~= nil then
		self._ime_editing_callback(false, nil, nil, nil, nil)
	end
	if self._sfc ~= nil then
		local event = {}
		event.target = self._sfc
		event.text = text
		self._sfc:DispatchEvent(___all_struct[-1234078962], event)
		return true
	end
	return false
end

function UISystem:HandleTextEditing(text, start)
	if text == "" then
		if self._ime_editing == false then
			return
		end
		self._ime_editing = false
		if self._ime_editing_callback ~= nil then
			self._ime_editing_callback(false, nil, nil, nil, nil)
		end
	else
		self._ime_editing = true
		if self._sfc == nil or self._sfc.is_input == false or self._sfc.editable == false or self._sfc.font_size == nil then
			return
		end
		if self._ime_editing_callback ~= nil then
			local list = String_Split(System_GetIMESelectList(), " ")
			local new_list = {}
			local count = 0
			for index, value in ___ipairs(list) do
				if value ~= "" then
					count = count + 1
					new_list[count] = value
				end
			end
			self._ime_editing_callback(true, text, start, new_list, self._sfc)
			System_SetIMEPos(System_GetScreenWidth(), System_GetScreenHeight())
		else
			local abs_x, abs_y = self._sfc:LocalToGlobal()
			abs_x = abs_x + (self._sfc.cursor_x)
			abs_y = abs_y + ((self._sfc.cursor_y + self._sfc.font_size) * self._sfc.scale_y)
			System_SetIMEPos(math.floor(abs_x), math.floor(abs_y))
		end
	end
end

function UISystem:HandleKeyDown(mod, sym, scancode)
	self._sym_map[sym] = true
	local result = false
	if System_GetIMESelectList() == "" and self._ime_editing then
		self._ime_editing = false
		if self._ime_editing_callback ~= nil then
			self._ime_editing_callback(false, nil, nil, nil, nil)
		end
		return
	end
	local event = {}
	event.target = self._sfc
	event.mod = mod
	event.sym = sym
	event.scancode = scancode
	if self._sfc ~= nil and self._ime_editing == false then
		self._sfc:DispatchEvent(___all_struct[-1604617962], event)
	end
	if not event.handled and self._ime_editing == false and self._keydown_callback ~= nil then
		self._keydown_callback(mod, sym, scancode)
	end
end

function UISystem:HandleKeyUp(mod, sym, scancode)
	self._sym_map[sym] = nil
end

function UISystem:HandleMouseWheel(x, y)
	if self._mfc == nil or self._sl then
		return false
	end
	if self._wfc == nil then
		local control = self._sfc
		while control ~= nil do
			if control.can_scroll == true then
				self._wfc = control
				break
			end
			control = control.show_parent
		end
	end
	if self._wfc ~= nil then
		local event = {}
		event.target = self._wfc
		event.delta_x = x
		event.delta_y = y
		self._wfc:DispatchEvent(___all_struct[-1737121315], event)
	end
	return true
end

function UISystem:UpdateMoveFocus(x, y)
	local mfc
	local mfd
	mfc, mfd, self._mfc_rel_x, self._mfc_rel_y = A_LayerManager:PickUp(x, y)
	self._mfd = mfd
	if self._mfc == mfc then
		if mfc ~= nil then
			local event = {}
			event.target = mfc
			event.abs_x = x
			event.abs_y = y
			event.rel_x = self._mfc_rel_x
			event.rel_y = self._mfc_rel_y
			mfc:DispatchEvent(___all_struct[-1001723540], event)
		end
		return
	end
	if self._mfc ~= nil then
		self._mfc:DispatchEvent(___all_struct[-1202439334], {})
	end
	if mfc ~= nil then
		mfc:DispatchEvent(___all_struct[544684311], {})
	end
	self._mfc = mfc
end

function UISystem:HandleViewResized(width, height)
	if self._view_width == width and self._view_height == height then
		return
	end
	self._view_width = width
	self._view_height = height
	A_LayerManager:HandleViewResized(width, height)
	if self._view_resize_callback ~= nil then
		self._view_resize_callback(width, height)
	end
end

function UISystem:HandleDropFile(path)
	local x = System_GetCursorX() - System_GetViewX()
	local y = System_GetCursorY() - System_GetViewY()
	self:HandleMouseMoved(x, y)
	if self._mfc == nil then
		return
	end
	local event = {}
	event.target = self._mfc
	event.path = path
	self._mfc:DispatchEvent(___all_struct[-338112738], event)
end

function UISystem:HandleWindowEnter()
end

function UISystem:HandleWindowLeave()
	if self._lbutton_down then
		self:HandleLButtonUp(self._mouse_x, self._mouse_y)
	end
end

function UISystem:HandleFingerDown(x, y, finger_id, touch_id)
	if self._lbutton_down == false then
		self._lbutton_down = true
		self._lbutton_finger_id = finger_id
		self._lbutton_touch_id = touch_id
		self._mouse_x = x
		self._mouse_y = y
		return self:HandleButtonDown(___all_struct[1883782801], x, y, 1)
	end
	local key = finger_id .. "_" .. touch_id
	local info = {}
	info.key = key
	info.mouse_x = x
	info.mouse_y = y
	info.last_mouse_x = 0
	info.last_mouse_y = 0
	info.dl = false
	info.mfc = nil
	info.mfc_rel_x = 0
	info.mfc_rel_y = 0
	info.is_sfc = false
	local mfd
	info.mfc, mfd, info.mfc_rel_x, info.mfc_rel_y = A_LayerManager:PickUp(x, y)
	if info.mfc == nil then
		return false
	end
	info.is_sfc = (self._sl and (info.mfc == self._mfc or info.mfc == self._sfc))
	local event = {}
	event.target = info.mfc
	event.abs_x = x
	event.abs_y = y
	event.rel_x = info.mfc_rel_x
	event.rel_y = info.mfc_rel_y
	event.finger_key = info.key
	event.is_sfc = info.is_sfc
	event.is_drag = false
	info.mfc:DispatchEvent(___all_struct[-1233353463], event)
	self._finger_info[key] = info
	return true
end

function UISystem:HandleFingerUp(x, y, finger_id, touch_id)
	if self._lbutton_down and self._lbutton_finger_id == finger_id and self._lbutton_touch_id == touch_id then
		self._lbutton_down = false
		return self:HandleButtonUp(___all_struct[40651933], x, y)
	end
	local key = finger_id .. "_" .. touch_id
	local info = self._finger_info[key]
	if info == nil then
		return false
	end
	self._finger_info[key] = nil
	info.last_mouse_x = info.mouse_x
	info.last_mouse_y = info.mouse_y
	info.mouse_x = x
	info.mouse_y = y
	local save_dl = info.dl
	if info.dl == true then
		info.dl = false
		local event = {}
		event.target = info.mfc
		event.abs_x = x
		event.abs_y = y
		event.rel_x = info.mfc_rel_x
		event.rel_y = info.mfc_rel_y
		event.delta_x = info.mouse_x - info.last_mouse_x
		event.delta_y = info.mouse_y - info.last_mouse_y
		event.finger_key = key
		event.is_sfc = info.is_sfc
		info.mfc:DispatchEvent(___all_struct[-2050069067], event)
	end
	local event = {}
	event.target = info.mfc
	event.abs_x = x
	event.abs_y = y
	event.rel_x = info.mfc_rel_x
	event.rel_y = info.mfc_rel_y
	event.finger_key = info.key
	event.is_sfc = info.is_sfc
	event.is_drag = save_dl
	info.mfc:DispatchEvent(___all_struct[734860930], event)
	return true
end

function UISystem:HandleFingerMoved(x, y, finger_id, touch_id)
	if self._lbutton_down and self._lbutton_finger_id == finger_id and self._lbutton_touch_id == touch_id then
		return self:HandleMouseMoved(x, y)
	end
	local key = finger_id .. "_" .. touch_id
	local info = self._finger_info[key]
	if info == nil then
		return false
	end
	local delta_x = x - info.mouse_x
	local delta_y = y - info.mouse_y
	info.last_mouse_x = info.mouse_x
	info.last_mouse_y = info.mouse_y
	info.mouse_x = x
	info.mouse_y = y
	if info.mfc ~= nil then
		info.mfc_rel_x, info.mfc_rel_y = info.mfc:GlobalToLocalMatrix2D(x, y)
	end
	if info.dl == true then
		local event = {}
		event.target = info.mfc
		event.delta_x = delta_x
		event.delta_y = delta_y
		event.abs_x = x
		event.abs_y = y
		event.rel_x = info.mfc_rel_x
		event.rel_y = info.mfc_rel_y
		event.finger_key = info.key
		event.is_sfc = info.is_sfc
		info.mfc:DispatchEvent(___all_struct[-51419723], event)
		return true
	end
	if info.dl == false then
		info.dl = true
		local event = {}
		event.target = info.mfc
		event.delta_x = delta_x
		event.delta_y = delta_y
		event.abs_x = x
		event.abs_y = y
		event.rel_x = info.mfc_rel_x
		event.rel_y = info.mfc_rel_y
		event.finger_key = info.key
		event.is_sfc = info.is_sfc
		info.mfc:DispatchEvent(___all_struct[1598008698], event)
		return true
	end
	return false
end

_G.A_UISystem = UISystem()

module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __remove = List_Remove
local __insert = List_Insert
local __cos = Math_Cos
local __sin = Math_Sin
assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
DisplayGroup = Lua.Class(ALittle.DisplayObject, "ALittle.DisplayGroup")

function DisplayGroup:Ctor(ctrl_sys)
	___rawset(self, "_childs", {})
	___rawset(self, "_child_count", 0)
	___rawset(self, "_show", __CPPAPIDisplayObjects())
	___rawset(self, "_pickup_rect", false)
	___rawset(self, "_pickup_child", true)
	___rawset(self, "_pickup_this", false)
end

function DisplayGroup:GetChildIndex(child)
	if child == nil then
		return 0
	end
	if child._show_parent ~= self and child._logic_parent ~= self then
		return 0
	end
	for index, value in ___ipairs(self._childs) do
		if value == child then
			return index
		end
	end
	return 0
end

function DisplayGroup:SetChildIndex(child, index)
	local cur_index = self:GetChildIndex(child)
	if cur_index == 0 then
		return false
	end
	if cur_index == index then
		return true
	end
	if index < 1 then
		index = 1
	end
	if index > self._child_count then
		index = self._child_count
	end
	__remove(self._childs, cur_index)
	self._show:RemoveChild(child._show)
	local back_child = self._childs[index]
	if back_child ~= nil then
		self._show:AddChildBefore(back_child._show, child._show)
	else
		self._show:AddChild(child._show)
	end
	__insert(self._childs, index, child)
	return true
end

function DisplayGroup:GetChildByIndex(index)
	return self._childs[index]
end

function DisplayGroup.__getter:childs()
	return self._childs
end

function DisplayGroup.__getter:child_count()
	return self._child_count
end

function DisplayGroup:AddChild(child, index)
	if child == nil or child == self then
		return false
	end
	if child._show_parent == self or child._logic_parent == self then
		return true
	end
	if child._logic_parent ~= nil then
		child._logic_parent:RemoveChild(child)
	elseif child._show_parent ~= nil then
		child._show_parent:RemoveChild(child)
	end
	child._show_parent = self
	child._logic_parent = nil
	if index == nil or index > self._child_count or self._child_count < 1 then
		self._child_count = self._child_count + 1
		self._childs[self._child_count] = child
		self._show:AddChild(child._show)
	else
		if index < 1 then
			index = 1
		end
		local back_child = self._childs[index]
		self._show:AddChildBefore(back_child._show, child._show)
		__insert(self._childs, index, child)
		self._child_count = self._child_count + 1
	end
	child.visible = child._visible
	child.alpha = child._alpha
	child.disabled = child._disabled
	child:UpdateLayout()
	return true
end

function DisplayGroup:RemoveChild(child)
	if child == nil then
		return false
	end
	if child._show_parent ~= self and child._logic_parent ~= self then
		return false
	end
	for index, value in ___ipairs(self._childs) do
		if value == child then
			__remove(self._childs, index)
			self._show:RemoveChild(child._show)
			child._show_parent = nil
			child._logic_parent = nil
			self._child_count = self._child_count - 1
			return true
		end
	end
	return false
end

function DisplayGroup:HasChild(child)
	if child == nil then
		return false
	end
	return child._show_parent == self or child._logic_parent == self
end

function DisplayGroup.__getter:parent()
	if self._logic_parent ~= nil then
		return self._logic_parent
	end
	return self._show_parent
end

function DisplayGroup:RemoveAllChild()
	for index, value in ___ipairs(self._childs) do
		value._show_parent = nil
		value._logic_parent = nil
	end
	self._show:RemoveAllChild()
	self._childs = {}
	self._child_count = 0
end

function DisplayGroup.__setter:alpha(value)
	self._alpha = value
	if self._show_parent ~= nil then
		self._abs_alpha = self._show_parent._abs_alpha * value
	else
		self._abs_alpha = value
	end
	for index, value in ___ipairs(self._childs) do
		value.alpha = value.alpha
	end
end

function DisplayGroup.__setter:visible(value)
	self._visible = value
	if self._show_parent ~= nil then
		self._abs_visible = self._show_parent._abs_visible and value
	else
		self._abs_visible = value
	end
	self._show:SetVisible(self._abs_visible)
	for index, value in ___ipairs(self._childs) do
		value.visible = value.visible
	end
end

function DisplayGroup.__setter:disabled(value)
	self._disabled = value
	if self._show_parent ~= nil then
		self._abs_disabled = self._show_parent._abs_disabled or value
	else
		self._abs_disabled = value
	end
	for index, value in ___ipairs(self._childs) do
		value.disabled = value.disabled
	end
end

function DisplayGroup:PickUp(x, y)
	if self._ignore or self._abs_disabled or self._abs_visible == false then
		return nil, nil, nil
	end
	local rel_x = x - self._x
	local rel_y = y - self._y
	local xx = rel_x - self._center_x
	local yy = rel_y - self._center_y
	if self._angle ~= 0 then
		local rad = 3.1415926 * -self._angle / 180.0
		local cos = __cos(rad)
		local sin = __sin(rad)
		local xxx = xx * cos + yy * -sin
		local yyy = xx * sin + yy * cos
		xx = xxx
		yy = yyy
	end
	if self._scale_x > 0 then
		xx = xx / (self._scale_x)
	end
	if self._scale_y > 0 then
		yy = yy / (self._scale_y)
	end
	rel_x = xx + self._center_x
	rel_y = yy + self._center_y
	if self._scale_x <= 0 or self._scale_y <= 0 then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, rel_x, rel_y
	end
	if self._pickup_rect and (rel_x < 0 or rel_y < 0 or rel_x >= self._width or rel_y >= self._height) then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, rel_x, rel_y
	end
	if self._pickup_child then
		local childs = self._childs
		local index = self._child_count
		while true do
			if not(index >= 1) then break end
			local v_focus, v_x, v_y = childs[index]:PickUp(rel_x, rel_y)
			if v_focus ~= nil then
				return v_focus, v_x, v_y
			end
			index = index+(-1)
		end
	end
	if self._modal or (self._pickup_rect and self._pickup_child == false) or self._pickup_this then
		return self, rel_x, rel_y
	end
	return nil, nil, nil
end

function DisplayGroup.__setter:width(value)
	self._show:SetWidth(value)
end

function DisplayGroup.__setter:height(value)
	self._show:SetHeight(value)
end

function DisplayGroup.__getter:width()
	if self._pickup_rect then
		return self._width
	end
	return self.bound_width
end

function DisplayGroup.__getter:height()
	if self._pickup_rect then
		return self._height
	end
	return self.bound_height
end

function DisplayGroup.__getter:bound_width()
	local min_x = nil
	local max_x = nil
	for index, value in ___ipairs(self._childs) do
		if min_x == nil or min_x > value._x then
			min_x = value._x
		end
		local width = value.width
		local right = width + value._x
		if max_x == nil or max_x < right then
			max_x = right
		end
	end
	if max_x == nil then
		max_x = 0
	end
	if min_x == nil then
		min_x = 0
	end
	local real_width = max_x - min_x
	if real_width < 0 then
		real_width = 0
	end
	return real_width
end

function DisplayGroup.__getter:bound_height()
	local min_y = nil
	local max_y = nil
	for index, value in ___ipairs(self._childs) do
		if min_y == nil or min_y > value._y then
			min_y = value._y
		end
		local height = value.height
		local bottom = height + value._y
		if max_y == nil or max_y < bottom then
			max_y = bottom
		end
	end
	if max_y == nil then
		max_y = 0
	end
	if min_y == nil then
		min_y = 0
	end
	local real_height = max_y - min_y
	if real_height < 0 then
		real_height = 0
	end
	return real_height
end

function DisplayGroup.__getter:max_right()
	local max_x = nil
	for index, value in ___ipairs(self._childs) do
		local width = value.width
		local right = width + value.x
		if max_x == nil or max_x < right then
			max_x = right
		end
	end
	if max_x == nil then
		max_x = 0
	end
	return max_x
end

function DisplayGroup.__getter:max_bottom()
	local max_y = nil
	for index, value in ___ipairs(self._childs) do
		local height = value.height
		local bottom = height + value.y
		if max_y == nil or max_y < bottom then
			max_y = bottom
		end
	end
	if max_y == nil then
		max_y = 0
	end
	return max_y
end

function DisplayGroup:UpdateXLayout(child)
end

function DisplayGroup:UpdateYLayout(child)
end

function DisplayGroup:UpdateWidthLayout(child)
end

function DisplayGroup:UpdateHeightLayout(child)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayGroup, " extends class:ALittle.DisplayGroup is nil")
DisplayLayout = Lua.Class(ALittle.DisplayGroup, "ALittle.DisplayLayout")

function DisplayLayout:Ctor(ctrl_sys)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
end

function DisplayLayout.__setter:width(value)
	if value == self._width then
		return
	end
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	for index, value in ___ipairs(self._childs) do
		self:UpdateWidthLayout(value)
		self:UpdateXLayout(value)
	end
	self._show:SetWidth(value)
end

function DisplayLayout.__setter:height(value)
	if value == self._height then
		return
	end
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	for index, value in ___ipairs(self._childs) do
		self:UpdateHeightLayout(value)
		self:UpdateYLayout(value)
	end
	self._show:SetHeight(value)
end

function DisplayLayout:UpdateXLayout(child)
	if child == nil or child._show_parent ~= self then
		return
	end
	if child._x_type == UIEnumTypes.POS_ABS then
		child.x = child._x_value
	elseif child._x_type == UIEnumTypes.POS_ALIGN_STARTING then
		child.x = child._x_value
	elseif child._x_type == UIEnumTypes.POS_ALIGN_CENTER then
		child.x = (self._width - child.width) / 2 + child._x_value
	elseif child._x_type == UIEnumTypes.POS_ALIGN_ENDING then
		child.x = self._width - child.width - child._x_value
	elseif child._x_type == UIEnumTypes.POS_PERCENT_STARTING then
		child.x = self._width * child._x_value
	elseif child._x_type == UIEnumTypes.POS_PERCENT_CENTER then
		child.x = (self._width - child.width) / 2 + self._width * child._x_value
	elseif child._x_type == UIEnumTypes.POS_PERCENT_ENDING then
		child.x = (self._width - child.width) * (1 - child._x_value)
	end
end

function DisplayLayout:UpdateYLayout(child)
	if child == nil or child._show_parent ~= self then
		return
	end
	if child._y_type == UIEnumTypes.POS_ABS then
		child.y = child._y_value
	elseif child._y_type == UIEnumTypes.POS_ALIGN_STARTING then
		child.y = child._y_value
	elseif child._y_type == UIEnumTypes.POS_ALIGN_CENTER then
		child.y = (self._height - child.height) / 2 + child._y_value
	elseif child._y_type == UIEnumTypes.POS_ALIGN_ENDING then
		child.y = self._height - child.height - child._y_value
	elseif child._y_type == UIEnumTypes.POS_PERCENT_STARTING then
		child.y = self._height * child._y_value
	elseif child._y_type == UIEnumTypes.POS_PERCENT_CENTER then
		child.y = (self._height - child.height) / 2 + self._height * child._y_value
	elseif child._y_type == UIEnumTypes.POS_PERCENT_ENDING then
		child.y = (self._height - child.height) * (1 - child._y_value)
	end
end

function DisplayLayout:UpdateWidthLayout(child)
	if child == nil or child._show_parent ~= self then
		return
	end
	if child._width_type == UIEnumTypes.SIZE_PERCENT then
		local real_width = self._width * child._width_value
		if real_width < 0 then
			real_width = 0
		end
		child.width = real_width
	elseif child._width_type == UIEnumTypes.SIZE_MARGIN then
		local real_width = self._width - child._width_value
		if real_width < 0 then
			real_width = 0
		end
		child.width = real_width
	elseif child._width_type == UIEnumTypes.SIZE_ABS then
		local real_width = child._width_value
		if real_width < 0 then
			real_width = 0
		end
		child.width = real_width
	end
end

function DisplayLayout:UpdateHeightLayout(child)
	if child == nil or child._show_parent ~= self then
		return
	end
	if child._height_type == UIEnumTypes.SIZE_PERCENT then
		local real_height = self._height * child._height_value
		if real_height < 0 then
			real_height = 0
		end
		child.height = real_height
	elseif child._height_type == UIEnumTypes.SIZE_MARGIN then
		local real_height = self._height - child._height_value
		if real_height < 0 then
			real_height = 0
		end
		child.height = real_height
	elseif child._height_type == UIEnumTypes.SIZE_ABS then
		local real_height = child._height_value
		if real_height < 0 then
			real_height = 0
		end
		child.height = real_height
	end
end

function DisplayLayout.__getter:max_right()
	return self._width
end

function DisplayLayout.__getter:max_bottom()
	return self._height
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(-2110455927, "ALittle.EventInfo", {
name = "ALittle.EventInfo", ns_name = "ALittle", rl_name = "EventInfo", hash_code = -2110455927,
name_list = {"type","func"},
type_list = {"string","string"},
option_map = {}
})
RegStruct(-4982446, "ALittle.DisplayInfo", {
name = "ALittle.DisplayInfo", ns_name = "ALittle", rl_name = "DisplayInfo", hash_code = -4982446,
name_list = {"__target_class","__class_func","__base_attr","__show_attr","loop_map","__class","__include","__extends","__childs","__event","__link","__shows_included","__childs_included","__extends_included","description","text","font_path","font_size","red","green","blue","alpha","bold","italic","underline","deleteline","outline","x","y","x_type","x_value","y_type","y_value","width","height","width_type","width_value","height_type","height_value","scale_x","scale_y","center_x","center_y","angle","flip","hand_cursor","visible","disabled","left_size","right_size","top_size","bottom_size","texture_name","interval","play_loop_count","var_play","base_y","head_size","gap","up_size","down_size","cursor_red","cursor_green","cursor_blue","default_text_alpha","ims_padding","margin_left","margin_right","margin_top","margin_bottom","show_count","body_margin","screen_margin_left","screen_margin_right","screen_margin_top","screen_margin_bottom","start_degree","end_degree","line_spacing","max_line_count","font_red","font_green","font_blue","margin_halign","margin_valign","cursor_margin_up","cursor_margin_down","total_size","show_size","offset_rate","offset_step","grade","row_count","col_count","row_index","col_index","u1","v1","u2","v2","u3","v3","x1","y1","x2","y2","x3","y3","x_gap","y_gap","x_start_gap","y_start_gap","button_gap","button_start","button_margin","tab_index","view_margin","child_width_margin"},
type_list = {"List<string>","any","Map<string,any>","Map<string,any>","Map<string,ALittle.LoopGroupInfo>","string","string","string","List<ALittle.DisplayInfo>","List<ALittle.EventInfo>","string","bool","bool","bool","string","string","string","int","double","double","double","double","bool","bool","bool","bool","bool","double","double","int","double","int","double","double","double","int","double","int","double","double","double","double","double","double","int","bool","bool","bool","double","double","double","double","string","int","int","bool","double","double","double","double","double","double","double","double","double","double","double","double","double","double","int","double","double","double","double","double","double","double","double","int","double","double","double","double","double","double","double","double","double","double","double","int","int","int","int","int","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double","double"},
option_map = {}
})

local __cos = Math_Cos
local __sin = Math_Sin
local __byte = String_Byte
local __type = String_Type
assert(ALittle.UIEventDispatcher, " extends class:ALittle.UIEventDispatcher is nil")
DisplayObject = Lua.Class(ALittle.UIEventDispatcher, "ALittle.DisplayObject")

function DisplayObject:Ctor(ctrl_sys)
	___rawset(self, "_ctrl_sys", ctrl_sys)
	___rawset(self, "_clip", false)
	___rawset(self, "_ignore", false)
	___rawset(self, "_x", 0)
	___rawset(self, "_y", 0)
	___rawset(self, "_x_type", UIEnumTypes.POS_ABS)
	___rawset(self, "_x_value", 0)
	___rawset(self, "_y_type", UIEnumTypes.POS_ABS)
	___rawset(self, "_y_value", 0)
	___rawset(self, "_width", 0)
	___rawset(self, "_height", 0)
	___rawset(self, "_width_type", UIEnumTypes.SIZE_ABS)
	___rawset(self, "_width_value", 0)
	___rawset(self, "_height_type", UIEnumTypes.SIZE_ABS)
	___rawset(self, "_height_value", 0)
	___rawset(self, "_scale_x", 1)
	___rawset(self, "_scale_y", 1)
	___rawset(self, "_angle", 0)
	___rawset(self, "_center_x", 0)
	___rawset(self, "_center_y", 0)
	___rawset(self, "_red", 1)
	___rawset(self, "_green", 1)
	___rawset(self, "_blue", 1)
	___rawset(self, "_alpha", 1)
	___rawset(self, "_abs_alpha", 1)
	___rawset(self, "_visible", true)
	___rawset(self, "_abs_visible", true)
	___rawset(self, "_hand_cursor", false)
	___rawset(self, "_disabled", false)
	___rawset(self, "_modal", false)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
	___rawset(self, "_pickup_this", false)
	___rawset(self, "_can_scroll", false)
end

function DisplayObject.__setter:hand_cursor(value)
	if self._hand_cursor == value then
		return
	end
	self._hand_cursor = value
	if value then
		self:AddEventListener(___all_struct[544684311], self, self.HandleMoveInForCursor)
		self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOutForCursor)
	else
		self:RemoveEventListener(___all_struct[544684311], self, self.HandleMoveInForCursor)
		self:RemoveEventListener(___all_struct[-1202439334], self, self.HandleMoveOutForCursor)
	end
end

function DisplayObject.__getter:hand_cursor()
	return self._hand_cursor
end

function DisplayObject:HandleMoveInForCursor(event)
	if self._hand_cursor == false then
		return
	end
	System_SetHandCursor()
end

function DisplayObject:HandleMoveOutForCursor(event)
	if self._hand_cursor == false then
		return
	end
	System_SetNormalCursor()
end

function DisplayObject.__getter:native_show()
	return self._show
end

function DisplayObject.__getter:text()
	return nil
end

function DisplayObject.__setter:text(value)
end

function DisplayObject.__getter:group_name()
	return nil
end

function DisplayObject.__setter:group_name(value)
end

function DisplayObject.__getter:selected()
	return nil
end

function DisplayObject.__setter:selected(value)
end

function DisplayObject.__getter:font_height()
	return nil
end

function DisplayObject:SetTextureCoord(t, b, l, r)
end

function DisplayObject.__getter:texture()
	return nil
end

function DisplayObject.__setter:texture(value)
end

function DisplayObject.__getter:texture_name()
	return nil
end

function DisplayObject.__setter:texture_name(value)
end

function DisplayObject:Redraw()
end

function DisplayObject.__getter:childs()
	return nil
end

function DisplayObject.__getter:child_count()
	return nil
end

function DisplayObject:SetChildIndex(child, index)
	return false
end

function DisplayObject:AddChild(child, index)
	return false
end

function DisplayObject:RemoveChild(child)
	return false
end

function DisplayObject:RemoveAllChild()
end

function DisplayObject.__getter:editable()
	return false
end

function DisplayObject.__getter:font_size()
	return nil
end

function DisplayObject.__getter:cursor_x()
	return nil
end

function DisplayObject.__getter:cursor_y()
	return nil
end

function DisplayObject.__getter:is_focus()
	return A_UISystem.focus == self
end

function DisplayObject.__setter:focus(value)
	if value then
		A_UISystem.focus = self
	else
		if A_UISystem.focus == self then
			A_UISystem.focus = nil
		end
	end
end

function DisplayObject.__getter:is_input()
	return false
end

function DisplayObject.__setter:can_scroll(value)
	self._can_scroll = value
end

function DisplayObject.__getter:can_scroll()
	return self._can_scroll
end

function DisplayObject.__setter:description(value)
	self._description = value
end

function DisplayObject.__getter:description()
	return self._description
end

function DisplayObject.__setter:loop_map(value)
	self._loop_map = value
end

function DisplayObject.__getter:loop_map()
	return self._loop_map
end

function DisplayObject:CreateLoopAnimation(name)
	if self._loop_map == nil then
		return nil
	end
	local info = self._loop_map[name]
	if info == nil then
		return nil
	end
	return LoopAnimation(self, info)
end

function DisplayObject.__setter:modal(value)
	self._modal = value
end

function DisplayObject.__getter:modal()
	return self._modal
end

function DisplayObject.__setter:clip(value)
	self._clip = value
	self._show:SetClip(value)
end

function DisplayObject.__getter:clip()
	return self._clip
end

function DisplayObject.__setter:ignore(value)
	self._ignore = value
end

function DisplayObject.__getter:ignore()
	return self._ignore
end

function DisplayObject:IsMouseIn()
	local abs_x, abs_y = self:LocalToGlobal()
	local mouse_x = A_UISystem.mouse_x
	local mouse_y = A_UISystem.mouse_y
	if mouse_x < abs_x then
		return false
	end
	if mouse_y < abs_y then
		return false
	end
	if mouse_x > abs_x + self.width * self.scale_x then
		return false
	end
	if mouse_y > abs_y + self.height * self.scale_y then
		return false
	end
	return true
end

function DisplayObject:LocalToGlobal(target)
	local x = 0.0
	local y = 0.0
	local parent = self
	while parent ~= nil do
		local scale_x = 1.0
		local scale_y = 1.0
		local show_parent = parent._show_parent
		if show_parent ~= nil then
			scale_x = show_parent.scale_x
			scale_y = show_parent.scale_y
		end
		x = x + (scale_x * parent.x)
		y = y + (scale_y * parent.y)
		if target == show_parent then
			break
		end
		parent = show_parent
	end
	return x, y
end

function DisplayObject:LocalToGlobalMatrix2D(target)
	local result = Matrix2D()
	local list = {}
	local count = 0
	local parent = self
	while parent ~= nil do
		if target == parent then
			break
		end
		count = count + 1
		list[count] = parent
		parent = parent._show_parent
	end
	local index = count
	while true do
		if not(index >= 1) then break end
		local object = list[index]
		local m = Matrix2D()
		if index == 1 then
			m:Scale(object.width, object.height)
		end
		m:Translation(-object.center_x, -object.center_y)
		m:Rotate(3.1415926 * object.angle / 180)
		m:Translation(object.center_x, object.center_y)
		m:Scale(object.scale_x, object.scale_y)
		m:Translation(object.x, object.y)
		m:Multiply(result)
		result = m
		index = index+(-1)
	end
	return result
end

function DisplayObject:GlobalToLocalMatrix2D(x, y, target)
	local list = {}
	local count = 0
	local parent = self
	while parent ~= nil do
		if target == parent then
			break
		end
		count = count + 1
		list[count] = parent
		parent = parent._show_parent
	end
	local pick
	local index = count
	while true do
		if not(index >= 1) then break end
		pick, x, y = list[index]:PickUpSelf(x, y)
		index = index+(-1)
	end
	return x, y
end

function DisplayObject:RemoveFromParent()
	local parent = self._show_parent
	if parent == nil then
		parent = self._logic_parent
	end
	if parent == nil then
		return
	end
	parent:RemoveChild(self)
end

function DisplayObject:IsGrandParent(target)
	local parent = self
	while parent ~= nil do
		parent = parent._show_parent
		if target == parent then
			return true
		end
	end
	return false
end

function DisplayObject.__getter:parent()
	if self._logic_parent ~= nil then
		return self._logic_parent
	end
	return self._show_parent
end

function DisplayObject.__getter:show_parent()
	return self._show_parent
end

function DisplayObject.__getter:logic_parent()
	return self._logic_parent
end

function DisplayObject:MoveToTop()
	if self._show_parent ~= nil then
		self._show_parent:SetChildIndex(self, self._show_parent.child_count)
	end
end

function DisplayObject.__setter:x(value)
	self._x = value
	if self._x_type == UIEnumTypes.POS_ABS then
		self._x_value = value
	end
	self._show:SetX(value)
end

function DisplayObject.__getter:x()
	return self._x
end

function DisplayObject.__setter:x_type(value)
	if self._x_type == value then
		return
	end
	self._x_type = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateXLayout(self)
	end
end

function DisplayObject.__setter:x_value(value)
	if self._x_value == value then
		return
	end
	self._x_value = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateXLayout(self)
	end
end

function DisplayObject.__getter:x_type()
	return self._x_type
end

function DisplayObject.__getter:x_value()
	return self._x_value
end

function DisplayObject.__setter:y(value)
	self._y = value
	if self._y_type == UIEnumTypes.POS_ABS then
		self._y_value = value
	end
	self._show:SetY(value)
end

function DisplayObject.__getter:y()
	return self._y
end

function DisplayObject.__setter:y_type(value)
	if self._y_type == value then
		return
	end
	self._y_type = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateYLayout(self)
	end
end

function DisplayObject.__setter:y_value(value)
	if self._y_value == value then
		return
	end
	self._y_value = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateYLayout(self)
	end
end

function DisplayObject.__getter:y_type()
	return self._y_type
end

function DisplayObject.__getter:y_value()
	return self._y_value
end

function DisplayObject.__setter:width(value)
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = value
	end
	self._show:SetWidth(value)
end

function DisplayObject.__getter:width()
	return self._width
end

function DisplayObject.__setter:width_type(value)
	if self._width_type == value then
		return
	end
	self._width_type = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateWidthLayout(self)
		if self._x_type ~= UIEnumTypes.POS_ABS and self._x_type ~= UIEnumTypes.POS_ALIGN_STARTING and self._x_type ~= UIEnumTypes.POS_PERCENT_STARTING then
			self._show_parent:UpdateXLayout(self)
		end
	elseif self._width_type == UIEnumTypes.SIZE_ABS then
		self.width = self._width_value
	end
end

function DisplayObject.__setter:width_value(value)
	if self._width_value == value then
		return
	end
	self._width_value = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateWidthLayout(self)
		if self._x_type ~= UIEnumTypes.POS_ABS and self._x_type ~= UIEnumTypes.POS_ALIGN_STARTING and self._x_type ~= UIEnumTypes.POS_PERCENT_STARTING then
			self._show_parent:UpdateXLayout(self)
		end
	elseif self._width_type == UIEnumTypes.SIZE_ABS then
		self.width = self._width_value
	end
end

function DisplayObject.__getter:width_type()
	return self._width_type
end

function DisplayObject.__getter:width_value()
	return self._width_value
end

function DisplayObject.__setter:height(value)
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = value
	end
	self._show:SetHeight(value)
end

function DisplayObject.__getter:height()
	return self._height
end

function DisplayObject.__setter:height_type(value)
	if self._height_type == value then
		return
	end
	self._height_type = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateHeightLayout(self)
		if self._y_type ~= UIEnumTypes.POS_ABS and self._y_type ~= UIEnumTypes.POS_ALIGN_STARTING and self._y_type ~= UIEnumTypes.POS_PERCENT_STARTING then
			self._show_parent:UpdateYLayout(self)
		end
	elseif self._height_type == UIEnumTypes.SIZE_ABS then
		self.height = self._height_value
	end
end

function DisplayObject.__setter:height_value(value)
	if self._height_value == value then
		return
	end
	self._height_value = value
	if self._show_parent ~= nil then
		self._show_parent:UpdateHeightLayout(self)
		if self._y_type ~= UIEnumTypes.POS_ABS and self._y_type ~= UIEnumTypes.POS_ALIGN_STARTING and self._y_type ~= UIEnumTypes.POS_PERCENT_STARTING then
			self._show_parent:UpdateYLayout(self)
		end
	elseif self._height_type == UIEnumTypes.SIZE_ABS then
		self.height = self._height_value
	end
end

function DisplayObject.__getter:height_type()
	return self._height_type
end

function DisplayObject.__getter:height_value()
	return self._height_value
end

function DisplayObject.__setter:scale_x(value)
	self._scale_x = value
	self._show:SetScaleX(value)
end

function DisplayObject.__getter:scale_x()
	return self._scale_x
end

function DisplayObject.__setter:scale_y(value)
	self._scale_y = value
	self._show:SetScaleY(value)
end

function DisplayObject.__getter:scale_y()
	return self._scale_y
end

function DisplayObject.__setter:center_x(value)
	self._center_x = value
	self._show:SetCenterX(value)
end

function DisplayObject.__getter:center_x()
	return self._center_x
end

function DisplayObject.__setter:center_y(value)
	self._center_y = value
	self._show:SetCenterY(value)
end

function DisplayObject.__getter:center_y()
	return self._center_y
end

function DisplayObject.__setter:angle(value)
	self._angle = value
	self._show:SetAngle(value)
end

function DisplayObject.__getter:angle()
	return self._angle
end

function DisplayObject.__setter:red(value)
	self._red = value
	self._show:SetRed(value)
end

function DisplayObject.__getter:red()
	return self._red
end

function DisplayObject.__setter:green(value)
	self._green = value
	self._show:SetGreen(value)
end

function DisplayObject.__getter:green()
	return self._green
end

function DisplayObject.__setter:blue(value)
	self._blue = value
	self._show:SetBlue(value)
end

function DisplayObject.__getter:blue()
	return self._blue
end

function DisplayObject.__setter:alpha(value)
	self._alpha = value
	self._abs_alpha = 1
	if self._show_parent ~= nil then
		self._abs_alpha = self._show_parent.abs_alpha * value
	else
		self._abs_alpha = value
	end
	self._show:SetAlpha(self._abs_alpha)
end

function DisplayObject.__getter:alpha()
	return self._alpha
end

function DisplayObject.__getter:abs_alpha()
	return self._abs_alpha
end

function DisplayObject.__setter:visible(value)
	if value == false and self == A_UISystem.focus then
		A_UISystem.focus = nil
	end
	self._visible = value
	if self._show_parent ~= nil then
		self._abs_visible = self._show_parent.abs_visible and value
	else
		self._abs_visible = value
	end
	self._show:SetVisible(self._abs_visible)
end

function DisplayObject.__getter:visible()
	return self._visible
end

function DisplayObject.__getter:abs_visible()
	return self._abs_visible
end

function DisplayObject.__setter:disabled(value)
	if value == true and self == A_UISystem.focus then
		A_UISystem.focus = nil
	end
	self._disabled = value
	if self._show_parent ~= nil then
		self._abs_disabled = self._show_parent.abs_disabled or value
	else
		self._abs_disabled = value
	end
end

function DisplayObject.__getter:disabled()
	return self._disabled
end

function DisplayObject.__getter:abs_disabled()
	return self._abs_disabled
end

function DisplayObject:UpdateLayout()
	if self._show_parent == nil then
		return
	end
	self._show_parent:UpdateWidthLayout(self)
	self._show_parent:UpdateHeightLayout(self)
	self._show_parent:UpdateXLayout(self)
	self._show_parent:UpdateYLayout(self)
end

function DisplayObject:PickUp(x, y)
	if self._ignore or self._abs_disabled or self._abs_visible == false then
		return nil, nil, nil
	end
	local rel_x = x - self._x
	local rel_y = y - self._y
	local xx = rel_x - self._center_x
	local yy = rel_y - self._center_y
	if self._angle ~= 0 then
		local rad = 3.1415926 * -self._angle / 180.0
		local cos = __cos(rad)
		local sin = __sin(rad)
		local xxx = xx * cos + yy * -sin
		local yyy = xx * sin + yy * cos
		xx = xxx
		yy = yyy
	end
	if self._scale_x > 0 then
		xx = xx / (self._scale_x)
	end
	if self._scale_y > 0 then
		yy = yy / (self._scale_y)
	end
	rel_x = xx + self._center_x
	rel_y = yy + self._center_y
	if self._scale_x <= 0 or self._scale_y <= 0 then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, rel_x, rel_y
	end
	if self._modal then
		return self, rel_x, rel_y
	end
	if self._pickup_rect and rel_x >= 0 and rel_y >= 0 and rel_x < self._width and rel_y < self._height then
		return self, rel_x, rel_y
	else
		return nil, rel_x, rel_y
	end
end

function DisplayObject:PickUpSelf(x, y)
	local rel_x = x - self._x
	local rel_y = y - self._y
	local xx = rel_x - self._center_x
	local yy = rel_y - self._center_y
	if self._angle ~= 0 then
		local rad = 3.1415926 * -self._angle / 180.0
		local cos = __cos(rad)
		local sin = __sin(rad)
		local xxx = xx * cos + yy * -sin
		local yyy = xx * sin + yy * cos
		xx = xxx
		yy = yyy
	end
	if self._scale_x > 0 then
		xx = xx / (self._scale_x)
	end
	if self._scale_y > 0 then
		yy = yy / (self._scale_y)
	end
	rel_x = xx + self._center_x
	rel_y = yy + self._center_y
	if self._scale_x <= 0 or self._scale_y <= 0 then
		return nil, rel_x, rel_y
	end
	if self._abs_visible and rel_x >= 0 and rel_y >= 0 and rel_x < self.width and rel_y < self.height then
		return self, rel_x, rel_y
	end
	return nil, rel_x, rel_y
end

function DisplayObject:ClipRect(x, y, width, height, h_move, v_move)
end

function DisplayObject:DeepLayout()
end

function DisplayObject:DeserializeSetter(info)
	local base_attr = info.__base_attr
	if base_attr == nil then
		base_attr = {}
		for key, value in ___pairs(info) do
			if __byte(key, 1) ~= 95 and (__type(value) ~= "table" or value.__class == nil) then
				base_attr[key] = value
			end
		end
		info.__base_attr = base_attr
	end
	for key, value in ___pairs(base_attr) do
		self[key] = value
	end
end

function DisplayObject:DeserializeShowChild(info, target_logic)
	if info.__target_class ~= nil then
		target_logic = self
	end
	local show_attr = info.__show_attr
	if show_attr == nil then
		show_attr = {}
		for key, value in ___pairs(info) do
			if __byte(key, 1) ~= 95 and __type(value) == "table" and value.__class ~= nil then
				show_attr[key] = value
			end
		end
		info.__show_attr = show_attr
	end
	for key, value in ___pairs(show_attr) do
		local object = self._ctrl_sys:CreateControlObject(value)
		if object ~= nil then
			object:DeserializeSetter(value)
			self[key] = object
			object:DeserializeShowChild(value, target_logic)
			if target_logic ~= nil then
				object:DeserializeLinkEvent(value, target_logic)
			end
		end
	end
	local childs = info.__childs
	if childs ~= nil then
		for index, value in ___ipairs(childs) do
			local object = self._ctrl_sys:CreateControlObject(value)
			if object ~= nil then
				object:Deserialize(value, target_logic, self)
			end
		end
	end
end

function DisplayObject:DeserializeLinkEvent(info, target_logic)
	local event_list = info.__event
	if event_list ~= nil then
		for index, einfo in ___ipairs(event_list) do
			local func = nil
			if einfo.func ~= nil then
				func = target_logic[einfo.func]
				if func == nil then
					Log("can't find event func:\"" .. einfo.func .. "\" in " .. String_ToString(target_logic))
				end
			end
			if einfo.type ~= nil and func ~= nil then
				self:AddEventListenerImpl(einfo.type, target_logic, func)
			end
		end
	end
	if info.__link ~= nil then
		target_logic[info.__link] = self
	end
end

function DisplayObject:Deserialize(info, target_logic, parent)
	self:DeserializeSetter(info)
	if self._pickup_rect then
		if parent ~= nil then
			parent:AddChild(self)
		end
		self:DeserializeShowChild(info, target_logic)
		if target_logic ~= nil then
			self:DeserializeLinkEvent(info, target_logic)
		end
	else
		self:DeserializeShowChild(info, target_logic)
		if target_logic ~= nil then
			self:DeserializeLinkEvent(info, target_logic)
		end
		if parent ~= nil then
			parent:AddChild(self)
		end
	end
	if info.__target_class ~= nil then
		local tctor = self["TCtor"]
		if tctor ~= nil then
			tctor(self)
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
DisplayView = Lua.Class(ALittle.DisplayLayout, "ALittle.DisplayView")

function DisplayView:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPIDisplayView())
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
Image = Lua.Class(ALittle.DisplayObject, "ALittle.Image")

function Image:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPIImage())
	___rawset(self, "_texture_width", 0)
	___rawset(self, "_texture_height", 0)
	___rawset(self, "_tex_coord_t", 0)
	___rawset(self, "_tex_coord_b", 1)
	___rawset(self, "_tex_coord_l", 0)
	___rawset(self, "_tex_coord_r", 1)
	___rawset(self, "_flip", 0)
	A_LoadTextureManager:RegisterRedrawControl(self)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFLButtonUp)
end

function Image:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], c_event)
	end
end

function Image:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], c_event)
	end
end

function Image:HandleFLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], c_event)
	end
end

function Image:Redraw()
	self._show:ClearTexture()
	if self._texture ~= nil then
		self._texture:Clear()
		self._texture = nil
	end
	if self._texture_name == nil then
		return
	end
	if self._texture_cut ~= nil then
		A_LoadTextureManager:SetTextureCut(self, self._texture_name, self._texture_cut.max_width, self._texture_cut.max_height, self._texture_cut.cache)
	else
		self._ctrl_sys:SetTexture(self, self._texture_name)
	end
end

function Image:CopyTextureRef(image)
	if image == nil or image._texture == nil then
		return
	end
	self._texture_name = image._texture_name
	self._texture_cut = nil
	if image._texture_cut ~= nil then
		self._texture_cut = {}
		self._texture_cut.max_width = image._texture_cut.max_width
		self._texture_cut.max_height = image._texture_cut.max_height
		self._texture_cut.cache = image._texture_cut.cache
	end
	self._texture = image._texture
	self._show:SetTexture(image._texture:GetTexture())
	self:SetTextureCoord(image._tex_coord_t, image._tex_coord_b, image._tex_coord_l, image._tex_coord_r)
	self._texture_width = image._texture_width
	self._texture_height = image._texture_height
end

function Image.__setter:texture_name(value)
	if self._texture_name == value then
		return
	end
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = value
	if self._texture_name ~= nil then
		self._texture_cut = nil
		self._ctrl_sys:SetTexture(self, value)
	end
end

function Image:SetTextureCut(texture_name, max_width, max_height, cache, callback)
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = texture_name
	if self._texture_name ~= nil then
		self._texture_cut = {}
		if max_width == nil then
			max_width = 0
		end
		self._texture_cut.max_width = max_width
		if max_height == nil then
			max_height = 0
		end
		self._texture_cut.max_height = max_height
		self._texture_cut.cache = cache
		A_LoadTextureManager:SetTextureCut(self, texture_name, max_width, max_height, cache, callback)
	end
end

function Image.__setter:texture_cut(param)
	self:SetTextureCut(param.texture_name, param.max_width, param.max_height, param.cache)
end

function Image.__getter:texture_cut()
	if self._texture_cut == nil then
		return nil
	end
	local texture_cut = {}
	texture_cut.max_width = self._texture_cut.max_width
	texture_cut.max_height = self._texture_cut.max_height
	texture_cut.texture_name = self._texture_name
	return texture_cut
end

function Image.__getter:texture_name()
	return self._texture_name
end

function Image.__setter:texture(value)
	self._show:SetTexture(value:GetTexture())
	self._texture_width = value:GetWidth()
	self._texture_height = value:GetHeight()
	self._texture = value
end

function Image.__getter:texture()
	return self._texture
end

function Image:SetTextureCoord(t, b, l, r)
	self._tex_coord_t = t
	self._tex_coord_b = b
	self._tex_coord_l = l
	self._tex_coord_r = r
	self._show:SetTextureCoord(t, b, l, r)
end

function Image.__getter:texture_width()
	return self._texture_width
end

function Image.__getter:texture_height()
	return self._texture_height
end

function Image.__getter:flip()
	return self._flip
end

function Image.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __cos = Math_Cos
local __sin = Math_Sin
Matrix2D = Lua.Class(nil, "ALittle.Matrix2D")

function Matrix2D:Ctor()
	local m = {}
	m[0] = {}
	m[1] = {}
	m[2] = {}
	___rawset(self, "_m", m)
	self:SetIdentity()
end

function Matrix2D:SetIdentity()
	local m = self._m
	m[0][0] = 1
	m[0][1] = 0
	m[0][2] = 0
	m[1][0] = 0
	m[1][1] = 1
	m[1][2] = 0
	m[2][0] = 0
	m[2][1] = 0
	m[2][2] = 1
end

function Matrix2D:SetRotate(rad)
	local m = self._m
	m[0][0] = __cos(rad)
	m[0][1] = __sin(rad)
	m[0][2] = 0
	m[1][0] = -m[0][1]
	m[1][1] = m[0][0]
	m[1][2] = 0
	m[2][0] = 0
	m[2][1] = 0
	m[2][2] = 1
end

function Matrix2D:Rotate(rad)
	local m = Matrix2D()
	m:SetRotate(rad)
	self:Multiply(m)
end

function Matrix2D:SetTranslation(x, y)
	local m = self._m
	m[0][0] = 1
	m[0][1] = 0
	m[0][2] = 0
	m[1][0] = 0
	m[1][1] = 1
	m[1][2] = 0
	m[2][0] = x
	m[2][1] = y
	m[2][2] = 1
end

function Matrix2D:Translation(x, y)
	local m = Matrix2D()
	m:SetTranslation(x, y)
	self:Multiply(m)
end

function Matrix2D:SetScale(x, y)
	local m = self._m
	m[0][0] = x
	m[0][1] = 0
	m[0][2] = 0
	m[1][0] = 0
	m[1][1] = y
	m[1][2] = 0
	m[2][0] = 0
	m[2][1] = 0
	m[2][2] = 1
end

function Matrix2D:Scale(x, y)
	local m = Matrix2D()
	m:SetScale(x, y)
	self:Multiply(m)
end

function Matrix2D:Multiply(right)
	local r = {}
	local m = self._m
	local rm = right._m
	r[0] = {}
	r[0][0] = m[0][0] * rm[0][0] + m[0][1] * rm[1][0] + m[0][2] * rm[2][0]
	r[0][1] = m[0][0] * rm[0][1] + m[0][1] * rm[1][1] + m[0][2] * rm[2][1]
	r[0][2] = m[0][0] * rm[0][2] + m[0][1] * rm[1][2] + m[0][2] * rm[2][2]
	r[1] = {}
	r[1][0] = m[1][0] * rm[0][0] + m[1][1] * rm[1][0] + m[1][2] * rm[2][0]
	r[1][1] = m[1][0] * rm[0][1] + m[1][1] * rm[1][1] + m[1][2] * rm[2][1]
	r[1][2] = m[1][0] * rm[0][2] + m[1][1] * rm[1][2] + m[1][2] * rm[2][2]
	r[2] = {}
	r[2][0] = m[2][0] * rm[0][0] + m[2][1] * rm[1][0] + m[2][2] * rm[2][0]
	r[2][1] = m[2][0] * rm[0][1] + m[2][1] * rm[1][1] + m[2][2] * rm[2][1]
	r[2][2] = m[2][0] * rm[0][2] + m[2][1] * rm[1][2] + m[2][2] * rm[2][2]
	self._m = r
end

Vector2D = Lua.Class(nil, "ALittle.Vector2D")

function Vector2D:Ctor(xx, yy)
	___rawset(self, "_x", xx)
	___rawset(self, "_y", yy)
end

function Vector2D:Multiply(right)
	local rm = right._m
	local xx = self._x * rm[0][0] + self._y * rm[1][0] + 1 * rm[2][0]
	local yy = self._x * rm[0][1] + self._y * rm[1][1] + 1 * rm[2][1]
	self._x = xx
	self._y = yy
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
Quad = Lua.Class(ALittle.DisplayObject, "ALittle.Quad")

function Quad:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPIQuad())
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFLButtonUp)
end

function Quad:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], c_event)
	end
end

function Quad:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], c_event)
	end
end

function Quad:HandleFLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], c_event)
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
Sprite = Lua.Class(ALittle.DisplayObject, "ALittle.Sprite")

function Sprite:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPISprite())
	___rawset(self, "_texture_width", 0)
	___rawset(self, "_texture_height", 0)
	___rawset(self, "_tex_coord_t", 0)
	___rawset(self, "_tex_coord_b", 1)
	___rawset(self, "_tex_coord_l", 0)
	___rawset(self, "_tex_coord_r", 1)
	___rawset(self, "_row_count", 1)
	___rawset(self, "_col_count", 1)
	___rawset(self, "_row_index", 1)
	___rawset(self, "_col_index", 1)
	___rawset(self, "_flip", 0)
	A_LoadTextureManager:RegisterRedrawControl(self)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFLButtonUp)
end

function Sprite:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], c_event)
	end
end

function Sprite:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], c_event)
	end
end

function Sprite:HandleFLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], c_event)
	end
end

function Sprite:Redraw()
	self._show:ClearTexture()
	if self._texture ~= nil then
		self._texture:Clear()
		self._texture = nil
	end
	if self._texture_name == nil then
		return
	end
	if self._texture_cut ~= nil then
		A_LoadTextureManager:SetTextureCut(self, self._texture_name, 0, 0, self._texture_cut.cache)
	else
		self._ctrl_sys:SetTexture(self, self._texture_name)
	end
end

function Sprite:CopyTextureRef(sprite)
	if sprite == nil or sprite._texture == nil then
		return
	end
	self._texture_name = sprite._texture_name
	self._texture_cut = nil
	if sprite._texture_cut ~= nil then
		self._texture_cut = {}
		self._texture_cut.max_width = sprite._texture_cut.max_width
		self._texture_cut.max_height = sprite._texture_cut.max_height
		self._texture_cut.cache = sprite._texture_cut.cache
	end
	self._texture = sprite._texture
	self._show:SetTexture(sprite._texture:GetTexture())
	self:SetTextureCoord(sprite._tex_coord_t, sprite._tex_coord_b, sprite._tex_coord_l, sprite._tex_coord_r)
	self._texture_width = sprite._texture_width
	self._texture_height = sprite._texture_height
	self.row_count = sprite.row_count
	self.col_count = sprite.col_count
	self.row_index = sprite.row_index
	self.col_index = sprite.col_index
end

function Sprite.__setter:texture_name(value)
	if self._texture_name == value then
		return
	end
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = value
	if self._texture_name ~= nil then
		self._texture_cut = nil
		self._ctrl_sys:SetTexture(self, value)
	end
end

function Sprite:SetTextureCut(texture_name, cache, index)
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = texture_name
	if self._texture_name ~= nil then
		self._texture_cut = {}
		self._texture_cut.cache = cache
		A_LoadTextureManager:SetTextureCut(self, texture_name, 0, 0, cache)
	end
end

function Sprite.__getter:texture_name()
	return self._texture_name
end

function Sprite.__setter:texture(value)
	self._show:SetTexture(value:GetTexture())
	self._texture_width = value:GetWidth()
	self._texture_height = value:GetHeight()
	self._texture = value
end

function Sprite.__getter:texture()
	return self._texture
end

function Sprite:SetTextureCoord(t, b, l, r)
	self._tex_coord_t = t
	self._tex_coord_b = b
	self._tex_coord_l = l
	self._tex_coord_r = r
	self._show:SetTextureCoord(t, b, l, r)
end

function Sprite.__getter:texture_width()
	return self._texture_width
end

function Sprite.__getter:texture_height()
	return self._texture_height
end

function Sprite.__setter:row_count(value)
	self._row_count = value
	self._show:SetRowColCount(self._row_count, self._col_count)
end

function Sprite.__getter:row_count()
	return self._row_count
end

function Sprite.__setter:col_count(value)
	self._col_count = value
	self._show:SetRowColCount(self._row_count, self._col_count)
end

function Sprite.__getter:col_count()
	return self._col_count
end

function Sprite.__setter:row_index(value)
	self._row_index = value
	self._show:SetRowColIndex(self._row_index - 1, self._col_index - 1)
end

function Sprite.__getter:row_index()
	return self._row_index
end

function Sprite.__setter:col_index(value)
	self._col_index = value
	self._show:SetRowColIndex(self._row_index - 1, self._col_index - 1)
end

function Sprite.__getter:col_index()
	return self._col_index
end

function Sprite:SetRowCol(row, col)
	self._row_index = row
	self._col_index = col
	self._show:SetRowColIndex(self._row_index - 1, self._col_index - 1)
end

function Sprite.__getter:flip()
	return self._flip
end

function Sprite.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __tostring = String_ToString
local __byte = String_Byte
local __type = String_Type
assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
Text = Lua.Class(ALittle.DisplayObject, "ALittle.Text")

function Text:Ctor(ctrl_sys)
	___rawset(self, "_text", "")
	___rawset(self, "_bold", false)
	___rawset(self, "_italic", false)
	___rawset(self, "_underline", false)
	___rawset(self, "_deleteline", false)
	___rawset(self, "_outline", false)
	___rawset(self, "_flip", 0)
	___rawset(self, "_show", __CPPAPIText())
	A_LoadTextureManager:RegisterRedrawControl(self)
end

function Text:Redraw()
	self._show:NeedDraw()
end

function Text.__setter:font_path(value)
	self._font_path = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
	self:RejuseSize()
end

function Text.__setter:font_size(value)
	self._font_size = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
	self:RejuseSize()
end

function Text.__getter:font_path()
	return self._font_path
end

function Text.__getter:font_size()
	return self._font_size
end

function Text.__setter:text(value)
	if value == nil then
		return
	end
	value = __tostring(value)
	if self._text == value then
		return
	end
	self._text = value
	self._show:SetText(value)
	self:RejuseSize()
end

function Text.__getter:text()
	return self._text
end

function Text.__setter:bold(value)
	if self._bold == value then
		return
	end
	self._bold = value
	self._show:SetBold(value)
	self:RejuseSize()
end

function Text.__getter:bold()
	return self._bold
end

function Text.__setter:italic(value)
	if self._italic == value then
		return
	end
	self._italic = value
	self._show:SetItalic(value)
	self:RejuseSize()
end

function Text.__getter:italic()
	return self._italic
end

function Text.__setter:underline(value)
	if self._underline == value then
		return
	end
	self._underline = value
	self._show:SetUnderline(value)
	self:RejuseSize()
end

function Text.__getter:underline()
	return self._underline
end

function Text.__setter:deleteline(value)
	if self._deleteline == value then
		return
	end
	self._deleteline = value
	self._show:SetDeleteline(value)
	self:RejuseSize()
end

function Text.__getter:deleteline()
	return self._deleteline
end

function Text.__setter:outline(value)
	if self._outline == value then
		return
	end
	self._outline = value
	self._show:SetOutline(value)
	self:RejuseSize()
end

function Text.__getter:outline()
	return self._outline
end

function Text:RejuseSize()
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self.width = self._show:GetRealWidth()
	self.height = self._show:GetRealHeight()
	self:UpdateLayout()
end

function Text.__setter:rejust_size(value)
	if value ~= true then
		return
	end
	self:RejuseSize()
end

function Text:DeserializeSetter(info)
	local base_attr = info.__base_attr
	if base_attr == nil then
		base_attr = {}
		for key, value in ___pairs(info) do
			if __byte(key, 1) ~= 95 and (__type(value) ~= "table" or value.__class == nil) and key ~= "file_path" then
				base_attr[key] = value
			end
		end
		info.__base_attr = base_attr
	end
	for key, value in ___pairs(base_attr) do
		self[key] = value
	end
	if info.font_path ~= nil then
		self["font_path"] = info.font_path
	end
end

function Text.__getter:font_height()
	return self._show:GetFontHeight()
end

function Text.__getter:flip()
	return self._flip
end

function Text.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __tostring = String_ToString
assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
TextArea = Lua.Class(ALittle.DisplayObject, "ALittle.TextArea")

function TextArea:Ctor(ctrl_sys)
	___rawset(self, "_text", "")
	___rawset(self, "_bold", false)
	___rawset(self, "_italic", false)
	___rawset(self, "_underline", false)
	___rawset(self, "_deleteline", false)
	___rawset(self, "_outline", false)
	___rawset(self, "_flip", 0)
	___rawset(self, "_halign_type", UIEnumTypes.HALIGN_LEFT)
	___rawset(self, "_valign_type", UIEnumTypes.VALIGN_TOP)
	___rawset(self, "_show", __CPPAPITextArea())
	A_LoadTextureManager:RegisterRedrawControl(self)
end

function TextArea:Redraw()
	self._show:NeedDraw()
end

function TextArea.__setter:font_path(value)
	self._font_path = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
end

function TextArea.__setter:font_size(value)
	self._font_size = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
end

function TextArea.__getter:font_path()
	return self._font_path
end

function TextArea.__getter:font_size()
	return self._font_size
end

function TextArea.__setter:text(value)
	if value == nil then
		return
	end
	value = __tostring(value)
	if self._text == value then
		return
	end
	self._text = value
	self._show:SetText(value)
end

function TextArea.__getter:text()
	return self._text
end

function TextArea.__setter:bold(value)
	if self._bold == value then
		return
	end
	self._bold = value
	self._show:SetBold(value)
end

function TextArea.__getter:bold()
	return self._bold
end

function TextArea.__setter:italic(value)
	if self._italic == value then
		return
	end
	self._italic = value
	self._show:SetItalic(value)
end

function TextArea.__getter:italic()
	return self._italic
end

function TextArea.__setter:underline(value)
	if self._underline == value then
		return
	end
	self._underline = value
	self._show:SetUnderline(value)
end

function TextArea.__getter:underline()
	return self._underline
end

function TextArea.__setter:deleteline(value)
	if self._deleteline == value then
		return
	end
	self._deleteline = value
	self._show:SetDeleteline(value)
end

function TextArea.__getter:deleteline()
	return self._deleteline
end

function TextArea.__setter:outline(value)
	if self._outline == value then
		return
	end
	self._outline = value
	self._show:SetOutline(value)
end

function TextArea.__getter:outline()
	return self._outline
end

function TextArea.__setter:halign(value)
	if self._halign_type == value then
		return
	end
	self._halign_type = value
	self._show:SetHAlign(value)
end

function TextArea.__getter:halign()
	return self._halign_type
end

function TextArea.__setter:valign(value)
	if self._valign_type == value then
		return
	end
	self._valign_type = value
	self._show:SetVAlign(value)
end

function TextArea.__getter:valign()
	return self._valign_type
end

function TextArea.__getter:real_height()
	return self._show:GetRealHeight()
end

function TextArea.__getter:flip()
	return self._flip
end

function TextArea.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __type = String_Type
local __tonumber = Math_ToDouble
local __tostring = String_ToString
local __floor = Math_Floor
local __sub = String_Sub
local __find = String_Find
assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
TextEdit = Lua.Class(ALittle.DisplayObject, "ALittle.TextEdit")

function TextEdit:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPITextEdit())
	___rawset(self, "_cursor_red", 1)
	___rawset(self, "_cursor_green", 1)
	___rawset(self, "_cursor_blue", 1)
	___rawset(self, "_bold", false)
	___rawset(self, "_italic", false)
	___rawset(self, "_underline", false)
	___rawset(self, "_deleteline", false)
	___rawset(self, "_outline", false)
	___rawset(self, "_default_text", "")
	___rawset(self, "_default_text_alpha", 1)
	___rawset(self, "_flip", 0)
	___rawset(self, "_current_flash_alpha", 1)
	___rawset(self, "_current_flash_dir", -0.05)
	___rawset(self, "_is_selecting", false)
	___rawset(self, "_can_scroll", true)
	___rawset(self, "_editable", true)
	___rawset(self, "_ims_padding", 0)
	___rawset(self, "_regex", "")
	___rawset(self, "_limit_len", 0)
	self:AddEventListener(___all_struct[-644464135], self, self.HandleFocusIn)
	self:AddEventListener(___all_struct[292776509], self, self.HandleFocusOut)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[-1234078962], self, self.HandleTextInput)
	self:AddEventListener(___all_struct[-1604617962], self, self.HandleKeyDown)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	self:AddEventListener(___all_struct[-1737121315], self, self.HandleMButtonWheel)
	A_LoadTextureManager:RegisterRedrawControl(self)
end

function TextEdit:Redraw()
	self._show:NeedDraw()
end

function TextEdit:Update()
	if self._is_selecting == false then
		self._current_flash_alpha = self._current_flash_alpha + self._current_flash_dir
		if (self._current_flash_dir < 0 and self._current_flash_alpha < -0.05) or (self._current_flash_dir > 0 and self._current_flash_alpha > 1.5) then
			self._current_flash_dir = -self._current_flash_dir
		end
	else
		self._current_flash_alpha = 0.5
	end
	self._show:SetCursorAlpha(self._current_flash_alpha)
end

function TextEdit.__getter:is_input()
	return true
end

function TextEdit:GetRealHeight()
	return self._show:GetRealHeight()
end

function TextEdit:GetLineWidth(line_index)
	line_index = line_index - 1
	return self._show:GetLineWidth(line_index)
end

function TextEdit:GetLineCount()
	return self._show:GetLineCount()
end

function TextEdit:GetScrollOffset()
	return self._show:GetScrollOffset()
end

function TextEdit.__setter:default_text(value)
	self._default_text = value
	if self._default_text == nil then
		self._default_text = ""
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(true, self._default_text)
	end
end

function TextEdit.__getter:default_text()
	return self._default_text
end

function TextEdit.__setter:default_text_alpha(value)
	if __type(value) ~= "number" then
		value = __tonumber(value)
	end
	if value == nil or self._default_text_alpha == value then
		return
	end
	self._default_text_alpha = value
	self._show:SetDefaultTextAlpha(value)
end

function TextEdit.__getter:default_text_alpha()
	return self._default_text_alpha
end

function TextEdit.__getter:cursor_x()
	return self._show:GetCursorX()
end

function TextEdit.__getter:cursor_y()
	return self._show:GetCursorY()
end

function TextEdit.__setter:editable(value)
	self._editable = value
end

function TextEdit.__getter:editable()
	return self._editable
end

function TextEdit.__setter:font_path(value)
	self._font_path = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
end

function TextEdit.__setter:font_size(value)
	self._font_size = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
end

function TextEdit.__getter:font_path()
	return self._font_path
end

function TextEdit.__getter:font_size()
	return self._font_size
end

function TextEdit.__setter:text(value)
	if value == nil then
		return
	end
	value = __tostring(value)
	self._is_selecting = false
	if value == "" then
		if self._default_text == nil then
			self._default_text = ""
		end
		self._show:SetDefaultText(true, self._default_text)
	else
		self._show:SetDefaultText(false, "")
		self._show:SetText(value)
	end
end

function TextEdit.__getter:text()
	if self._show:IsDefaultText() then
		return ""
	end
	return self._show:GetText()
end

function TextEdit.__setter:bold(value)
	if self._bold == value then
		return
	end
	self._bold = value
	self._show:SetBold(value)
end

function TextEdit.__getter:bold()
	return self._bold
end

function TextEdit.__setter:italic(value)
	if self._italic == value then
		return
	end
	self._italic = value
	self._show:SetItalic(value)
end

function TextEdit.__getter:italic()
	return self._italic
end

function TextEdit.__setter:underline(value)
	if self._underline == value then
		return
	end
	self._underline = value
	self._show:SetUnderline(value)
end

function TextEdit.__getter:underline()
	return self._underline
end

function TextEdit.__setter:deleteline(value)
	if self._deleteline == value then
		return
	end
	self._deleteline = value
	self._show:SetDeleteline(value)
end

function TextEdit.__getter:deleteline()
	return self._deleteline
end

function TextEdit.__setter:outline(value)
	if self._outline == value then
		return
	end
	self._outline = value
	self._show:SetOutline(value)
end

function TextEdit.__getter:outline()
	return self._outline
end

function TextEdit:SetCursorToEnd()
	self._is_selecting = false
	self._show:SetCursorToEnd()
end

function TextEdit:SetCursorToHome()
	self._is_selecting = false
	self._show:SetCursorToHome()
end

function TextEdit.__setter:ims_padding(value)
	self._ims_padding = value
end

function TextEdit.__getter:ims_padding()
	return self._ims_padding
end

function TextEdit.__getter:regex()
	return self._regex
end

function TextEdit.__setter:regex(value)
	if value == nil then
		value = ""
	end
	self._regex = value
end

function TextEdit.__getter:limit_len()
	return self._limit_len
end

function TextEdit.__setter:limit_len(value)
	if value == nil then
		value = 0
	end
	self._limit_len = value
end

function TextEdit:HandleFocusIn(event)
	self._show:ShowCursor(true)
	if self._loop == nil then
		self._loop = LoopFunction(Lua.Bind(self.Update, self), -1, 1, 1)
	end
	A_LoopSystem:AddUpdater(self._loop)
	if self._editable then
		local global_x, global_y = self:LocalToGlobal()
		global_x = global_x + (self.cursor_x)
		global_y = global_y + ((self.cursor_y + self.font_size) * self.scale_y)
		System_SetIMERect(__floor(global_x), __floor(global_y), 10, 5 + self._ims_padding)
		System_OpenIME()
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(false, "")
	end
end

function TextEdit:HandleFocusOut(event)
	self._is_selecting = false
	self._show:ShowCursor(false)
	A_LoopSystem:RemoveUpdater(self._loop)
	System_CloseIME()
	if self.text == "" then
		if self._default_text == nil then
			self._default_text = ""
		end
		self._show:SetDefaultText(true, self._default_text)
	end
end

function TextEdit:HandleLButtonDown(event)
	if self._editable then
		local global_x, global_y = self:LocalToGlobal()
		global_x = global_x + (self.cursor_x)
		global_y = global_y + ((self.cursor_y + self.font_size) * self.scale_y)
		System_SetIMERect(__floor(global_x), __floor(global_y), 10, 5 + self._ims_padding)
		System_OpenIME()
	end
	if event.count % 3 == 1 then
		self._is_selecting = false
		self._show:ClickCursor(event.rel_x, event.rel_y)
	elseif event.count % 3 == 2 then
		self._is_selecting = self._show:ClickWordCursor(event.rel_x, event.rel_y)
	else
		self._is_selecting = true
		self._show:SelectAll()
	end
end

function TextEdit:CheckTextRegexLimit(text)
	if self._limit_len > 0 then
		local text_len = String_GetWordCount(text)
		if text_len > self._limit_len then
			return false
		end
		local select_len = String_GetWordCount(self._show:GetSelectText())
		local total_len = String_GetWordCount(self.text)
		if total_len - select_len + text_len > self._limit_len then
			return false
		end
	end
	if self._regex ~= "" then
		while text ~= "" do
			local byte_count = String_GetByteCount(text, 1)
			local sub_text = __sub(text, 1, byte_count)
			local start_it = __find(sub_text, self._regex)
			if start_it == nil then
				return false
			end
			text = __sub(text, byte_count + 1)
		end
	end
	return true
end

function TextEdit:HandleTextInput(event)
	if self._editable or event.custom then
		self._is_selecting = false
		if self:CheckTextRegexLimit(event.text) == false then
			return
		end
		local is_change = self._show:InsertText(event.text)
		if is_change then
			self:DispatchEvent(___all_struct[958494922], {})
		end
	end
end

function TextEdit:HandleKeyDown(event)
	local is_change = false
	if event.sym == 9 then
		if self._editable or event.custom then
			self._is_selecting = false
			if self:CheckTextRegexLimit("\t") == false then
				return
			end
			is_change = self._show:InsertText("\t")
			if is_change then
				self:DispatchEvent(___all_struct[958494922], {})
			end
			event.handled = true
		end
	elseif event.sym == 1073741904 then
		if BitAnd(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
			self._is_selecting = false
			self._show:CursorOffsetLR(true)
		else
			self._is_selecting = true
			self._show:SelectCursorOffsetLR(true)
		end
		event.handled = true
	elseif event.sym == 1073741903 then
		if BitAnd(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
			self._is_selecting = false
			self._show:CursorOffsetLR(false)
		else
			self._is_selecting = true
			self._show:SelectCursorOffsetLR(false)
		end
		event.handled = true
	elseif event.sym == 1073741906 then
		if BitAnd(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
			self._is_selecting = false
			self._show:CursorOffsetUD(true)
		else
			self._is_selecting = true
			self._show:SelectCursorOffsetUD(true)
		end
		event.handled = true
	elseif event.sym == 1073741905 then
		if BitAnd(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
			self._is_selecting = false
			self._show:CursorOffsetUD(false)
		else
			self._is_selecting = true
			self._show:SelectCursorOffsetUD(false)
		end
		event.handled = true
	elseif event.sym == 8 then
		if self._editable or event.custom then
			self._is_selecting = false
			is_change = self._show:DeleteText(true)
			event.handled = true
		end
	elseif event.sym == 127 then
		if self._editable or event.custom then
			self._is_selecting = false
			is_change = self._show:DeleteText(false)
			event.handled = true
		end
	elseif event.sym == 1073741898 then
		self._is_selecting = false
		self._show:SetCursorToHome()
		event.handled = true
	elseif event.sym == 1073741901 then
		self._is_selecting = false
		self._show:SetCursorToEnd()
		event.handled = true
	elseif event.sym == 13 or event.sym == 1073741912 then
		if self._editable or event.custom then
			self._is_selecting = false
			if self:CheckTextRegexLimit("\n") == false then
				return
			end
			is_change = self._show:InsertText("\n")
			if is_change then
				self:DispatchEvent(___all_struct[958494922], {})
			end
			event.handled = true
		end
	elseif event.sym == 120 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._editable or event.custom then
			self._is_selecting = false
			local select_text = self._show:GetSelectText()
			if select_text ~= "" then
				System_SetClipboardText(select_text)
				is_change = self._show:DeleteSelectText()
			end
			event.handled = true
		end
	elseif event.sym == 99 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		local select_text = self._show:GetSelectText()
		if select_text ~= "" then
			System_SetClipboardText(select_text)
		end
		event.handled = true
	elseif event.sym == 118 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._editable or event.custom then
			self._is_selecting = false
			if System_HasClipboardText() then
				local clip_board_text = System_GetClipboardText()
				if self:CheckTextRegexLimit(clip_board_text) == false then
					return
				end
				is_change = self._show:InsertText(clip_board_text)
			end
			event.handled = true
		end
	elseif event.sym == 97 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		self._is_selecting = true
		self._show:SelectAll()
		event.handled = true
	end
	if is_change then
		self:DispatchEvent(___all_struct[958494922], {})
		self._current_flash_alpha = 1.5
	end
end

function TextEdit:SelectAll()
	self._is_selecting = true
	self._show:SelectAll()
end

function TextEdit:CopyText()
	local select_text = self._show:GetSelectText()
	if select_text == "" then
		select_text = self.text
	end
	if select_text ~= "" then
		System_SetClipboardText(select_text)
	end
end

function TextEdit:PasteText()
	if self._editable == false then
		return
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(false, "")
	end
	self._is_selecting = false
	if System_HasClipboardText() then
		local clip_board_text = System_GetClipboardText()
		if self:CheckTextRegexLimit(clip_board_text) == false then
			return
		end
		self._show:InsertText(clip_board_text)
	end
end

function TextEdit:CutText()
	if self._editable == false then
		return
	end
	self._is_selecting = false
	local select_text = self._show:GetSelectText()
	if select_text ~= "" then
		System_SetClipboardText(select_text)
		self._show:DeleteSelectText()
	end
end

function TextEdit:InsertText(text)
	if self._editable == false then
		return
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(false, "")
	end
	self._is_selecting = false
	if text ~= nil then
		if self:CheckTextRegexLimit(text) == false then
			return
		end
		self._show:InsertText(text)
	end
end

function TextEdit:HandleDragBegin(event)
	self._is_selecting = true
	self._show:DragCursorBegin()
end

function TextEdit:HandleDrag(event)
	if self._is_selecting == false then
		return
	end
	self._show:DragCursor(event.rel_x, event.rel_y)
end

function TextEdit:HandleMButtonWheel(event)
	if event.delta_y > 0 then
		self._is_selecting = false
		self._show:CursorOffsetUD(true)
	elseif event.delta_y < 0 then
		self._is_selecting = false
		self._show:CursorOffsetUD(false)
	end
	if event.delta_x > 0 then
		self._is_selecting = false
		self._show:SelectCursorOffsetLR(true)
	elseif event.delta_x < 0 then
		self._is_selecting = false
		self._show:SelectCursorOffsetLR(false)
	end
end

function TextEdit:HandleMoveIn(event)
	System_SetEditCursor()
end

function TextEdit:HandleMoveOut(event)
	System_SetNormalCursor()
end

function TextEdit.__setter:cursor_red(value)
	if self._cursor_red == value then
		return
	end
	self._cursor_red = value
	self._show:SetCursorRed(value)
end

function TextEdit.__getter:cursor_red()
	return self._cursor_red
end

function TextEdit.__setter:cursor_green(value)
	if self._cursor_green == value then
		return
	end
	self._cursor_green = value
	self._show:SetCursorGreen(value)
end

function TextEdit.__getter:cursor_green()
	return self._cursor_green
end

function TextEdit.__setter:cursor_blue(value)
	if self._cursor_blue == value then
		return
	end
	self._cursor_blue = value
	self._show:SetCursorBlue(value)
end

function TextEdit.__getter:cursor_blue()
	return self._cursor_blue
end

function TextEdit.__getter:flip()
	return self._flip
end

function TextEdit.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __type = String_Type
local __tonumber = Math_ToDouble
local __tostring = String_ToString
local __floor = Math_Floor
local __sub = String_Sub
local __find = String_Find
assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
TextInput = Lua.Class(ALittle.DisplayObject, "ALittle.TextInput")

function TextInput:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPITextInput())
	___rawset(self, "_cursor_red", 1)
	___rawset(self, "_cursor_green", 1)
	___rawset(self, "_cursor_blue", 1)
	___rawset(self, "_bold", false)
	___rawset(self, "_italic", false)
	___rawset(self, "_underline", false)
	___rawset(self, "_deleteline", false)
	___rawset(self, "_outline", false)
	___rawset(self, "_password_mode", false)
	___rawset(self, "_default_text", "")
	___rawset(self, "_default_text_alpha", 1)
	___rawset(self, "_flip", 0)
	___rawset(self, "_current_flash_alpha", 1)
	___rawset(self, "_current_flash_dir", -0.05)
	___rawset(self, "_is_selecting", false)
	___rawset(self, "_editable", true)
	___rawset(self, "_ims_padding", 0)
	___rawset(self, "_regex", "")
	___rawset(self, "_limit_len", 0)
	self:AddEventListener(___all_struct[-644464135], self, self.HandleFocusIn)
	self:AddEventListener(___all_struct[292776509], self, self.HandleFocusOut)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[-1234078962], self, self.HandleTextInput)
	self:AddEventListener(___all_struct[-1604617962], self, self.HandleKeyDown)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	A_LoadTextureManager:RegisterRedrawControl(self)
end

function TextInput:Redraw()
	self._show:NeedDraw()
end

function TextInput.__getter:is_input()
	return true
end

function TextInput.__setter:default_text(value)
	self._default_text = value
	if self._default_text == nil then
		self._default_text = ""
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(true, self._default_text)
	end
end

function TextInput.__getter:default_text()
	return self._default_text
end

function TextInput.__setter:default_text_alpha(value)
	if self._default_text_alpha == value then
		return
	end
	self._default_text_alpha = value
	self._show:SetDefaultTextAlpha(value)
end

function TextInput.__getter:default_text_alpha()
	return self._default_text_alpha
end

function TextInput:Update()
	if self._is_selecting == false then
		self._current_flash_alpha = self._current_flash_alpha + self._current_flash_dir
		if (self._current_flash_dir < 0 and self._current_flash_alpha < -0.05) or (self._current_flash_dir > 0 and self._current_flash_alpha > 1.5) then
			self._current_flash_dir = -self._current_flash_dir
		end
	else
		self._current_flash_alpha = 0.5
	end
	self._show:SetCursorAlpha(self._current_flash_alpha)
end

function TextInput.__getter:cursor_x()
	return self._show:GetCursorX()
end

function TextInput.__getter:cursor_y()
	return self._show:GetCursorY()
end

function TextInput.__setter:editable(value)
	self._editable = value
end

function TextInput.__getter:editable()
	return self._editable
end

function TextInput.__setter:font_path(value)
	self._font_path = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
end

function TextInput.__setter:font_size(value)
	self._font_size = value
	if self._font_path == nil or self._font_size == nil then
		return
	end
	self._ctrl_sys:SetFont(self, self._font_path, self._font_size)
end

function TextInput.__getter:font_path()
	return self._font_path
end

function TextInput.__getter:font_size()
	return self._font_size
end

function TextInput.__setter:text(value)
	if value == nil then
		return
	end
	value = __tostring(value)
	self._is_selecting = false
	if value == "" then
		if self._default_text == nil then
			self._default_text = ""
		end
		self._show:SetDefaultText(true, self._default_text)
	else
		self._show:SetDefaultText(false, "")
		self._show:SetText(value)
	end
end

function TextInput.__getter:text()
	if self._show:IsDefaultText() then
		return ""
	end
	return self._show:GetText()
end

function TextInput.__setter:bold(value)
	if self._bold == value then
		return
	end
	self._bold = value
	self._show:SetBold(value)
end

function TextInput.__getter:bold()
	return self._bold
end

function TextInput.__setter:italic(value)
	if self._italic == value then
		return
	end
	self._italic = value
	self._show:SetItalic(value)
end

function TextInput.__getter:italic()
	return self._italic
end

function TextInput.__setter:underline(value)
	if self._underline == value then
		return
	end
	self._underline = value
	self._show:SetUnderline(value)
end

function TextInput.__getter:underline()
	return self._underline
end

function TextInput.__setter:deleteline(value)
	if self._deleteline == value then
		return
	end
	self._deleteline = value
	self._show:SetDeleteline(value)
end

function TextInput.__getter:deleteline()
	return self._deleteline
end

function TextInput.__setter:outline(value)
	if self._outline == value then
		return
	end
	self._outline = value
	self._show:SetOutline(value)
end

function TextInput.__getter:outline()
	return self._outline
end

function TextInput.__setter:password_mode(value)
	self._is_selecting = false
	if self._password_mode == value then
		return
	end
	self._password_mode = value
	self._show:SetPasswordMode(value)
end

function TextInput.__getter:password_mode()
	return self._password_mode
end

function TextInput.__setter:ims_padding(value)
	self._ims_padding = value
end

function TextInput.__getter:ims_padding()
	return self._ims_padding
end

function TextInput.__getter:regex()
	return self._regex
end

function TextInput.__setter:regex(value)
	if value == nil then
		value = ""
	end
	self._regex = value
end

function TextInput.__getter:limit_len()
	return self._limit_len
end

function TextInput.__setter:limit_len(value)
	if value == nil then
		value = 0
	end
	self._limit_len = value
end

function TextInput:HandleFocusIn(event)
	self._show:ShowCursor(true)
	if self._loop == nil then
		self._loop = LoopFunction(Lua.Bind(self.Update, self), -1, 1, 1)
	end
	A_LoopSystem:AddUpdater(self._loop)
	if self._editable then
		local global_x, global_y = self:LocalToGlobal()
		System_SetIMERect(__floor(global_x), __floor(global_y), __floor(self._width * self.scale_x), __floor(self._height * self.scale_y) + self._ims_padding)
		System_OpenIME()
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(false, "")
	end
end

function TextInput:HandleFocusOut(event)
	self._is_selecting = false
	self._show:ShowCursor(false)
	A_LoopSystem:RemoveUpdater(self._loop)
	System_CloseIME()
	if self.text == "" then
		if self._default_text == nil then
			self._default_text = ""
		end
		self._show:SetDefaultText(true, self._default_text)
	end
end

function TextInput:HandleLButtonDown(event)
	if self._editable then
		local global_x, global_y = self:LocalToGlobal()
		System_SetIMERect(__floor(global_x), __floor(global_y), __floor(self._width * self.scale_x), __floor(self._height * self.scale_y) + self._ims_padding)
		System_OpenIME()
	end
	if event.count % 3 == 1 then
		self._is_selecting = false
		self._show:ClickCursor(event.rel_x, 0.0)
	elseif event.count % 3 == 2 then
		self._is_selecting = self._show:ClickWordCursor(event.rel_x, 0.0)
	else
		self._is_selecting = true
		self._show:SelectAll()
	end
end

function TextInput:CheckTextRegexLimit(text)
	if self._limit_len > 0 then
		local text_len = String_GetWordCount(text)
		if text_len > self._limit_len then
			return false
		end
		local select_len = String_GetWordCount(self._show:GetSelectText())
		local total_len = String_GetWordCount(self.text)
		if total_len - select_len + text_len > self._limit_len then
			return false
		end
	end
	if self._regex ~= "" then
		while text ~= "" do
			local byte_count = String_GetByteCount(text, 1)
			local sub_text = __sub(text, 1, byte_count)
			local start_it = __find(sub_text, self._regex)
			if start_it == nil then
				return false
			end
			text = __sub(text, byte_count + 1)
		end
	end
	return true
end

function TextInput:HandleTextInput(event)
	if self._editable or event.custom then
		self._is_selecting = false
		if self:CheckTextRegexLimit(event.text) == false then
			return
		end
		local is_change = self._show:InsertText(event.text)
		if is_change then
			self:DispatchEvent(___all_struct[958494922], {})
		end
	end
end

function TextInput:HandleKeyDown(event)
	local is_change = false
	if event.sym == 1073741904 then
		if BitAnd(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
			self._is_selecting = false
			self._show:CursorOffset(true)
		else
			self._is_selecting = true
			self._show:SelectCursorOffset(true)
		end
		event.handled = true
	elseif event.sym == 1073741903 then
		if BitAnd(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
			self._is_selecting = false
			self._show:CursorOffset(false)
		else
			self._is_selecting = true
			self._show:SelectCursorOffset(false)
		end
		event.handled = true
	elseif event.sym == 8 then
		if self._editable or event.custom then
			self._is_selecting = false
			is_change = self._show:DeleteText(true)
			event.handled = true
		end
	elseif event.sym == 127 then
		if self._editable or event.custom then
			self._is_selecting = false
			is_change = self._show:DeleteText(false)
			event.handled = true
		end
	elseif event.sym == 1073741898 then
		self._is_selecting = false
		self._show:SetCursorToHome()
		event.handled = true
	elseif event.sym == 1073741901 then
		self._is_selecting = false
		self._show:SetCursorToEnd()
		event.handled = true
	elseif event.sym == 13 or event.sym == 1073741912 then
		if self._editable or event.custom then
			self:DispatchEvent(___all_struct[776398171], {})
			event.handled = true
		end
	elseif event.sym == 120 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._editable or event.custom then
			self._is_selecting = false
			local select_text = self._show:GetSelectText()
			if select_text ~= "" and (not self._password_mode) then
				System_SetClipboardText(select_text)
				is_change = self._show:DeleteSelectText()
			end
			event.handled = true
		end
	elseif event.sym == 99 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		local select_text = self._show:GetSelectText()
		if select_text ~= "" and (not self._password_mode) then
			System_SetClipboardText(select_text)
		end
		event.handled = true
	elseif event.sym == 118 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._editable or event.custom then
			self._is_selecting = false
			if System_HasClipboardText() then
				local clip_board_text = System_GetClipboardText()
				if self:CheckTextRegexLimit(clip_board_text) == false then
					return
				end
				is_change = self._show:InsertText(clip_board_text)
			end
			event.handled = true
		end
	elseif event.sym == 97 and BitAnd(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		self._is_selecting = true
		self._show:SelectAll()
		event.handled = true
	elseif event.sym == 9 then
		self:DispatchEvent(___all_struct[2024735182], {})
	end
	if is_change then
		self:DispatchEvent(___all_struct[958494922], {})
		self._current_flash_alpha = 1.5
	end
end

function TextInput:SetCursorToHome()
	self._is_selecting = false
	self._show:SetCursorToHome()
end

function TextInput:SetCursorToEnd()
	self._is_selecting = false
	self._show:SetCursorToEnd()
end

function TextInput:SelectAll()
	self._is_selecting = true
	self._show:SelectAll()
end

function TextInput:CopyText()
	local select_text = self._show:GetSelectText()
	if select_text == "" then
		select_text = self.text
	end
	if select_text ~= "" then
		System_SetClipboardText(select_text)
	end
end

function TextInput:PasteText()
	if self._editable == false then
		return
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(false, "")
	end
	self._is_selecting = false
	if System_HasClipboardText() then
		local clip_board_text = System_GetClipboardText()
		if self:CheckTextRegexLimit(clip_board_text) == false then
			return
		end
		self._show:InsertText(clip_board_text)
	end
end

function TextInput:CutText()
	if self._editable == false then
		return
	end
	self._is_selecting = false
	local select_text = self._show:GetSelectText()
	if select_text ~= "" then
		System_SetClipboardText(select_text)
		self._show:DeleteSelectText()
	end
end

function TextInput:InsertText(text)
	if self._editable == false then
		return
	end
	if self._show:IsDefaultText() then
		self._show:SetDefaultText(false, "")
	end
	self._is_selecting = false
	if text ~= nil then
		if self:CheckTextRegexLimit(text) == false then
			return
		end
		self._show:InsertText(text)
	end
end

function TextInput:HandleDragBegin(event)
	self._is_selecting = true
	self._show:DragCursorBegin()
end

function TextInput:HandleDrag(event)
	if self._is_selecting == false then
		return
	end
	self._show:DragCursor(event.rel_x, event.rel_y)
end

function TextInput:HandleMoveIn(event)
	System_SetEditCursor()
end

function TextInput:HandleMoveOut(event)
	System_SetNormalCursor()
end

function TextInput.__setter:cursor_red(value)
	if self._cursor_red == value then
		return
	end
	self._cursor_red = value
	self._show:SetCursorRed(value)
end

function TextInput.__getter:cursor_red()
	return self._cursor_red
end

function TextInput.__setter:cursor_green(value)
	if self._cursor_green == value then
		return
	end
	self._cursor_green = value
	self._show:SetCursorGreen(value)
end

function TextInput.__getter:cursor_green()
	return self._cursor_green
end

function TextInput.__setter:cursor_blue(value)
	if self._cursor_blue == value then
		return
	end
	self._cursor_blue = value
	self._show:SetCursorBlue(value)
end

function TextInput.__getter:cursor_blue()
	return self._cursor_blue
end

function TextInput.__getter:flip()
	return self._flip
end

function TextInput.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
Triangle = Lua.Class(ALittle.DisplayObject, "ALittle.Triangle")

function Triangle:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPITriangle())
	___rawset(self, "_u1", 0)
	___rawset(self, "_v1", 0)
	___rawset(self, "_u2", 0)
	___rawset(self, "_v2", 0)
	___rawset(self, "_u3", 0)
	___rawset(self, "_v3", 0)
	___rawset(self, "_x1", 0)
	___rawset(self, "_y1", 0)
	___rawset(self, "_x2", 0)
	___rawset(self, "_y2", 0)
	___rawset(self, "_x3", 0)
	___rawset(self, "_y3", 0)
	___rawset(self, "_texture_width", 0)
	___rawset(self, "_texture_height", 0)
	___rawset(self, "_auto_rejust", false)
	A_LoadTextureManager:RegisterRedrawControl(self)
end

function Triangle:Redraw()
	self._show:ClearTexture()
	if self._texture ~= nil then
		self._texture:Clear()
		self._texture = nil
	end
	if self._texture_name == nil then
		return
	end
	if self._texture_cut ~= nil then
		A_LoadTextureManager:SetTextureCut(self, self._texture_name, self._texture_cut.max_width, self._texture_cut.max_height, self._texture_cut.cache)
	else
		self._ctrl_sys:SetTexture(self, self._texture_name)
	end
end

function Triangle.__setter:texture_name(value)
	if self._texture_name == value then
		return
	end
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = value
	if self._texture_name ~= nil then
		self._texture_cut = nil
		self._ctrl_sys:SetTexture(self, value)
	end
end

function Triangle:SetTextureCut(texture_name, auto_rejust, max_width, max_height, cache, index)
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = texture_name
	if self._texture_name ~= nil then
		self._texture_cut = {}
		self._texture_cut.max_width = max_width
		self._texture_cut.max_height = max_height
		self._texture_cut.cache = cache
		self._auto_rejust = auto_rejust or false
		A_LoadTextureManager:SetTextureCut(self, texture_name, max_width, max_height, cache)
	end
end

function Triangle.__setter:texture_cut(param)
	self:SetTextureCut(param.texture_name, true, param.max_width, param.max_height, param.cache, nil)
end

function Triangle.__getter:texture_cut()
	if self._texture_cut == nil then
		return nil
	end
	local texture_cut = {}
	texture_cut.max_width = self._texture_cut.max_width
	texture_cut.max_height = self._texture_cut.max_height
	texture_cut.texture_name = self._texture_name
	return texture_cut
end

function Triangle.__getter:texture_name()
	return self._texture_name
end

function Triangle.__setter:texture(value)
	self._show:SetTexture(value:GetTexture())
	self._texture_width = value:GetWidth()
	self._texture_height = value:GetHeight()
	self._texture = value
	if self._auto_rejust then
		self.width = self._texture_width
		self.height = self._texture_height
	end
end

function Triangle.__getter:texture()
	return self._texture
end

function Triangle:SetTextureCoord(t, b, l, r)
	self._show:SetTextureCoord(t, b, l, r)
end

function Triangle.__getter:texture_width()
	return self._texture_width
end

function Triangle.__getter:texture_height()
	return self._texture_height
end

function Triangle.__getter:u1()
	return self._u1
end

function Triangle.__getter:v1()
	return self._v1
end

function Triangle.__getter:u2()
	return self._u2
end

function Triangle.__getter:v2()
	return self._v2
end

function Triangle.__getter:u3()
	return self._u3
end

function Triangle.__getter:v3()
	return self._v3
end

function Triangle.__setter:u1(v)
	self._u1 = v
	self._show:SetTexUV(0, self._u1, self._v1)
end

function Triangle.__setter:v1(v)
	self._v1 = v
	self._show:SetTexUV(0, self._u1, self._v1)
end

function Triangle.__setter:u2(v)
	self._u2 = v
	self._show:SetTexUV(1, self._u2, self._v2)
end

function Triangle.__setter:v2(v)
	self._v2 = v
	self._show:SetTexUV(1, self._u2, self._v2)
end

function Triangle.__setter:u3(v)
	self._u3 = v
	self._show:SetTexUV(2, self._u3, self._v3)
end

function Triangle.__setter:v3(v)
	self._v3 = v
	self._show:SetTexUV(2, self._u3, self._v3)
end

function Triangle.__getter:x1()
	return self._x1
end

function Triangle.__getter:y1()
	return self._y1
end

function Triangle.__getter:x2()
	return self._x2
end

function Triangle.__getter:y2()
	return self._y2
end

function Triangle.__getter:x3()
	return self._x3
end

function Triangle.__getter:y3()
	return self._y3
end

function Triangle.__setter:x1(v)
	self._x1 = v
	self._show:SetPosXY(0, self._x1, self._y1)
end

function Triangle.__setter:y1(v)
	self._y1 = v
	self._show:SetPosXY(0, self._x1, self._y1)
end

function Triangle.__setter:x2(v)
	self._x2 = v
	self._show:SetPosXY(1, self._x2, self._y2)
end

function Triangle.__setter:y2(v)
	self._y2 = v
	self._show:SetPosXY(1, self._x2, self._y2)
end

function Triangle.__setter:x3(v)
	self._x3 = v
	self._show:SetPosXY(2, self._x3, self._y3)
end

function Triangle.__setter:y3(v)
	self._y3 = v
	self._show:SetPosXY(2, self._x3, self._y3)
end

function Triangle:RejuseSize()
	local max = self._x1
	if max < self._x2 then
		max = self._x2
	end
	if max < self._x3 then
		max = self._x3
	end
	self.width = max
	max = self._y1
	if max < self._y2 then
		max = self._y2
	end
	if max < self._y3 then
		max = self._y3
	end
	self.height = max
	self:UpdateLayout()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(1517533145, "ALittle.DialogDragEvent", {
name = "ALittle.DialogDragEvent", ns_name = "ALittle", rl_name = "DialogDragEvent", hash_code = 1517533145,
name_list = {"target","delta_x","delta_y"},
type_list = {"ALittle.DisplayObject","double","double"},
option_map = {}
})
RegStruct(1971745271, "ALittle.DialogDragBeginEvent", {
name = "ALittle.DialogDragBeginEvent", ns_name = "ALittle", rl_name = "DialogDragBeginEvent", hash_code = 1971745271,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-1482649531, "ALittle.DialogDragEndEvent", {
name = "ALittle.DialogDragEndEvent", ns_name = "ALittle", rl_name = "DialogDragEndEvent", hash_code = -1482649531,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})

assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
Dialog = Lua.Class(ALittle.DisplayLayout, "ALittle.Dialog")

function Dialog:Ctor(ctrl_sys)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
	___rawset(self, "_title_text", "")
	___rawset(self, "_head", DisplayLayout(self._ctrl_sys))
	___rawset(self, "_body", DisplayLayout(self._ctrl_sys))
	___rawset(self, "_grid3", Grid3(self._ctrl_sys))
	self._grid3.width_type = UIEnumTypes.SIZE_MARGIN
	self._grid3.width_value = 0
	self._grid3.height_type = UIEnumTypes.SIZE_MARGIN
	self._grid3.height_value = 0
	self._grid3.type = UIEnumTypes.TYPE_V
	self._grid3.show_up = self._head
	self._grid3.show_center = self._body
	DisplayLayout.AddChild(self, self._grid3)
end

function Dialog.__setter:head_size(value)
	self._grid3.up_size = value
	if self._background ~= nil then
		self._background.height_value = self._grid3.up_size
	end
	if self._close_button ~= nil then
		self._close_button.x_value = (value - self._close_button.height) / 2
	end
	if self._title ~= nil then
		self._title.x_value = (value - self._title.font_height)
	end
end

function Dialog.__getter:head_size()
	return self._grid3.up_size
end

function Dialog:ResetHeadOrder()
	local index = 1
	if self._head_drag ~= nil then
		self._head:SetChildIndex(self._head_drag, index)
		index = index + 1
	end
	if self._title ~= nil then
		self._head:SetChildIndex(self._title, index)
		index = index + 1
	end
	if self._close_button ~= nil then
		self._head:SetChildIndex(self._close_button, index)
		index = index + 1
	end
end

function Dialog.__setter:show_background(value)
	if self._background ~= nil then
		DisplayLayout.RemoveChild(self, self._background)
	end
	self._background = value
	if self._background ~= nil then
		self._background.width_type = UIEnumTypes.SIZE_MARGIN
		self._background.width_value = 0
		self._background.height_type = UIEnumTypes.SIZE_MARGIN
		self._background.height_value = self._grid3.up_size
		self._background.y_type = UIEnumTypes.POS_ALIGN_ENDING
		DisplayLayout.AddChild(self, self._background, 1)
		self:ResetHeadOrder()
	end
end

function Dialog.__getter:show_background()
	return self._background
end

function Dialog.__setter:show_head_drag(value)
	if self._head_drag ~= nil then
		self._head:RemoveChild(self._head_drag)
		self._head_drag:RemoveEventListener(___all_struct[1301789264], self, self.HandleHeadDragBegin)
		self._head_drag:RemoveEventListener(___all_struct[1337289812], self, self.HandleHeadDrag)
		self._head_drag:RemoveEventListener(___all_struct[150587926], self, self.HandleHeadDragEnd)
	end
	self._head_drag = value
	if self._head_drag ~= nil then
		self._head_drag.width_type = UIEnumTypes.SIZE_MARGIN
		self._head_drag.width_value = 0
		self._head_drag.height_type = UIEnumTypes.SIZE_MARGIN
		self._head_drag.height_value = 0
		self._head:AddChild(self._head_drag)
		self:ResetHeadOrder()
		self._head_drag:AddEventListener(___all_struct[1301789264], self, self.HandleHeadDragBegin)
		self._head_drag:AddEventListener(___all_struct[1337289812], self, self.HandleHeadDrag)
		self._head_drag:AddEventListener(___all_struct[150587926], self, self.HandleHeadDragEnd)
	end
end

function Dialog.__getter:show_head_drag()
	return self._head_drag
end

function Dialog.__setter:show_title(value)
	if self._title ~= nil then
		self._title_text = self._title.text
		self._head:RemoveChild(self._title)
	end
	self._title = value
	if self._title ~= nil then
		self._title.text = self._title_text
		self._title.disabled = true
		self._title.y_type = UIEnumTypes.POS_ALIGN_CENTER
		self._title.y_value = 0
		self._head:AddChild(self._title)
		self._title.x_type = UIEnumTypes.POS_ABS
		self._title.x_value = (self._grid3.up_size - self._title.font_height)
		self:ResetHeadOrder()
	end
end

function Dialog.__getter:show_title()
	return self._title
end

function Dialog.__setter:title(value)
	self._title_text = value
	if self._title ~= nil then
		self._title.text = value
	end
end

function Dialog.__getter:title()
	if self._title ~= nil then
		return self._title.text
	end
	return self._title_text
end

function Dialog.__setter:show_close_button(value)
	if self._close_button ~= nil then
		self._head:RemoveChild(self._close_button)
		self._close_button:RemoveEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClicked)
	end
	self._close_button = value
	if self._close_button ~= nil then
		self._close_button.y_value = 0
		self._close_button.y_type = UIEnumTypes.POS_ALIGN_CENTER
		self._head:AddChild(self._close_button)
		self._close_button.x_type = UIEnumTypes.POS_ALIGN_ENDING
		self._close_button.x_value = (self._grid3.up_size - self._close_button.height) / 2
		self:ResetHeadOrder()
		self._close_button:AddEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClicked)
	end
end

function Dialog.__getter:show_close_button()
	return self._close_button
end

function Dialog.__setter:close_callback(value)
	self._close_callback = value
end

function Dialog.__getter:close_callback()
	return self._close_callback
end

function Dialog:HandleCloseButtonClicked(event)
	self.visible = false
	if self._close_callback ~= nil then
		self._close_callback()
	end
end

function Dialog:HandleHeadDragBegin(event)
	self:DispatchEvent(___all_struct[1971745271], {})
end

function Dialog:HandleHeadDrag(event)
	self.x = self.x + (event.delta_x)
	self.y = self.y + (event.delta_y)
	local new_event = {}
	new_event.target = self
	new_event.delta_x = event.delta_x
	new_event.delta_y = event.delta_y
	self:DispatchEvent(___all_struct[1517533145], new_event)
end

function Dialog:HandleHeadDragEnd(event)
	self:DispatchEvent(___all_struct[-1482649531], {})
end

function Dialog:GetChildIndex(child)
	return self._body:GetChildIndex(child)
end

function Dialog:SetChildIndex(child, index)
	return self._body:SetChildIndex(child, index)
end

function Dialog:GetChildByIndex(index)
	return self._body:GetChildByIndex(index)
end

function Dialog:GetChildIndex(child)
	return self._body:GetChildIndex(child)
end

function Dialog.__getter:childs()
	return self._body.childs
end

function Dialog.__getter:child_count()
	return self._body.child_count
end

function Dialog:AddChild(child, index)
	if child == nil or child == self then
		return false
	end
	if child._show_parent == self._body or child._logic_parent == self then
		return true
	end
	if child._logic_parent ~= nil then
		child._logic_parent:RemoveChild(child)
	elseif child._show_parent ~= nil then
		child._show_parent:RemoveChild(child)
	end
	local result = self._body:AddChild(child, index)
	child._logic_parent = self
	return result
end

function Dialog:RemoveChild(child)
	if child == nil then
		return false
	end
	if child._show_parent ~= self._body and child._logic_parent ~= self then
		return false
	end
	local index = self._body:GetChildIndex(child)
	if index == 0 then
		return false
	end
	return self._body:RemoveChild(child)
end

function Dialog:HasChild(child)
	return self._body:HasChild(child)
end

function Dialog:RemoveAllChild()
	self._body:RemoveAllChild()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.TextCheckButton, " extends class:ALittle.TextCheckButton is nil")
DropDown = Lua.Class(ALittle.TextCheckButton, "ALittle.DropDown")

function DropDown:Ctor(ctrl_sys)
	___rawset(self, "_body", DisplayLayout(self._ctrl_sys))
	self._body.__right_data = self
	self._body.visible = false
	___rawset(self, "_linear", Linear(self._ctrl_sys))
	self._linear.type = UIEnumTypes.TYPE_V
	self._linear.width_type = UIEnumTypes.SIZE_MARGIN
	self._linear.width_value = 0
	self._linear.height_type = UIEnumTypes.SIZE_MARGIN
	self._linear.height_value = 0
	___rawset(self, "_scroll_screen", ScrollScreen(self._ctrl_sys))
	self._scroll_screen.width_type = UIEnumTypes.SIZE_MARGIN
	self._scroll_screen.width_value = 0
	self._scroll_screen.height_type = UIEnumTypes.SIZE_MARGIN
	self._scroll_screen.height_value = 0
	self._scroll_screen.container = self._linear
	self._body:AddChild(self._scroll_screen)
	___rawset(self, "_body_margin", 0)
	___rawset(self, "_screen_margin_left", 0)
	___rawset(self, "_screen_margin_right", 0)
	___rawset(self, "_screen_margin_top", 0)
	___rawset(self, "_screen_margin_bottom", 0)
	___rawset(self, "_show_count", 0)
	self:AddEventListener(___all_struct[958494922], self, self.HandleButtonChange)
	self._body:AddEventListener(___all_struct[348388800], self, self.HandleBodyHide)
end

function DropDown.__setter:show_background(value)
	if self._background == value then
		return
	end
	self._body:RemoveChild(self._background)
	self._background = value
	if self._background ~= nil then
		self._background.width_type = UIEnumTypes.SIZE_MARGIN
		self._background.height_type = UIEnumTypes.SIZE_MARGIN
		self._background.width_value = 0
		self._background.height_value = 0
		self._body:AddChild(self._background, 0)
	end
end

function DropDown.__getter:show_background()
	return self._background
end

function DropDown.__setter:show_scrollbar(value)
	if self._scrollbar == value then
		return
	end
	self._scrollbar = value
	if self._scrollbar == nil then
		self._scroll_screen.right_scrollbar = nil
	end
	self:Layout()
end

function DropDown.__getter:show_scrollbar()
	return self._scrollbar
end

function DropDown.__setter:show_count(value)
	if self._show_count == value then
		return
	end
	self._show_count = value
	self:Layout()
end

function DropDown.__getter:show_count()
	return self._show_count
end

function DropDown.__setter:button_style(value)
	if self._button_style == value then
		return
	end
	local child_list = self._scroll_screen.childs
	for k, v in ___ipairs(child_list) do
		v:RemoveEventListener(___all_struct[-449066808], self, self.HandleItemButtonClick)
	end
	self._scroll_screen:RemoveAllChild()
	self._button_style = value
	local button = nil
	if self._button_style ~= nil and self._data_list ~= nil then
		for k, v in ___ipairs(self._data_list) do
			button = self._ctrl_sys:CreateControl(self._button_style, nil, self._scroll_screen)
			button:AddEventListener(___all_struct[-449066808], self, self.HandleItemButtonClick)
			button.text = v
			button.drag_trans_target = self._scroll_screen
		end
	end
	if self._show_count == 0 or self._show_count >= self._linear.child_count then
		self._body.height = self._linear.height + self._screen_margin_top + self._screen_margin_bottom
	elseif button ~= nil then
		self._body.height = button.height * self._show_count + self._screen_margin_top + self._screen_margin_bottom
	else
		self._body.height = 0
	end
end

function DropDown.__getter:button_style()
	return self._button_style
end

function DropDown.__setter:body_margin(value)
	self._body_margin = value
end

function DropDown.__getter:body_margin()
	return self._body_margin
end

function DropDown.__setter:screen_margin_left(value)
	self._screen_margin_left = value
end

function DropDown.__getter:screen_margin_left()
	return self._screen_margin_left
end

function DropDown.__setter:screen_margin_right(value)
	self._screen_margin_right = value
end

function DropDown.__getter:screen_margin_right()
	return self._screen_margin_right
end

function DropDown.__setter:screen_margin_top(value)
	self._screen_margin_top = value
end

function DropDown.__getter:screen_margin_top()
	return self._screen_margin_top
end

function DropDown.__setter:screen_margin_bottom(value)
	self._screen_margin_bottom = value
end

function DropDown.__getter:screen_margin_bottom()
	return self._screen_margin_bottom
end

function DropDown.__setter:data_list(value)
	if value == nil then
		value = {}
	end
	local button_style = self._button_style
	self._button_style = nil
	self._data_list = value
	self.button_style = button_style
	if List_MaxN(value) > 0 then
		self.text = value[1]
	else
		self.text = ""
	end
	self:Layout()
end

function DropDown.__getter:data_list()
	return self._data_list
end

function DropDown:HandleItemButtonClick(event)
	A_LayerManager:HideFromRight(self._body)
	if self.text == event.target.text then
		return
	end
	self.text = event.target.text
	self:DispatchEvent(___all_struct[444989011], {})
end

function DropDown:HandleButtonChange(event)
	if event.target.selected == false then
		A_LayerManager:HideFromRight(self._body)
	else
		local abs_x, abs_y = self:LocalToGlobal()
		local rejust_y = abs_y + self.height * self.scale_y
		if A_UISystem.view_height < rejust_y + self._scroll_screen.height * self.scale_y then
			rejust_y = abs_y - self._scroll_screen.height * self.scale_y
		end
		self._body.y = rejust_y
		self._body.width = self.width + self._body_margin
		self._body.x = abs_x - self._body_margin / 2
		self._body.scale_x = self.scale_x
		self._body.scale_y = self.scale_y
		self._scroll_screen.x = self._screen_margin_left
		self._scroll_screen.y = self._screen_margin_top
		self._scroll_screen.width_value = self._screen_margin_left + self._screen_margin_right
		self._scroll_screen.height_value = self._screen_margin_top + self._screen_margin_bottom
		A_LayerManager:ShowFromRight(self._body)
		A_UISystem.focus = self._scroll_screen
	end
end

function DropDown:HandleBodyHide(event)
	if self.selected == false then
		return
	end
	self.selected = false
end

function DropDown:Layout()
	if self._show_count == 0 or self._scrollbar == nil or self._show_count >= self._linear.child_count then
		self._scroll_screen.right_scrollbar = nil
		self._body.height = self._linear.height + self._screen_margin_top + self._screen_margin_bottom
	else
		self._scroll_screen.right_scrollbar = self._scrollbar
		local button = self._linear.childs[1]
		if button ~= nil then
			self._body.height = button.height * self._show_count + self._screen_margin_top + self._screen_margin_bottom
		else
			self._body.height = 0
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
FramePlay = Lua.Class(ALittle.DisplayLayout, "ALittle.FramePlay")

function FramePlay:Ctor(ctrl_sys)
	___rawset(self, "_interval", 0)
	___rawset(self, "_play_child_index", 0)
	___rawset(self, "_play_loop_count", 1)
	___rawset(self, "_play_loop_index", 0)
	___rawset(self, "_auto_play", false)
end

function FramePlay.__setter:base_y(value)
	self._base_y = value
end

function FramePlay.__getter:base_y()
	if self._base_y ~= nil then
		return self._base_y
	end
	return self.height
end

function FramePlay.__setter:auto_play(value)
	self._auto_play = value
	if value then
		self:Play()
	end
end

function FramePlay.__getter:auto_play()
	return self._auto_play
end

function FramePlay:AddChild(child, index)
	if DisplayLayout.AddChild(self, child, index) == false then
		return false
	end
	child.visible = false
	return true
end

function FramePlay.__setter:interval(value)
	if self._interval == value then
		return
	end
	self._interval = value
	if self._play_loop ~= nil then
		self:Play()
	end
end

function FramePlay.__getter:interval()
	return self._interval
end

function FramePlay.__setter:play_loop_count(value)
	if self._play_loop_count == value then
		return
	end
	self._play_loop_count = value
	if self._play_loop ~= nil then
		self:Play()
	end
end

function FramePlay.__getter:play_loop_count()
	return self._play_loop_count
end

function FramePlay:Play()
	if self._play_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._play_loop)
		self._play_loop = nil
	end
	self._play_child_index = 0
	self._play_loop_index = 0
	self:HideAllChild()
	self._play_loop = LoopFunction(Lua.Bind(self.PlayUpdateLoop, self), -1, self._interval, 0)
	A_LoopSystem:AddUpdater(self._play_loop)
end

function FramePlay:Stop()
	if self._play_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._play_loop)
		self._play_loop = nil
	end
end

function FramePlay:HideAllChild()
	for index, child in ___ipairs(self._childs) do
		child.visible = false
		if (child).__class == FramePlay then
			child:HideAllChild()
		end
	end
end

function FramePlay:ShowAllChild()
	for index, child in ___ipairs(self._childs) do
		child.visible = true
		if (child).__class == FramePlay then
			child:ShowAllChild()
		end
	end
end

function FramePlay:PlayUpdateLoop()
	self:PlayUpdate()
end

function FramePlay:PlayUpdate()
	if self._child_count == 0 or (self._play_loop_count > 0 and self._play_loop_index > self._play_loop_count) then
		if self._play_loop ~= nil then
			self._play_loop:SetCompleted()
			self._play_loop = nil
		end
		return false
	end
	if self._play_child_index > 0 then
		local child = self._childs[self._play_child_index]
		if (child).__class == FramePlay then
			if child:PlayUpdate() then
				return true
			end
		end
		child = self._childs[self._play_child_index]
		if child ~= nil then
			child.visible = false
		end
	end
	self._play_child_index = self._play_child_index + 1
	if self._play_child_index > self._child_count then
		self._play_child_index = 1
		if self._play_loop_count > 0 then
			self._play_loop_index = self._play_loop_index + 1
			if self._play_loop_index >= self._play_loop_count then
				if self._play_loop ~= nil then
					self._play_loop:SetCompleted()
					self._play_loop = nil
				end
				return false
			end
		end
	end
	self._childs[self._play_child_index].visible = true
	local child = self._childs[self._play_child_index]
	if (child).__class == FramePlay then
		child._play_loop_index = 0
		child._play_child_index = 0
		if child:PlayUpdate() then
			return true
		end
	end
	return true
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayGroup, " extends class:ALittle.DisplayGroup is nil")
Grid3 = Lua.Class(ALittle.DisplayGroup, "ALittle.Grid3")

function Grid3:Ctor(ctrl_sys)
	___rawset(self, "_type", UIEnumTypes.TYPE_V)
	___rawset(self, "_child_map", {})
	___rawset(self, "_logic_up", 0)
	___rawset(self, "_logic_down", 0)
	___rawset(self, "_logic_gap", 0)
	___rawset(self, "_real_up", 0)
	___rawset(self, "_real_down", 0)
	___rawset(self, "_real_gap", 0)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
end

function Grid3.__setter:type(value)
	if self._type == value then
		return
	end
	self._type = value
	self:CalcRealWidthCutting()
	self:CalcRealHeightCutting()
end

function Grid3.__getter:type()
	return self._type
end

function Grid3.__setter:show_up(child)
	self:SetShow(1, child)
end

function Grid3.__getter:show_up()
	return self._child_map[1]
end

function Grid3.__setter:show_center(child)
	self:SetShow(2, child)
end

function Grid3.__getter:show_center()
	return self._child_map[2]
end

function Grid3.__setter:show_down(child)
	self:SetShow(3, child)
end

function Grid3.__getter:show_down()
	return self._child_map[3]
end

function Grid3:SetShow(index, child)
	if self._child_map[index] ~= nil then
		DisplayGroup.RemoveChild(self, self._child_map[index])
	end
	self._child_map[index] = nil
	if child == nil then
		return
	end
	self._child_map[index] = child
	DisplayGroup.AddChild(self, child)
	if self._type == UIEnumTypes.TYPE_V then
		child.x = 0
		child.width = self._width
		local y = 0.0
		local height = 0.0
		if index == 1 then
			y = 0
			height = self._real_up
		elseif index == 2 then
			y = self._real_up + self._real_gap
			height = self._height - self._real_gap * 2 - self._real_up - self._real_down
		elseif index == 3 then
			y = self._height - self._real_down
			height = self._real_down
		end
		child.y = y
		child.height = height
	else
		child.y = 0
		child.height = self._height
		local x = 0.0
		local width = 0.0
		if index == 1 then
			x = 0
			width = self._real_up
		elseif index == 2 then
			x = self._real_up + self._real_gap
			width = self._width - self._real_gap * 2 - self._real_up - self._real_down
		elseif index == 3 then
			x = self._width - self._real_down
			width = self._real_down
		end
		child.x = x
		child.width = width
	end
end

function Grid3.__getter:center_size()
	local size = 0.0
	if self._type == UIEnumTypes.TYPE_V then
		size = self._height - self._real_gap * 2 - self._real_up - self._real_down
	else
		size = self._width - self._real_gap * 2 - self._real_up - self._real_down
	end
	return size
end

function Grid3.__getter:real_gap()
	return self._real_gap
end

function Grid3.__getter:gap()
	return self._logic_gap
end

function Grid3.__getter:real_up_size()
	return self._real_up
end

function Grid3.__getter:up_size()
	return self._logic_up
end

function Grid3.__getter:real_down_size()
	return self._real_down
end

function Grid3.__getter:down_size()
	return self._logic_down
end

function Grid3.__setter:up_size(value)
	self._logic_up = value
	self:CalcRealWidthCutting()
	self:CalcRealHeightCutting()
end

function Grid3.__setter:down_size(value)
	self._logic_down = value
	self:CalcRealWidthCutting()
	self:CalcRealHeightCutting()
end

function Grid3.__setter:gap(value)
	self._logic_gap = value
	self:CalcRealWidthCutting()
	self:CalcRealHeightCutting()
end

function Grid3.__setter:width(value)
	if value == self._width then
		return
	end
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	self:CalcRealWidthCutting()
end

function Grid3.__setter:height(value)
	if value == self._height then
		return
	end
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	self:CalcRealHeightCutting()
end

function Grid3:CalcRealWidthCutting()
	if self._type == UIEnumTypes.TYPE_V then
		local index = 1
		while true do
			if not(index <= 3) then break end
			if self._child_map[index] ~= nil then
				self._child_map[index].x = 0
				self._child_map[index].width = self._width
			end
			index = index+(1)
		end
		return
	end
	if self._width == 0 then
		self._real_up = 0
		self._real_down = 0
		self._real_gap = 0
	elseif self._width >= self._logic_up + self._logic_down + self._logic_gap * 2 then
		self._real_up = self._logic_up
		self._real_down = self._logic_down
		self._real_gap = self._logic_gap
	elseif self._width >= self._logic_up + self._logic_down then
		local last_gap = self._width - self._logic_up - self._logic_down
		self._real_up = self._logic_up
		self._real_down = self._logic_down
		self._real_gap = last_gap / 2
	else
		local logic_up_add_down = self._logic_up + self._logic_down
		if logic_up_add_down == 0 then
			self._real_up = 0
			self._real_down = 0
			self._real_gap = 0
		else
			local rate_up = self._logic_up / logic_up_add_down
			local rate_down = self._logic_down / logic_up_add_down
			self._real_up = self._width * rate_up
			self._real_down = self._width * rate_down
			self._real_gap = 0
		end
	end
	local offset_list = {}
	offset_list[1] = 0
	offset_list[2] = self._real_up + self._real_gap
	offset_list[3] = self._width - self._real_down
	local width_list = {}
	width_list[1] = self._real_up
	width_list[2] = self._width - self._real_gap * 2 - self._real_up - self._real_down
	width_list[3] = self._real_down
	local index = 1
	while true do
		if not(index <= 3) then break end
		if self._child_map[index] ~= nil then
			self._child_map[index].x = offset_list[index]
			self._child_map[index].width = width_list[index]
		end
		index = index+(1)
	end
end

function Grid3:CalcRealHeightCutting()
	if self._type == UIEnumTypes.TYPE_H then
		local index = 1
		while true do
			if not(index <= 3) then break end
			if self._child_map[index] ~= nil then
				self._child_map[index].y = 0
				self._child_map[index].height = self._height
			end
			index = index+(1)
		end
		return
	end
	if self._height == 0 then
		self._real_up = 0
		self._real_down = 0
		self._real_gap = 0
	elseif self._height >= self._logic_up + self._logic_down + self._logic_gap * 2 then
		self._real_up = self._logic_up
		self._real_down = self._logic_down
		self._real_gap = self._logic_gap
	elseif self._height >= self._logic_up + self._logic_down then
		local last_gap = self._height - self._logic_up - self._logic_down
		self._real_up = self._logic_up
		self._real_down = self._logic_down
		self._real_gap = last_gap / 2
	else
		local logic_up_add_down = self._logic_up + self._logic_down
		if logic_up_add_down == 0 then
			self._real_up = 0
			self._real_down = 0
			self._real_gap = 0
		else
			local rate_up = self._logic_up / logic_up_add_down
			local rate_down = self._logic_down / logic_up_add_down
			self._real_up = self._height * rate_up
			self._real_down = self._height * rate_down
			self._real_gap = 0
		end
	end
	local offset_list = {}
	offset_list[1] = 0
	offset_list[2] = self._real_up + self._real_gap
	offset_list[3] = self._height - self._real_down
	local height_list = {}
	height_list[1] = self._real_up
	height_list[2] = self._height - self._real_gap * 2 - self._real_up - self._real_down
	height_list[3] = self._real_down
	local index = 1
	while true do
		if not(index <= 3) then break end
		if self._child_map[index] ~= nil then
			self._child_map[index].y = offset_list[index]
			self._child_map[index].height = height_list[index]
		end
		index = index+(1)
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __ceil = Math_Ceil
assert(ALittle.DisplayGroup, " extends class:ALittle.DisplayGroup is nil")
Grid9 = Lua.Class(ALittle.DisplayGroup, "ALittle.Grid9")

function Grid9:Ctor(ctrl_sys)
	___rawset(self, "_child_map", {})
	self._child_map[1] = {}
	self._child_map[2] = {}
	self._child_map[3] = {}
	___rawset(self, "_logic_left", 0)
	___rawset(self, "_logic_top", 0)
	___rawset(self, "_logic_right", 0)
	___rawset(self, "_logic_bottom", 0)
	___rawset(self, "_real_left", 0)
	___rawset(self, "_real_top", 0)
	___rawset(self, "_real_right", 0)
	___rawset(self, "_real_bottom", 0)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
end

function Grid9.__setter:show_left_top(child)
	self:SetShow(1, 1, child)
end

function Grid9.__getter:show_left_top()
	return self._child_map[1][1]
end

function Grid9.__setter:show_left_center(child)
	self:SetShow(1, 2, child)
end

function Grid9.__getter:show_left_center()
	return self._child_map[1][2]
end

function Grid9.__setter:show_left_bottom(child)
	self:SetShow(1, 3, child)
end

function Grid9.__getter:show_left_bottom()
	return self._child_map[1][3]
end

function Grid9.__setter:show_center_top(child)
	self:SetShow(2, 1, child)
end

function Grid9.__getter:show_center_top()
	return self._child_map[2][1]
end

function Grid9.__setter:show_center_center(child)
	self:SetShow(2, 2, child)
end

function Grid9.__getter:show_center_center()
	return self._child_map[2][2]
end

function Grid9.__setter:show_center_bottom(child)
	self:SetShow(2, 3, child)
end

function Grid9.__getter:show_center_bottom()
	return self._child_map[2][3]
end

function Grid9.__setter:show_right_top(child)
	self:SetShow(3, 1, child)
end

function Grid9.__getter:show_right_top()
	return self._child_map[3][1]
end

function Grid9.__setter:show_right_center(child)
	self:SetShow(3, 2, child)
end

function Grid9.__getter:show_right_center()
	return self._child_map[3][2]
end

function Grid9.__setter:show_right_bottom(child)
	self:SetShow(3, 3, child)
end

function Grid9.__getter:show_right_bottom()
	return self._child_map[3][3]
end

function Grid9:SetShow(col, row, child)
	if self._child_map[col][row] ~= nil then
		self:RemoveChild(self._child_map[col][row])
	end
	self._child_map[col][row] = child
	if child == nil then
		return
	end
	self:AddChild(child)
	local x = 0.0
	local y = 0.0
	local width = 0.0
	local height = 0.0
	if col == 1 then
		x = 0
		width = self._real_left
	elseif col == 2 then
		x = self._real_left
		width = self._width - self._real_left - self._real_right
	elseif col == 3 then
		x = self._width - self._real_right
		width = self._real_right
	end
	if row == 1 then
		y = 0
		height = self._real_top
	elseif row == 2 then
		y = self._real_top
		height = self._height - self._real_top - self._real_bottom
	elseif row == 3 then
		y = self._height - self._real_bottom
		height = self._real_bottom
	end
	child.x = x
	child.y = y
	child.width = width
	child.height = height
end

function Grid9.__setter:width(value)
	if value == self._width then
		return
	end
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	self:CalcRealWidthCutting()
end

function Grid9.__setter:height(value)
	if value == self._height then
		return
	end
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	self:CalcRealHeightCutting()
end

function Grid9.__setter:left_size(value)
	self._logic_left = value
	self:CalcRealWidthCutting()
end

function Grid9.__getter:left_size()
	return self._logic_left
end

function Grid9.__setter:right_size(value)
	self._logic_right = value
	self:CalcRealWidthCutting()
end

function Grid9.__getter:right_size()
	return self._logic_right
end

function Grid9.__setter:top_size(value)
	self._logic_top = value
	self:CalcRealHeightCutting()
end

function Grid9.__getter:top_size()
	return self._logic_top
end

function Grid9.__setter:bottom_size(value)
	self._logic_bottom = value
	self:CalcRealHeightCutting()
end

function Grid9.__getter:bottom_size()
	return self._logic_bottom
end

function Grid9:CalcRealWidthCutting()
	local real_center = 0.0
	local logic_left = __ceil(self._logic_left)
	local logic_right = __ceil(self._logic_right)
	if self._width == 0 then
		self._real_left = 0
		self._real_right = 0
		real_center = 0
	elseif self._width >= logic_left + logic_right then
		self._real_left = logic_left
		self._real_right = logic_right
		real_center = __ceil(self._width - self._real_left - self._real_right)
	else
		local logic_left_add_right = self._logic_left + self._logic_right
		real_center = 0
		if logic_left_add_right == 0 then
			self._real_left = 0
			self._real_right = 0
		else
			local rate_left = self._logic_left / logic_left_add_right
			local rate_right = self._logic_right / logic_left_add_right
			self._real_left = self._width * rate_left
			self._real_right = self._width * rate_right
		end
	end
	local offset_list = {}
	offset_list[1] = 0
	offset_list[2] = self._real_left
	offset_list[3] = self._real_left + real_center
	local width_list = {}
	width_list[1] = self._real_left
	width_list[2] = real_center
	width_list[3] = self._real_right
	local col = 1
	while true do
		if not(col <= 3) then break end
		local row_childs = self._child_map[col]
		local row = 1
		while true do
			if not(row <= 3) then break end
			if row_childs[row] ~= nil then
				row_childs[row].x = offset_list[col]
				row_childs[row].width = width_list[col]
			end
			row = row+(1)
		end
		col = col+(1)
	end
end

function Grid9:CalcRealHeightCutting()
	local real_center = 0.0
	local logic_top = __ceil(self._logic_top)
	local logic_bottom = __ceil(self._logic_bottom)
	if self._height == 0 then
		self._real_top = 0
		self._real_bottom = 0
		real_center = 0
	elseif self._height >= logic_top + logic_bottom then
		self._real_top = logic_top
		self._real_bottom = logic_bottom
		real_center = __ceil(self._height - self._real_top - self._real_bottom)
	else
		local logic_top_add_bottom = self._logic_top + self._logic_bottom
		real_center = 0
		if logic_top_add_bottom == 0 then
			self._real_top = 0
			self._real_bottom = 0
		else
			local rate_top = self._logic_top / logic_top_add_bottom
			local rate_bottom = self._logic_bottom / logic_top_add_bottom
			self._real_top = self._height * rate_top
			self._real_bottom = self._height * rate_bottom
		end
	end
	local offset_list = {}
	offset_list[1] = 0
	offset_list[2] = self._real_top
	offset_list[3] = self._real_top + real_center
	local height_list = {}
	height_list[1] = self._real_top
	height_list[2] = real_center
	height_list[3] = self._real_bottom
	local col = 1
	while true do
		if not(col <= 3) then break end
		local row_childs = self._child_map[col]
		local row = 1
		while true do
			if not(row <= 3) then break end
			if row_childs[row] ~= nil then
				row_childs[row].y = offset_list[row]
				row_childs[row].height = height_list[row]
			end
			row = row+(1)
		end
		col = col+(1)
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
Grid9Image = Lua.Class(ALittle.DisplayObject, "ALittle.Grid9Image")

function Grid9Image:Ctor(ctrl_sys)
	___rawset(self, "_show", __CPPAPIGrid9Image())
	___rawset(self, "_texture_width", 0)
	___rawset(self, "_texture_height", 0)
	___rawset(self, "_flip", 0)
	___rawset(self, "_tex_coord_t", 0)
	___rawset(self, "_tex_coord_b", 1)
	___rawset(self, "_tex_coord_l", 0)
	___rawset(self, "_tex_coord_r", 1)
	___rawset(self, "_left_size", 0)
	___rawset(self, "_right_size", 0)
	___rawset(self, "_top_size", 0)
	___rawset(self, "_bottom_size", 0)
	A_LoadTextureManager:RegisterRedrawControl(self)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFLButtonUp)
end

function Grid9Image:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], c_event)
	end
end

function Grid9Image:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], c_event)
	end
end

function Grid9Image:HandleFLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local c_event = {}
		c_event.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], c_event)
	end
end

function Grid9Image:Redraw()
	self._show:ClearTexture()
	if self._texture ~= nil then
		self._texture:Clear()
		self._texture = nil
	end
	if self._texture_name == nil then
		return
	end
	if self._texture_cut ~= nil then
		A_LoadTextureManager:SetTextureCut(self, self._texture_name, self._texture_cut.max_width, self._texture_cut.max_height, self._texture_cut.cache)
	else
		self._ctrl_sys:SetTexture(self, self._texture_name)
	end
end

function Grid9Image:CopyTextureRef(image)
	if image == nil or image._texture == nil then
		return
	end
	self._texture_name = image._texture_name
	self._texture_cut = nil
	if image._texture_cut ~= nil then
		self._texture_cut = {}
		self._texture_cut.max_width = image._texture_cut.max_width
		self._texture_cut.max_height = image._texture_cut.max_height
		self._texture_cut.cache = image._texture_cut.cache
	end
	self._texture = image._texture
	self._show:SetTexture(image._texture:GetTexture())
	self:SetTextureCoord(image._tex_coord_t, image._tex_coord_b, image._tex_coord_l, image._tex_coord_r)
	self._texture_width = image._texture_width
	self._texture_height = image._texture_height
	self.left_size = image.left_size
	self.right_size = image.right_size
	self.top_size = image.top_size
	self.bottom_size = image.bottom_size
end

function Grid9Image.__setter:texture_name(value)
	if self._texture_name == value then
		return
	end
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = value
	if self._texture_name ~= nil then
		self._texture_cut = nil
		self._ctrl_sys:SetTexture(self, value)
	end
end

function Grid9Image:SetTextureCut(texture_name, max_width, max_height, cache, index, callback)
	if self._texture_name ~= nil then
		self._show:ClearTexture()
		self._texture = nil
	end
	self._texture_name = texture_name
	if self._texture_name ~= nil then
		self._texture_cut = {}
		self._texture_cut.max_width = max_width
		self._texture_cut.max_height = max_height
		self._texture_cut.cache = cache
		A_LoadTextureManager:SetTextureCut(self, texture_name, max_width, max_height, cache, callback)
	end
end

function Grid9Image.__setter:texture_cut(param)
	self:SetTextureCut(param.texture_name, param.max_width, param.max_height, param.cache, nil)
end

function Grid9Image.__getter:texture_cut()
	if self._texture_cut == nil then
		return nil
	end
	local texture_cut = {}
	texture_cut.max_width = self._texture_cut.max_width
	texture_cut.max_height = self._texture_cut.max_height
	texture_cut.texture_name = self._texture_name
	return texture_cut
end

function Grid9Image.__getter:texture_name()
	return self._texture_name
end

function Grid9Image.__setter:texture(value)
	self._show:SetTexture(value:GetTexture())
	self._texture_width = value:GetWidth()
	self._texture_height = value:GetHeight()
	self._texture = value
end

function Grid9Image.__getter:texture()
	return self._texture
end

function Grid9Image:SetTextureCoord(t, b, l, r)
	self._tex_coord_t = t
	self._tex_coord_b = b
	self._tex_coord_l = l
	self._tex_coord_r = r
	self._show:SetTextureCoord(t, b, l, r)
end

function Grid9Image.__setter:left_size(value)
	self._left_size = value
	self._show:SetLeftSize(value)
end

function Grid9Image.__getter:left_size()
	return self._left_size
end

function Grid9Image.__setter:right_size(value)
	self._right_size = value
	self._show:SetRightSize(value)
end

function Grid9Image.__getter:right_size()
	return self._right_size
end

function Grid9Image.__setter:top_size(value)
	self._top_size = value
	self._show:SetTopSize(value)
end

function Grid9Image.__getter:top_size()
	return self._top_size
end

function Grid9Image.__setter:bottom_size(value)
	self._bottom_size = value
	self._show:SetBottomSize(value)
end

function Grid9Image.__getter:bottom_size()
	return self._bottom_size
end

function Grid9Image.__getter:texture_width()
	return self._texture_width
end

function Grid9Image.__getter:texture_height()
	return self._texture_height
end

function Grid9Image.__getter:flip()
	return self._flip
end

function Grid9Image.__setter:flip(value)
	self._flip = value
	self._show:SetFlip(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __cos = Math_Cos
local __sin = Math_Sin
assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
ImageEdit = Lua.Class(ALittle.DisplayLayout, "ALittle.ImageEdit")

function ImageEdit:Ctor(ctrl_sys)
	___rawset(self, "_show_edit", TextEdit(self._ctrl_sys))
	self._show_edit.x_type = UIEnumTypes.POS_ALIGN_STARTING
	self._show_edit.y_type = UIEnumTypes.POS_ALIGN_STARTING
	self._show_edit.width_type = UIEnumTypes.SIZE_MARGIN
	self._show_edit.width_value = 0
	self._show_edit.height_type = UIEnumTypes.SIZE_MARGIN
	self._show_edit.height_value = 0
	self:AddChild(self._show_edit, 5)
	___rawset(self, "_logic_left", 0)
	___rawset(self, "_logic_right", 0)
	___rawset(self, "_logic_top", 0)
	___rawset(self, "_logic_bottom", 0)
	self._show_edit:AddEventListener(___all_struct[-644464135], self, self.HandleFocusIn)
	self._show_edit:AddEventListener(___all_struct[292776509], self, self.HandleFocusOut)
	self._show_edit:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self._show_edit:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self._show_edit:AddEventListener(___all_struct[1883782801], self, self.HandleImageEditTransformLButtonDown)
	self._show_edit:AddEventListener(___all_struct[-1234078962], self, self.HandleImageEditTransformTextInput)
	self._show_edit:AddEventListener(___all_struct[-1604617962], self, self.HandleImageEditTransformKeyDown)
	self._show_edit:AddEventListener(___all_struct[1301789264], self, self.HandleImageEditTransformDragBegin)
	self._show_edit:AddEventListener(___all_struct[1337289812], self, self.HandleImageEditTransformDrag)
	self._show_edit:AddEventListener(___all_struct[150587926], self, self.HandleImageEditTransformDragEnd)
	self._show_edit:AddEventListener(___all_struct[-1737121315], self, self.HandleImageEditTransformMButtonWheel)
	self._show_edit:AddEventListener(___all_struct[958494922], self, self.HandleImageEditTransformChangd)
	self._show_edit:AddEventListener(___all_struct[776398171], self, self.HandleImageEditTransformEnterKey)
	self._show_edit:AddEventListener(___all_struct[2024735182], self, self.HandleImageEditTransformTabKey)
	self._show_edit:AddEventListener(___all_struct[-641444818], self, self.HandleImageEditTransformRButtonDown)
	self._show_edit:AddEventListener(___all_struct[-569321214], self, self.HandleImageEditTransformRButtonUp)
	self._show_edit:AddEventListener(___all_struct[-439548260], self, self.HandleImageEditTransformLongButtonDown)
end

function ImageEdit.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if value then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
end

function ImageEdit.__getter:is_focus()
	return A_UISystem.focus == self._show_edit
end

function ImageEdit.__setter:focus(value)
	if value then
		A_UISystem.focus = self._show_edit
	else
		if A_UISystem.focus == self._show_edit then
			A_UISystem.focus = nil
		end
	end
end

function ImageEdit.__getter:is_input()
	return true
end

function ImageEdit.__getter:show_edit()
	return self._show_edit
end

function ImageEdit.__getter:cursor_x()
	return self._show_edit.cursor_x
end

function ImageEdit.__getter:cursor_y()
	return self._show_edit.cursor_y
end

function ImageEdit.__setter:editable(value)
	self._show_edit.editable = value
end

function ImageEdit.__getter:editable()
	return self._show_edit.editable
end

function ImageEdit.__setter:font_path(value)
	self._show_edit.font_path = value
end

function ImageEdit.__setter:font_size(value)
	self._show_edit.font_size = value
end

function ImageEdit.__getter:font_path()
	return self._show_edit.font_path
end

function ImageEdit.__getter:font_size()
	return self._show_edit.font_size
end

function ImageEdit.__getter:regex()
	return self._show_edit.regex
end

function ImageEdit.__setter:regex(value)
	if value == nil then
		value = ""
	end
	self._show_edit.regex = value
end

function ImageEdit.__getter:limit_len()
	return self._show_edit.limit_len
end

function ImageEdit.__setter:limit_len(value)
	if value == nil then
		value = 0
	end
	self._show_edit.limit_len = value
end

function ImageEdit.__setter:text(value)
	self._show_edit.text = value
end

function ImageEdit.__getter:text()
	return self._show_edit.text
end

function ImageEdit.__setter:bold(value)
	self._show_edit.bold = value
end

function ImageEdit.__getter:bold()
	return self._show_edit.bold
end

function ImageEdit.__setter:italic(value)
	self._show_edit.italic = value
end

function ImageEdit.__getter:italic()
	return self._show_edit.italic
end

function ImageEdit.__setter:underline(value)
	self._show_edit.underline = value
end

function ImageEdit.__getter:underline()
	return self._show_edit.underline
end

function ImageEdit.__setter:deleteline(value)
	self._show_edit.deleteline = value
end

function ImageEdit.__getter:deleteline()
	return self._show_edit.deleteline
end

function ImageEdit.__setter:outline(value)
	self._show_edit.outline = value
end

function ImageEdit.__getter:outline()
	return self._show_edit.outline
end

function ImageEdit.__setter:cursor_red(value)
	self._show_edit.cursor_red = value
end

function ImageEdit.__getter:cursor_red()
	return self._show_edit.cursor_red
end

function ImageEdit.__setter:cursor_green(value)
	self._show_edit.cursor_green = value
end

function ImageEdit.__getter:cursor_green()
	return self._show_edit.cursor_green
end

function ImageEdit.__setter:cursor_blue(value)
	self._show_edit.cursor_blue = value
end

function ImageEdit.__getter:cursor_blue()
	return self._show_edit.cursor_blue
end

function ImageEdit.__setter:red(value)
	self._show_edit.red = value
end

function ImageEdit.__getter:red()
	return self._show_edit.red
end

function ImageEdit.__setter:green(value)
	self._show_edit.green = value
end

function ImageEdit.__getter:green()
	return self._show_edit.green
end

function ImageEdit.__setter:blue(value)
	self._show_edit.blue = value
end

function ImageEdit.__getter:blue()
	return self._show_edit.blue
end

function ImageEdit.__setter:ims_padding(value)
	self._show_edit.ims_padding = value
end

function ImageEdit.__getter:ims_padding()
	return self._show_edit.ims_padding
end

function ImageEdit:HandleFocusIn(event)
	event.target = self
	self:DispatchEvent(___all_struct[-644464135], event)
	self:ShowDown()
end

function ImageEdit:HandleFocusOut(event)
	event.target = self
	self:DispatchEvent(___all_struct[292776509], event)
	self:ShowUp()
end

function ImageEdit:HandleImageEditTransformLButtonDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[1883782801], event)
end

function ImageEdit:HandleImageEditTransformTextInput(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1234078962], event)
end

function ImageEdit:HandleImageEditTransformKeyDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1604617962], event)
end

function ImageEdit:HandleImageEditTransformDragBegin(event)
	event.target = self
	self:DispatchEvent(___all_struct[1301789264], event)
end

function ImageEdit:HandleImageEditTransformDrag(event)
	event.target = self
	self:DispatchEvent(___all_struct[1337289812], event)
end

function ImageEdit:HandleImageEditTransformDragEnd(event)
	event.target = self
	self:DispatchEvent(___all_struct[150587926], event)
end

function ImageEdit:HandleImageEditTransformMButtonWheel(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1737121315], event)
end

function ImageEdit:HandleImageEditTransformChangd(event)
	event.target = self
	self:DispatchEvent(___all_struct[958494922], event)
end

function ImageEdit:HandleImageEditTransformEnterKey(event)
	event.target = self
	self:DispatchEvent(___all_struct[776398171], event)
end

function ImageEdit:HandleImageEditTransformTabKey(event)
	event.target = self
	self:DispatchEvent(___all_struct[2024735182], event)
end

function ImageEdit:HandleImageEditTransformRButtonDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[-641444818], event)
end

function ImageEdit:HandleImageEditTransformRButtonUp(event)
	event.target = self
	self:DispatchEvent(___all_struct[-569321214], event)
end

function ImageEdit:HandleImageEditTransformLongButtonDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[-439548260], event)
end

function ImageEdit:HandleMoveIn(event)
	event.target = self
	self:DispatchEvent(___all_struct[544684311], event)
	if A_UISystem.focus ~= self._show_edit then
		self:ShowOver()
	end
end

function ImageEdit:HandleMoveOut(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1202439334], event)
	if A_UISystem.focus ~= self._show_edit then
		self:ShowUp()
	end
end

function ImageEdit:ShowUp()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 1
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function ImageEdit:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 1
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function ImageEdit:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 1
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function ImageEdit:ShowDisabled()
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 1
	end
end

function ImageEdit.__setter:show_up(value)
	self:RemoveChild(self._show_up)
	self._show_up = value
	if self._show_up ~= nil then
		self._show_up.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.width_value = 0
		self._show_up.height_value = 0
		self:AddChild(self._show_up, 1)
	end
	self:ShowUp()
end

function ImageEdit.__getter:show_up()
	return self._show_up
end

function ImageEdit.__setter:show_down(value)
	self:RemoveChild(self._show_down)
	self._show_down = value
	if self._show_down ~= nil then
		self._show_down.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.width_value = 0
		self._show_down.height_value = 0
		self:AddChild(self._show_down, 1)
	end
	self:ShowUp()
end

function ImageEdit.__getter:show_down()
	return self._show_down
end

function ImageEdit.__setter:show_over(value)
	self:RemoveChild(self._show_over)
	self._show_over = value
	if self._show_over ~= nil then
		self._show_over.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.width_value = 0
		self._show_over.height_value = 0
		self:AddChild(self._show_over, 1)
	end
	self:ShowUp()
end

function ImageEdit.__getter:show_over()
	return self._show_over
end

function ImageEdit.__setter:show_disabled(value)
	self:RemoveChild(self._show_disabled)
	self._show_disabled = value
	if self._show_disabled ~= nil then
		self._show_disabled.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.width_value = 0
		self._show_disabled.height_value = 0
		self:AddChild(self._show_disabled, 1)
	end
	self:ShowUp()
end

function ImageEdit.__getter:show_disabled()
	return self._show_disabled
end

function ImageEdit.__setter:margin_left(value)
	self._logic_left = value
	self:Layout()
end

function ImageEdit.__getter:margin_left()
	return self._logic_left
end

function ImageEdit.__setter:margin_right(value)
	self._logic_right = value
	self:Layout()
end

function ImageEdit.__getter:margin_right()
	return self._logic_right
end

function ImageEdit.__setter:margin_top(value)
	self._logic_top = value
	self:Layout()
end

function ImageEdit.__getter:margin_top()
	return self._logic_top
end

function ImageEdit.__setter:margin_bottom(value)
	self._logic_bottom = value
	self:Layout()
end

function ImageEdit.__getter:margin_bottom()
	return self._logic_bottom
end

function ImageEdit:Layout()
	self:SetChildIndex(self._show_edit, 5)
	self._show_edit.x_value = self._logic_left
	self._show_edit.y_value = self._logic_top
	self._show_edit.width_value = self._logic_left + self._logic_right
	self._show_edit.height_value = self._logic_top + self._logic_bottom
end

function ImageEdit:PickUp(x, y)
	if self._ignore or self._abs_disabled or self._abs_visible == false then
		return nil, nil, nil
	end
	local rel_x = x - self._x
	local rel_y = y - self._y
	local xx = rel_x - self._center_x
	local yy = rel_y - self._center_y
	if self._angle ~= 0 then
		local rad = 3.1415926 * -self._angle / 180.0
		local cos = __cos(rad)
		local sin = __sin(rad)
		local xxx = xx * cos + yy * -sin
		local yyy = xx * sin + yy * cos
		xx = xxx
		yy = yyy
	end
	if self._scale_x > 0 then
		xx = xx / (self._scale_x)
	end
	if self._scale_y > 0 then
		yy = yy / (self._scale_y)
	end
	rel_x = xx + self._center_x
	rel_y = yy + self._center_y
	if self._scale_x <= 0 or self._scale_y <= 0 then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, rel_x, rel_y
	end
	if self._pickup_rect and (rel_x < 0 or rel_y < 0 or rel_x >= self._width or rel_y >= self._height) then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, nil, nil
	end
	if self._pickup_child then
		local v_focus, v_x, v_y = self._show_edit:PickUp(rel_x, rel_y)
		return self._show_edit, v_x, v_y
	end
	if self._modal or (self._pickup_rect and self._pickup_child == false) or self._pickup_this then
		return self, rel_x, rel_y
	end
	return nil, nil, nil
end

function ImageEdit:SetCursorToHome()
	self._show_edit:SetCursorToHome()
end

function ImageEdit:SetCursorToEnd()
	self._show_edit:SetCursorToEnd()
end

function ImageEdit:SelectAll()
	self._show_edit:SelectAll()
end

function ImageEdit:CopyText()
	self._show_edit:CopyText()
end

function ImageEdit:PasteText()
	self._show_edit:PasteText()
end

function ImageEdit:CutText()
	self._show_edit:CutText()
end

function ImageEdit:InsertText(value)
	self._show_edit:InsertText(value)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __cos = Math_Cos
local __sin = Math_Sin
assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
ImageInput = Lua.Class(ALittle.DisplayLayout, "ALittle.ImageInput")

function ImageInput:Ctor(ctrl_sys)
	___rawset(self, "_show_input", TextInput(self._ctrl_sys))
	self._show_input.x_type = UIEnumTypes.POS_ALIGN_STARTING
	self._show_input.y_type = UIEnumTypes.POS_ALIGN_STARTING
	self._show_input.width_type = UIEnumTypes.SIZE_MARGIN
	self._show_input.width_value = 0
	self._show_input.height_type = UIEnumTypes.SIZE_MARGIN
	self._show_input.height_value = 0
	self:AddChild(self._show_input, 5)
	___rawset(self, "_logic_left", 0)
	___rawset(self, "_logic_right", 0)
	___rawset(self, "_logic_top", 0)
	___rawset(self, "_logic_bottom", 0)
	___rawset(self, "_ims_padding", 0)
	___rawset(self, "_show_disabled", nil)
	___rawset(self, "_pickup_this", true)
	self._show_input:AddEventListener(___all_struct[-644464135], self, self.HandleFocusIn)
	self._show_input:AddEventListener(___all_struct[292776509], self, self.HandleFocusOut)
	self._show_input:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self._show_input:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self._show_input:AddEventListener(___all_struct[1883782801], self, self.HandleImageInputTransformLButtonDown)
	self._show_input:AddEventListener(___all_struct[-1234078962], self, self.HandleImageInputTransformTextInput)
	self._show_input:AddEventListener(___all_struct[-1604617962], self, self.HandleImageInputTransformKeyDown)
	self._show_input:AddEventListener(___all_struct[1301789264], self, self.HandleImageInputTransformDragBegin)
	self._show_input:AddEventListener(___all_struct[1337289812], self, self.HandleImageInputTransformDrag)
	self._show_input:AddEventListener(___all_struct[150587926], self, self.HandleImageInputTransformDragEnd)
	self._show_input:AddEventListener(___all_struct[-1737121315], self, self.HandleImageInputTransformMButtonWheel)
	self._show_input:AddEventListener(___all_struct[958494922], self, self.HandleImageInputTransformChangd)
	self._show_input:AddEventListener(___all_struct[776398171], self, self.HandleImageInputTransformEnterKey)
	self._show_input:AddEventListener(___all_struct[2024735182], self, self.HandleImageInputTransformTabKey)
	self._show_input:AddEventListener(___all_struct[-641444818], self, self.HandleImageInputTransformRButtonDown)
	self._show_input:AddEventListener(___all_struct[-569321214], self, self.HandleImageInputTransformRButtonUp)
	self._show_input:AddEventListener(___all_struct[-439548260], self, self.HandleImageInputTransformLongButtonDown)
end

function ImageInput.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if value then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
end

function ImageInput.__getter:is_focus()
	return A_UISystem.focus == self._show_input
end

function ImageInput.__setter:focus(value)
	if value then
		A_UISystem.focus = self._show_input
	else
		if A_UISystem.focus == self._show_input then
			A_UISystem.focus = nil
		end
	end
end

function ImageInput.__getter:is_input()
	return true
end

function ImageInput.__getter:regex()
	return self._show_input.regex
end

function ImageInput.__setter:regex(value)
	if value == nil then
		value = ""
	end
	self._show_input.regex = value
end

function ImageInput.__getter:limit_len()
	return self._show_input.limit_len
end

function ImageInput.__setter:limit_len(value)
	if value == nil then
		value = 0
	end
	self._show_input.limit_len = value
end

function ImageInput.__setter:default_text(value)
	self._show_input.default_text = value
end

function ImageInput.__getter:default_text()
	return self._show_input.default_text
end

function ImageInput.__setter:default_text_alpha(value)
	self._show_input.default_text_alpha = value
end

function ImageInput.__getter:default_text_alpha()
	return self._show_input.default_text_alpha
end

function ImageInput.__getter:cursor_x()
	return self._show_input.cursor_x
end

function ImageInput.__getter:cursor_y()
	return self._show_input.cursor_y
end

function ImageInput.__setter:editable(value)
	self._show_input.editable = value
end

function ImageInput.__getter:editable()
	return self._show_input.editable
end

function ImageInput.__setter:font_path(value)
	self._show_input.font_path = value
end

function ImageInput.__setter:font_size(value)
	self._show_input.font_size = value
end

function ImageInput.__getter:font_path()
	return self._show_input.font_path
end

function ImageInput.__getter:font_size()
	return self._show_input.font_size
end

function ImageInput.__setter:text(value)
	self._show_input.text = value
end

function ImageInput.__getter:text()
	return self._show_input.text
end

function ImageInput.__setter:bold(value)
	self._show_input.bold = value
end

function ImageInput.__getter:bold()
	return self._show_input.bold
end

function ImageInput.__setter:italic(value)
	self._show_input.italic = value
end

function ImageInput.__getter:italic()
	return self._show_input.italic
end

function ImageInput.__setter:underline(value)
	self._show_input.underline = value
end

function ImageInput.__getter:underline()
	return self._show_input.underline
end

function ImageInput.__setter:deleteline(value)
	self._show_input.deleteline = value
end

function ImageInput.__getter:deleteline()
	return self._show_input.deleteline
end

function ImageInput.__setter:outline(value)
	self._show_input.outline = value
end

function ImageInput.__getter:outline()
	return self._show_input.outline
end

function ImageInput.__setter:password_mode(value)
	self._show_input.password_mode = value
end

function ImageInput.__getter:password_mode()
	return self._show_input.password_mode
end

function ImageInput.__setter:cursor_red(value)
	self._show_input.cursor_red = value
end

function ImageInput.__getter:cursor_red()
	return self._show_input.cursor_red
end

function ImageInput.__setter:cursor_green(value)
	self._show_input.cursor_green = value
end

function ImageInput.__getter:cursor_green()
	return self._show_input.cursor_green
end

function ImageInput.__setter:cursor_blue(value)
	self._show_input.cursor_blue = value
end

function ImageInput.__getter:cursor_blue()
	return self._show_input.cursor_blue
end

function ImageInput.__setter:red(value)
	self._show_input.red = value
end

function ImageInput.__getter:red()
	return self._show_input.red
end

function ImageInput.__setter:green(value)
	self._show_input.green = value
end

function ImageInput.__getter:green()
	return self._show_input.green
end

function ImageInput.__setter:blue(value)
	self._show_input.blue = value
end

function ImageInput.__getter:blue()
	return self._show_input.blue
end

function ImageInput.__setter:ims_padding(value)
	self._ims_padding = value
	self._show_input.ims_padding = Math_Floor(value + self._logic_bottom)
end

function ImageInput.__getter:ims_padding()
	return self._ims_padding
end

function ImageInput:HandleFocusIn(event)
	event.target = self
	self:DispatchEvent(___all_struct[-644464135], event)
	self:ShowDown()
end

function ImageInput:HandleFocusOut(event)
	event.target = self
	self:DispatchEvent(___all_struct[292776509], event)
	self:ShowUp()
end

function ImageInput:HandleImageInputTransformLButtonDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[1883782801], event)
end

function ImageInput:HandleImageInputTransformTextInput(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1234078962], event)
end

function ImageInput:HandleImageInputTransformKeyDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1604617962], event)
end

function ImageInput:HandleImageInputTransformDragBegin(event)
	event.target = self
	self:DispatchEvent(___all_struct[1301789264], event)
end

function ImageInput:HandleImageInputTransformDrag(event)
	event.target = self
	self:DispatchEvent(___all_struct[1337289812], event)
end

function ImageInput:HandleImageInputTransformDragEnd(event)
	event.target = self
	self:DispatchEvent(___all_struct[150587926], event)
end

function ImageInput:HandleImageInputTransformMButtonWheel(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1737121315], event)
end

function ImageInput:HandleImageInputTransformChangd(event)
	event.target = self
	self:DispatchEvent(___all_struct[958494922], event)
end

function ImageInput:HandleImageInputTransformEnterKey(event)
	event.target = self
	self:DispatchEvent(___all_struct[776398171], event)
end

function ImageInput:HandleImageInputTransformTabKey(event)
	event.target = self
	self:DispatchEvent(___all_struct[2024735182], event)
end

function ImageInput:HandleImageInputTransformRButtonDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[-641444818], event)
end

function ImageInput:HandleImageInputTransformRButtonUp(event)
	event.target = self
	self:DispatchEvent(___all_struct[-569321214], event)
end

function ImageInput:HandleImageInputTransformLongButtonDown(event)
	event.target = self
	self:DispatchEvent(___all_struct[-439548260], event)
end

function ImageInput:HandleMoveIn(event)
	event.target = self
	self:DispatchEvent(___all_struct[544684311], event)
	if A_UISystem.focus ~= self._show_input then
		self:ShowOver()
	end
end

function ImageInput:HandleMoveOut(event)
	event.target = self
	self:DispatchEvent(___all_struct[-1202439334], event)
	if A_UISystem.focus ~= self._show_input then
		self:ShowUp()
	end
end

function ImageInput:ShowUp()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 1
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function ImageInput:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 1
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function ImageInput:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 1
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function ImageInput:ShowDisabled()
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 1
	end
end

function ImageInput.__setter:show_up(value)
	self:RemoveChild(self._show_up)
	self._show_up = value
	if self._show_up ~= nil then
		self._show_up.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.width_value = 0
		self._show_up.height_value = 0
		self._show_up.disabled = true
		self:AddChild(self._show_up, 1)
	end
	self:ShowUp()
end

function ImageInput.__getter:show_up()
	return self._show_up
end

function ImageInput.__setter:show_down(value)
	self:RemoveChild(self._show_down)
	self._show_down = value
	if self._show_down ~= nil then
		self._show_down.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.width_value = 0
		self._show_down.height_value = 0
		self._show_down.disabled = true
		self:AddChild(self._show_down, 1)
	end
	self:ShowUp()
end

function ImageInput.__getter:show_down()
	return self._show_down
end

function ImageInput.__setter:show_over(value)
	self:RemoveChild(self._show_over)
	self._show_over = value
	if self._show_over ~= nil then
		self._show_over.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.width_value = 0
		self._show_over.height_value = 0
		self._show_over.disabled = true
		self:AddChild(self._show_over, 1)
	end
	self:ShowUp()
end

function ImageInput.__getter:show_over()
	return self._show_over
end

function ImageInput.__setter:show_disabled(value)
	self:RemoveChild(self._show_disabled)
	self._show_disabled = value
	if self._show_disabled ~= nil then
		self._show_disabled.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.width_value = 0
		self._show_disabled.height_value = 0
		self._show_disabled.disabled = true
		self:AddChild(self._show_disabled, 1)
	end
	self:ShowUp()
end

function ImageInput.__getter:show_disabled()
	return self._show_disabled
end

function ImageInput.__getter:show_input()
	return self._show_input
end

function ImageInput.__setter:margin_left(value)
	self._logic_left = value
	self:Layout()
end

function ImageInput.__getter:margin_left()
	return self._logic_left
end

function ImageInput.__setter:margin_right(value)
	self._logic_right = value
	self:Layout()
end

function ImageInput.__getter:margin_right()
	return self._logic_right
end

function ImageInput.__setter:margin_top(value)
	self._logic_top = value
	self:Layout()
end

function ImageInput.__getter:margin_top()
	return self._logic_top
end

function ImageInput.__setter:margin_bottom(value)
	self._logic_bottom = value
	self:Layout()
	self._show_input.ims_padding = Math_Floor(self._ims_padding + self._logic_bottom)
end

function ImageInput.__getter:margin_bottom()
	return self._logic_bottom
end

function ImageInput:Layout()
	self:SetChildIndex(self._show_input, 5)
	self._show_input.x_value = self._logic_left
	self._show_input.y_value = self._logic_top
	self._show_input.width_value = self._logic_left + self._logic_right
	self._show_input.height_value = self._logic_top + self._logic_bottom
end

function ImageInput:PickUp(x, y)
	if self._ignore or self._abs_disabled or self._abs_visible == false then
		return nil, nil, nil
	end
	local rel_x = x - self._x
	local rel_y = y - self._y
	local xx = rel_x - self._center_x
	local yy = rel_y - self._center_y
	if self._angle ~= 0 then
		local rad = 3.1415926 * -self._angle / 180.0
		local cos = __cos(rad)
		local sin = __sin(rad)
		local xxx = xx * cos + yy * -sin
		local yyy = xx * sin + yy * cos
		xx = xxx
		yy = yyy
	end
	if self._scale_x > 0 then
		xx = xx / (self._scale_x)
	end
	if self._scale_y > 0 then
		yy = yy / (self._scale_y)
	end
	rel_x = xx + self._center_x
	rel_y = yy + self._center_y
	if self._scale_x <= 0 or self._scale_y <= 0 then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, rel_x, rel_y
	end
	if self._pickup_rect and (rel_x < 0 or rel_y < 0 or rel_x >= self._width or rel_y >= self._height) then
		if self._modal then
			return self, rel_x, rel_y
		end
		return nil, nil, nil
	end
	if self._pickup_child then
		local v_focus, v_x, v_y = self._show_input:PickUp(rel_x, rel_y)
		return self._show_input, v_x, v_y
	end
	if self._modal or (self._pickup_rect and self._pickup_child == false) or self._pickup_this then
		return self, rel_x, rel_y
	end
	return nil, nil, nil
end

function ImageInput:SetCursorToHome()
	self._show_input:SetCursorToHome()
end

function ImageInput:SetCursorToEnd()
	self._show_input:SetCursorToEnd()
end

function ImageInput:SelectAll()
	self._show_input:SelectAll()
end

function ImageInput:CopyText()
	self._show_input:CopyText()
end

function ImageInput:PasteText()
	self._show_input:PasteText()
end

function ImageInput:CutText()
	self._show_input:CutText()
end

function ImageInput:InsertText(text)
	self._show_input:InsertText(text)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
ImagePlay = Lua.Class(ALittle.DisplayLayout, "ALittle.ImagePlay")

function ImagePlay:Ctor(ctrl_sys)
	___rawset(self, "_interval", 0)
	___rawset(self, "_play_index", 0)
end

function ImagePlay.__setter:path_list(value)
	self._path_list = value
	self:RemoveAllChild()
	if self._path_list == nil then
		if self._play_loop ~= nil then
			A_LoopSystem:RemoveUpdater(self._play_loop)
			self._play_loop = nil
		end
		return
	end
	for k, v in ___ipairs(self._path_list) do
		local image = Image(self._ctrl_sys)
		image.width_type = UIEnumTypes.SIZE_MARGIN
		image.height_type = UIEnumTypes.SIZE_MARGIN
		image.texture_name = v
		image.visible = false
		self:AddChild(image)
	end
	self:Play()
end

function ImagePlay.__getter:path_list()
	return self._path_list
end

function ImagePlay.__setter:interval(value)
	if self._interval == value then
		return
	end
	self._interval = value
	self:Play()
end

function ImagePlay.__getter:interval()
	return self._interval
end

function ImagePlay:Play()
	if self._play_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._play_loop)
		self._play_loop = nil
	end
	if self._path_list == nil then
		return
	end
	self._play_index = 0
	for k, v in ___ipairs(self._childs) do
		v.visible = false
	end
	self._play_loop = LoopFunction(Lua.Bind(self.PlayUpdate, self), -1, self._interval, 0)
	A_LoopSystem:AddUpdater(self._play_loop)
end

function ImagePlay:Stop()
	if self._play_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._play_loop)
		self._play_loop = nil
	end
end

function ImagePlay:PlayUpdate()
	if self._child_count == 0 then
		return
	end
	if self._play_index > 0 then
		self._childs[self._play_index].visible = false
	end
	self._play_index = self._play_index + 1
	if self._play_index > self._child_count then
		self._play_index = 1
	end
	self._childs[self._play_index].visible = true
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __ceil = Math_Ceil
assert(ALittle.DisplayGroup, " extends class:ALittle.DisplayGroup is nil")
Linear = Lua.Class(ALittle.DisplayGroup, "ALittle.Linear")

function Linear:Ctor(ctrl_sys)
	___rawset(self, "_type", UIEnumTypes.TYPE_H)
	___rawset(self, "_size_fixed", true)
	___rawset(self, "_gap", 0)
	___rawset(self, "_clip_up_index", 0)
	___rawset(self, "_clip_down_index", 0)
	___rawset(self, "_child_width_map", CreateKeyWeakMap())
	___rawset(self, "_child_height_map", CreateKeyWeakMap())
	___rawset(self, "_show_child_map", CreateKeyWeakMap())
	___rawset(self, "_pickup_rect", false)
	___rawset(self, "_pickup_child", true)
end

function Linear.__getter:clip_up_index()
	return self._clip_up_index
end

function Linear.__getter:clip_down_index()
	return self._clip_down_index
end

function Linear.__getter:size_fixed()
	return self._size_fixed
end

function Linear.__setter:size_fixed(value)
	if self._size_fixed == value then
		return
	end
	self._size_fixed = value
	self:UpdateSize()
end

function Linear.__setter:type(value)
	if self._type == value then
		return
	end
	self._type = value
	self:UpdateSize()
	self:Layout(1)
end

function Linear.__getter:type()
	return self._type
end

function Linear.__setter:gap(value)
	if self._gap == value then
		return
	end
	self._gap = value
	self:Layout(1)
end

function Linear.__getter:gap()
	return self._gap
end

function Linear:AddChild(child, index)
	if DisplayGroup.AddChild(self, child, index) == false then
		return false
	end
	if index == nil then
		self:Layout(self.child_count)
	else
		self:Layout(index)
	end
	self._child_width_map[child] = child.width
	self._child_height_map[child] = child.height
	if self._size_fixed then
		if self._type == UIEnumTypes.TYPE_H then
			child.height = self._height
		else
			child.width = self._width
		end
	end
	child:AddEventListener(___all_struct[-431205740], self, self.HandleChildResize)
	return true
end

function Linear:RemoveChild(child)
	local child_index = self:GetChildIndex(child)
	if child_index == 0 then
		return false
	end
	if DisplayGroup.RemoveChild(self, child) == false then
		return false
	end
	self._child_width_map[child] = nil
	self._child_height_map[child] = nil
	self._show_child_map[child] = nil
	child:RemoveEventListener(___all_struct[-431205740], self)
	self:Layout(child_index)
	return true
end

function Linear:RemoveAllChild()
	for i, child in ___ipairs(self._childs) do
		child:RemoveEventListener(___all_struct[-431205740], self)
	end
	self._child_width_map = CreateKeyWeakMap()
	self._child_height_map = CreateKeyWeakMap()
	self._show_child_map = CreateKeyWeakMap()
	self._clip_up_index = 0
	self._clip_down_index = 0
	DisplayGroup.RemoveAllChild(self)
end

function Linear:SetChildIndex(child, index)
	DisplayGroup.SetChildIndex(self, child, index)
	self:Layout(1)
	return true
end

function Linear.__setter:width(value)
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	if self._type ~= UIEnumTypes.TYPE_H and self._size_fixed then
		for index, child in ___ipairs(self._childs) do
			child.width = value
		end
	end
end

function Linear.__getter:width()
	if self._size_fixed then
		if self._type == UIEnumTypes.TYPE_H then
			if self._child_count == 0 then
				return 0
			end
			local child = self._childs[self._child_count]
			return child.x + child.width
		end
		return self._width
	end
	return DisplayGroup.__getter.max_right(self)
end

function Linear.__setter:height(value)
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	if self._type ~= UIEnumTypes.TYPE_V and self._size_fixed then
		for index, child in ___ipairs(self._childs) do
			child.height = value
		end
	end
end

function Linear.__getter:height()
	if self._size_fixed then
		if self._type == UIEnumTypes.TYPE_V then
			if self._child_count == 0 then
				return 0
			end
			local child = self._childs[self._child_count]
			return child.y + child.height
		end
		return self._height
	end
	return DisplayGroup.__getter.max_bottom(self)
end

function Linear:UpdateSize()
	if self._size_fixed then
		if self._type == UIEnumTypes.TYPE_H then
			for k, v in ___pairs(self._child_width_map) do
				k.width = v
				k.height = self._height
			end
		else
			for k, v in ___pairs(self._child_height_map) do
				k.width = self._width
				k.height = v
			end
		end
	else
		for k, v in ___pairs(self._child_width_map) do
			k.width = v
		end
		for k, v in ___pairs(self._child_height_map) do
			k.height = v
		end
	end
end

function Linear:Layout(index)
	self._clip_up_index = 0
	self._clip_down_index = 0
	local child_count = self.child_count
	if index > child_count then
		return
	end
	if self._type == UIEnumTypes.TYPE_H then
		local offset = 0.0
		if index > 1 then
			offset = self._childs[index - 1].x + self._childs[index - 1].width + self._gap
		end
		local i = index
		while true do
			if not(i <= child_count) then break end
			self._childs[i].x = offset
			self._childs[i].y = 0
			offset = offset + self._childs[i].width + self._gap
			i = i+(1)
		end
	else
		local offset = 0.0
		if index > 1 then
			offset = self._childs[index - 1].y + self._childs[index - 1].height + self._gap
		end
		local i = index
		while true do
			if not(i <= child_count) then break end
			self._childs[i].y = offset
			self._childs[i].x = 0
			offset = offset + self._childs[i].height + self._gap
			i = i+(1)
		end
	end
end

function Linear:DeepLayout()
	self._clip_up_index = 0
	self._clip_down_index = 0
	local child_count = self.child_count
	if child_count == 0 then
		return
	end
	if self._type == UIEnumTypes.TYPE_H then
		local offset = 0.0
		local i = 1
		while true do
			if not(i <= child_count) then break end
			local child = self._childs[i]
			if child.DeepLayout ~= nil then
				child:DeepLayout()
			end
			child.x = offset
			child.y = 0
			offset = offset + child.width + self._gap
			i = i+(1)
		end
	else
		local offset = 0.0
		local i = 1
		while true do
			if not(i <= child_count) then break end
			local child = self._childs[i]
			if child.DeepLayout ~= nil then
				child:DeepLayout()
			end
			child.y = offset
			child.x = 0
			offset = offset + child.height + self._gap
			i = i+(1)
		end
	end
end

function Linear:HandleChildResize(event)
	self:Layout(self:GetChildIndex(event.target))
	if self._show_parent ~= nil then
		if self._type == UIEnumTypes.TYPE_H then
			self._show_parent:UpdateXLayout(self)
		else
			self._show_parent:UpdateYLayout(self)
		end
	end
	self:DispatchEvent(___all_struct[-431205740], {})
end

function Linear.__getter:max_right()
	if self._size_fixed then
		return self.width
	end
	return DisplayGroup.__getter.max_right(self)
end

function Linear.__getter:max_bottom()
	if self._size_fixed then
		return self.height
	end
	return DisplayGroup.__getter.max_bottom(self)
end

function Linear:UpdateWidthLayout(child)
	self:Layout(self:GetChildIndex(child))
end

function Linear:UpdateHeightLayout(child)
	self:Layout(self:GetChildIndex(child))
end

function Linear:ClipRect(left, top, right, bottom, h_move, v_move)
	left = left - self._x
	if left < 0 then
		left = 0
	end
	top = top - (self._y)
	if top < 0 then
		top = 0
	end
	right = right - (self._x)
	if right > self.width then
		right = self.width
	end
	bottom = bottom - (self._y)
	if bottom > self.height then
		bottom = self.height
	end
	if left >= right or top >= bottom then
		self.clip = true
		return
	end
	self.clip = false
	local child_count = self.child_count
	if child_count == 0 then
		return
	end
	local childs = self.childs
	local new_show_map = {}
	self._show:RemoveAllChild()
	local max_index = child_count
	local min_index = 1
	local index = min_index
	if self._type == UIEnumTypes.TYPE_H then
		if h_move == nil or self._clip_up_index == 0 then
			repeat
				if childs[index].x > left then
					max_index = index
					index = __ceil((max_index + min_index) / 2)
				elseif childs[index].x + childs[index].width < left then
					min_index = index
					index = __ceil((max_index + min_index) / 2)
				else
					break
				end
			until not(index ~= min_index and index ~= max_index)
		else
			index = self._clip_up_index
			if h_move < 0 then
				while index < max_index do
					if childs[index].x + childs[index].width >= left then
						break
					end
					index = index + 1
				end
			elseif h_move > 0 then
				while index > min_index do
					if childs[index].x <= left then
						break
					end
					index = index - 1
				end
			end
		end
		self._clip_up_index = index
		local i = index
		while true do
			if not(i <= child_count) then break end
			if childs[i].x < right then
				self._show:AddChild(childs[i]._show)
				new_show_map[childs[i]] = true
				if childs[i].ClipRect ~= nil then
					childs[i]:ClipRect(left, top, right, bottom, h_move, v_move)
				end
				self._clip_down_index = i
			else
				break
			end
			i = i+(1)
		end
	else
		if v_move == nil or self._clip_up_index == 0 then
			repeat
				if childs[index].y > top then
					max_index = index
					index = __ceil((max_index + min_index) / 2)
				elseif childs[index].y + childs[index].height < top then
					min_index = index
					index = __ceil((max_index + min_index) / 2)
				else
					break
				end
			until not(index ~= min_index and index ~= max_index)
		else
			index = self._clip_up_index
			if v_move < 0 then
				while index < max_index do
					if childs[index].y + childs[index].height >= top then
						break
					end
					index = index + 1
				end
			elseif v_move > 0 then
				while index > min_index do
					if childs[index].y <= top then
						break
					end
					index = index - 1
				end
			end
		end
		self._clip_up_index = index
		local i = index
		while true do
			if not(i <= child_count) then break end
			if childs[i].y < bottom then
				self._show:AddChild(childs[i]._show)
				new_show_map[childs[i]] = true
				if childs[i].ClipRect ~= nil then
					childs[i]:ClipRect(left, top, right, bottom, h_move, v_move)
				end
				self._clip_down_index = i
			else
				break
			end
			i = i+(1)
		end
	end
	for child, v in ___pairs(new_show_map) do
		if self._show_child_map[child] == nil then
			child:DispatchEvent(___all_struct[1862557463], {})
		else
			self._show_child_map[child] = nil
		end
	end
	for child, v in ___pairs(self._show_child_map) do
		child:DispatchEvent(___all_struct[348388800], {})
	end
	self._show_child_map = new_show_map
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
Piechart = Lua.Class(ALittle.DisplayLayout, "ALittle.Piechart")

function Piechart:Ctor(ctrl_sys)
	___rawset(self, "_start_degree", 0)
	___rawset(self, "_end_degree", 0)
	___rawset(self, "_tri_list", {})
	local i = 1
	while true do
		if not(i <= 5) then break end
		local triangle = Triangle(self._ctrl_sys)
		triangle.u2 = 0.5
		triangle.v2 = 0.5
		triangle.width_type = UIEnumTypes.SIZE_MARGIN
		triangle.width_value = 0
		triangle.height_type = UIEnumTypes.SIZE_MARGIN
		triangle.height_value = 0
		self._tri_list[i] = triangle
		DisplayLayout.AddChild(self, triangle)
		i = i+(1)
	end
	___rawset(self, "_start_degree", 0)
	___rawset(self, "_end_degree", 360)
	self:SetDegree(0, 360)
	___rawset(self, "_pie_texture_name", nil)
end

function Piechart.__setter:start_degree(value)
	local tmp = value % 360
	if tmp < 0 then
		tmp = tmp + (360)
	end
	if tmp == 0 and value / 360 ~= 0 then
		tmp = 360
	end
	self._start_degree = tmp
	self:SetDegree(tmp, self._end_degree)
end

function Piechart.__getter:start_degree()
	return self._start_degree
end

function Piechart.__setter:end_degree(value)
	local tmp = value % 360
	if tmp < 0 then
		tmp = tmp + (360)
	end
	if tmp == 0 and value / 360 ~= 0 then
		tmp = 360
	end
	self._end_degree = tmp
	self:SetDegree(self._start_degree, tmp)
end

function Piechart.__getter:end_degree()
	return self._end_degree
end

function Piechart.__setter:red(value)
	if self.red == value then
		return
	end
	self.red = value
	local i = 1
	while true do
		if not(i <= 5) then break end
		self._tri_list[i].red = value
		i = i+(1)
	end
end

function Piechart.__setter:green(value)
	if self.green == value then
		return
	end
	self.green = value
	local i = 1
	while true do
		if not(i <= 5) then break end
		self._tri_list[i].green = value
		i = i+(1)
	end
end

function Piechart.__setter:blue(value)
	if self.blue == value then
		return
	end
	self.blue = value
	local i = 1
	while true do
		if not(i <= 5) then break end
		self._tri_list[i].blue = value
		i = i+(1)
	end
end

function Piechart.__setter:width(value)
	if value == self._width then
		return
	end
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	for k, v in ___ipairs(self._tri_list) do
		v.x1 = v.u1 * value
		v.x2 = v.u2 * value
		v.x3 = v.u3 * value
		self:UpdateWidthLayout(v)
		self:UpdateXLayout(v)
	end
	self._show:SetWidth(value)
end

function Piechart.__setter:height(value)
	if value == self._height then
		return
	end
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	for k, v in ___ipairs(self._tri_list) do
		v.y1 = v.v1 * value
		v.y2 = v.v2 * value
		v.y3 = v.v3 * value
		self:UpdateHeightLayout(v)
		self:UpdateYLayout(v)
	end
	self._show:SetHeight(value)
end

function Piechart.__setter:texture_name(value)
	if self._pie_texture_name == value then
		return
	end
	self._pie_texture_name = value
	for k, v in ___ipairs(self._tri_list) do
		v.texture_name = value
	end
end

function Piechart.__getter:texture_name()
	return self._pie_texture_name
end

function Piechart:SetDegree(start_c, end_c)
	if end_c <= start_c then
		return
	end
	local width = self.width
	local height = self.height
	for k, v in ___ipairs(self._tri_list) do
		v.visible = false
	end
	local e_offset = 0.0
	local s_offset = 0.0
	if end_c >= 0 and end_c <= 45 then
		s_offset = (45 - start_c) / 90
		e_offset = (45 - end_c) / 90
		self:SetTriangleUV(self._tri_list[1], 1, e_offset, 1, s_offset)
		self:SetTriangleXY(self._tri_list[1], width, e_offset * height, width, s_offset * height)
	elseif end_c <= 135 then
		e_offset = (135 - end_c) / 90
		if start_c < 45 then
			s_offset = (45 - start_c) / 90
			self:SetTriangleUV(self._tri_list[1], 1, 0, 1, s_offset)
			self:SetTriangleXY(self._tri_list[1], width, 0, width, s_offset * height)
			self:SetTriangleUV(self._tri_list[2], e_offset, 0, self._tri_list[1].u1, self._tri_list[1].v1)
			self:SetTriangleXY(self._tri_list[2], e_offset * width, 0, self._tri_list[1].x1, self._tri_list[1].y1)
		else
			e_offset = (135 - end_c) / 90
			s_offset = (135 - start_c) / 90
			self:SetTriangleUV(self._tri_list[2], e_offset, 0, s_offset, 0)
			self:SetTriangleXY(self._tri_list[2], e_offset * width, 0, s_offset * width, 0)
		end
	elseif end_c <= 225 then
		e_offset = (end_c - 135) / 90
		if start_c < 45 then
			s_offset = (45 - start_c) / 90
			self:SetTriangleUV(self._tri_list[1], 1, 0, 1, s_offset)
			self:SetTriangleXY(self._tri_list[1], width, 0, width, s_offset * height)
			self:SetTriangleUV(self._tri_list[2], 0, 0, self._tri_list[1].u1, self._tri_list[1].v1)
			self:SetTriangleXY(self._tri_list[2], 0, 0, self._tri_list[1].x1, self._tri_list[1].y1)
			self:SetTriangleUV(self._tri_list[3], self._tri_list[2].u1, self._tri_list[2].v1, 0, e_offset)
			self:SetTriangleXY(self._tri_list[3], self._tri_list[2].x1, self._tri_list[2].y1, 0, e_offset * height)
		elseif start_c < 135 then
			s_offset = (135 - start_c) / 90
			self:SetTriangleUV(self._tri_list[2], 0, 0, s_offset, 0)
			self:SetTriangleXY(self._tri_list[2], 0, 0, s_offset * width, 0)
			self:SetTriangleUV(self._tri_list[3], self._tri_list[2].u1, self._tri_list[2].v1, 0, e_offset)
			self:SetTriangleXY(self._tri_list[3], self._tri_list[2].x1, self._tri_list[2].y1, 0, e_offset * height)
		else
			s_offset = (start_c - 135) / 90
			self:SetTriangleUV(self._tri_list[3], 0, s_offset, 0, e_offset)
			self:SetTriangleXY(self._tri_list[3], 0, s_offset * height, 0, e_offset * height)
		end
	elseif end_c <= 315 then
		e_offset = (end_c - 225) / 90
		if start_c < 45 then
			s_offset = (45 - start_c) / 90
			self:SetTriangleUV(self._tri_list[1], 1, 0, 1, s_offset)
			self:SetTriangleXY(self._tri_list[1], width, 0, width, s_offset * height)
			self:SetTriangleUV(self._tri_list[2], 0, 0, self._tri_list[1].u1, self._tri_list[1].v1)
			self:SetTriangleXY(self._tri_list[2], 0, 0, self._tri_list[1].x1, self._tri_list[1].y1)
			self:SetTriangleUV(self._tri_list[3], self._tri_list[2].u1, self._tri_list[2].v1, 0, 1)
			self:SetTriangleXY(self._tri_list[3], self._tri_list[2].x1, self._tri_list[2].y1, 0, height)
			self:SetTriangleUV(self._tri_list[4], self._tri_list[3].u3, self._tri_list[3].v3, e_offset, 1)
			self:SetTriangleXY(self._tri_list[4], self._tri_list[3].x3, self._tri_list[3].y3, e_offset * width, height)
		elseif start_c < 135 then
			s_offset = (135 - start_c) / 90
			self:SetTriangleUV(self._tri_list[2], 0, 0, s_offset, 0)
			self:SetTriangleXY(self._tri_list[2], 0, 0, s_offset * width, 0)
			self:SetTriangleUV(self._tri_list[3], self._tri_list[2].u1, self._tri_list[2].v1, 0, 1)
			self:SetTriangleXY(self._tri_list[3], self._tri_list[2].x1, self._tri_list[2].y1, 0, height)
			self:SetTriangleUV(self._tri_list[4], self._tri_list[3].u3, self._tri_list[3].v3, e_offset, 1)
			self:SetTriangleXY(self._tri_list[4], self._tri_list[3].x3, self._tri_list[3].y3, e_offset * width, height)
		elseif start_c < 225 then
			s_offset = (start_c - 135) / 90
			self:SetTriangleUV(self._tri_list[3], 0, s_offset, 0, 1)
			self:SetTriangleXY(self._tri_list[3], 0, s_offset * height, 0, height)
			self:SetTriangleUV(self._tri_list[4], self._tri_list[3].u3, self._tri_list[3].v3, e_offset, 1)
			self:SetTriangleXY(self._tri_list[4], self._tri_list[3].x3, self._tri_list[3].y3, e_offset * width, height)
		else
			s_offset = (start_c - 225) / 90
			self:SetTriangleUV(self._tri_list[4], s_offset, 1, e_offset, 1)
			self:SetTriangleXY(self._tri_list[4], s_offset * width, height, e_offset * width, height)
		end
	else
		e_offset = (405 - end_c) / 90
		if start_c < 45 then
			s_offset = (45 - start_c) / 90
			self:SetTriangleUV(self._tri_list[1], 1, 0, 1, s_offset)
			self:SetTriangleXY(self._tri_list[1], width, 0, width, s_offset * height)
			self:SetTriangleUV(self._tri_list[2], 0, 0, self._tri_list[1].u1, self._tri_list[1].v1)
			self:SetTriangleXY(self._tri_list[2], 0, 0, self._tri_list[1].x1, self._tri_list[1].y1)
			self:SetTriangleUV(self._tri_list[3], self._tri_list[2].u1, self._tri_list[2].v1, 0, 1)
			self:SetTriangleXY(self._tri_list[3], self._tri_list[2].x1, self._tri_list[2].y1, 0, height)
			self:SetTriangleUV(self._tri_list[4], self._tri_list[3].u3, self._tri_list[3].v3, 1, 1)
			self:SetTriangleXY(self._tri_list[4], self._tri_list[3].x3, self._tri_list[3].y3, width, height)
			self:SetTriangleUV(self._tri_list[5], 1, e_offset, self._tri_list[4].u3, self._tri_list[4].v3)
			self:SetTriangleXY(self._tri_list[5], width, e_offset * height, self._tri_list[4].x3, self._tri_list[4].y3)
		elseif start_c < 135 then
			s_offset = (135 - start_c) / 90
			self:SetTriangleUV(self._tri_list[2], 0, 0, s_offset, 0)
			self:SetTriangleXY(self._tri_list[2], 0, 0, s_offset * width, 0)
			self:SetTriangleUV(self._tri_list[3], self._tri_list[2].u1, self._tri_list[2].v1, 0, 1)
			self:SetTriangleXY(self._tri_list[3], self._tri_list[2].x1, self._tri_list[2].y1, 0, height)
			self:SetTriangleUV(self._tri_list[4], self._tri_list[3].u3, self._tri_list[3].v3, 1, 1)
			self:SetTriangleXY(self._tri_list[4], self._tri_list[3].x3, self._tri_list[3].y3, width, height)
			self:SetTriangleUV(self._tri_list[1], 1, e_offset, self._tri_list[4].u3, self._tri_list[4].v3)
			self:SetTriangleXY(self._tri_list[1], width, e_offset * height, self._tri_list[4].x3, self._tri_list[4].y3)
		elseif start_c < 225 then
			s_offset = (start_c - 135) / 90
			self:SetTriangleUV(self._tri_list[3], 0, s_offset, 0, 1)
			self:SetTriangleXY(self._tri_list[3], 0, s_offset * height, 0, height)
			self:SetTriangleUV(self._tri_list[4], self._tri_list[3].u3, self._tri_list[3].v3, 1, 1)
			self:SetTriangleXY(self._tri_list[4], self._tri_list[3].x3, self._tri_list[3].y3, width, height)
			self:SetTriangleUV(self._tri_list[1], 1, e_offset, self._tri_list[4].u3, self._tri_list[4].v3)
			self:SetTriangleXY(self._tri_list[1], width, e_offset * height, self._tri_list[4].x3, self._tri_list[4].y3)
		elseif start_c < 315 then
			s_offset = (start_c - 225) / 90
			self:SetTriangleUV(self._tri_list[4], s_offset, 1, 1, 1)
			self:SetTriangleXY(self._tri_list[4], s_offset * width, height, width, height)
			self:SetTriangleUV(self._tri_list[1], 1, e_offset, self._tri_list[4].u3, self._tri_list[4].v3)
			self:SetTriangleXY(self._tri_list[1], width, e_offset * height, self._tri_list[4].x3, self._tri_list[4].y3)
		else
			s_offset = (405 - start_c) / 90
			self:SetTriangleUV(self._tri_list[1], 1, e_offset, 1, s_offset)
			self:SetTriangleXY(self._tri_list[1], width, e_offset * height, width, s_offset * height)
		end
	end
end

function Piechart:SetTriangleXY(tri, x1, y1, x3, y3)
	tri.x1 = x1
	tri.y1 = y1
	tri.x3 = x3
	tri.y3 = y3
	tri.visible = true
end

function Piechart:SetTriangleUV(tri, u1, v1, u3, v3)
	tri.u1 = u1
	tri.v1 = v1
	tri.u3 = u3
	tri.v3 = v3
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(485812343, "ALittle.RichAreaLineInfo", {
name = "ALittle.RichAreaLineInfo", ns_name = "ALittle", rl_name = "RichAreaLineInfo", hash_code = 485812343,
name_list = {"childs","child_count","height","width"},
type_list = {"List<ALittle.DisplayObject>","int","double","double"},
option_map = {}
})

local __find = String_Find
local __sub = String_Sub
local __floor = Math_Floor
assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
RichArea = Lua.Class(ALittle.DisplayLayout, "ALittle.RichArea")

function RichArea:SplitText(char_info, char_info_list, char_info_list_count)
	local text = char_info.text
	while true do
		local start_index_1 = __find(text, "\n")
		local start_index_2 = __find(text, "\t")
		if start_index_1 ~= nil and start_index_2 ~= nil then
			if start_index_1 < start_index_2 then
				start_index_2 = nil
			else
				start_index_1 = nil
			end
		end
		if start_index_1 ~= nil then
			local new_char_info = String_CopyTable(char_info)
			new_char_info.text = __sub(text, 1, start_index_1 - 1)
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			new_char_info = String_CopyTable(char_info)
			new_char_info.text = "\n"
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			text = __sub(text, start_index_1 + 1)
		elseif start_index_2 ~= nil then
			local new_char_info = String_CopyTable(char_info)
			new_char_info.text = __sub(text, 1, start_index_2 - 1)
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			new_char_info = String_CopyTable(char_info)
			new_char_info.text = "\t"
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			text = __sub(text, start_index_2 + 1)
		else
			if text ~= "" then
				local new_char_info = String_CopyTable(char_info)
				new_char_info.text = text
				char_info_list_count = char_info_list_count + 1
				char_info_list[char_info_list_count] = new_char_info
			end
			break
		end
	end
	return char_info_list_count
end

function RichArea:Ctor(ctrl_sys)
	___rawset(self, "_enter_key_height", 20)
	___rawset(self, "_line_spacing", 0)
	___rawset(self, "_halign", UIEnumTypes.HALIGN_LEFT)
	___rawset(self, "_valign", UIEnumTypes.VALIGN_TOP)
	___rawset(self, "_display_list", nil)
	___rawset(self, "_line_list", {})
	___rawset(self, "_line_count", 0)
	___rawset(self, "_real_height", 0)
	___rawset(self, "_link_map", CreateValueWeakMap())
	___rawset(self, "_max_line_count", 0)
end

function RichArea.__getter:link_map()
	return self._link_map
end

function RichArea:ClearLinkMap()
	self._link_map = CreateValueWeakMap()
end

function RichArea.__setter:width(value)
	if self.width == value then
		return
	end
	DisplayLayout.__setter.width(self, value)
	self:Refresh()
end

function RichArea.__setter:display_list(value)
	self._display_list = value
	self:Refresh()
end

function RichArea.__getter:display_list()
	return self._display_list
end

function RichArea.__setter:halign(value)
	if self._halign == value then
		return
	end
	self._halign = value
	self:RefreshX()
end

function RichArea.__getter:halign()
	return self._halign
end

function RichArea.__setter:valign(value)
	if self._valign == value then
		return
	end
	self._valign = value
	self:RefreshY()
end

function RichArea.__getter:valign()
	return self._valign
end

function RichArea.__getter:lin_count()
	return self._line_count
end

function RichArea.__getter:max_line_count()
	return self._max_line_count
end

function RichArea.__setter:max_line_count(value)
	if self._max_line_count == value then
		return
	end
	self._max_line_count = value
	self:Refresh()
end

function RichArea:GetLineWidth(line_index)
	local count = self._line_count
	if line_index < 1 or line_index > count then
		return 0
	end
	local line = self._line_list[line_index]
	return line.width
end

function RichArea.__getter:real_height()
	return self._real_height
end

function RichArea.__setter:line_spacing(line_spacing)
	if self._line_spacing == line_spacing then
		return
	end
	self._line_spacing = line_spacing
	self:RefreshY()
end

function RichArea.__getter:line_spacing()
	return self._line_spacing
end

function RichArea:Refresh()
	self:RemoveAllChild()
	self._line_list = {}
	self._line_count = 0
	local total_width = self.width
	if total_width == 0 then
		return
	end
	if self._display_list == nil then
		return
	end
	local display_list = {}
	local display_list_count = 0
	for index, display_info in ___ipairs(self._display_list) do
		if display_info.__class == "Text" then
			display_list_count = self:SplitText(display_info, display_list, display_list_count)
		else
			display_list_count = display_list_count + 1
			display_list[display_list_count] = display_info
		end
	end
	local line_info = nil
	local display_info = nil
	local display_object = nil
	local display_index = 1
	local remain_width = total_width
	while true do
		if display_info == nil then
			display_info = display_list[display_index]
			if display_info == nil then
				break
			end
		end
		if line_info == nil then
			if self._max_line_count > 0 and self._line_count >= self._max_line_count then
				break
			end
			line_info = {}
			line_info.childs = {}
			line_info.child_count = 0
			line_info.height = 0
			line_info.width = 0
		end
		if display_info.__class == "Text" then
			if display_info.text == "\n" then
				if line_info.height < self._enter_key_height then
					line_info.height = self._enter_key_height
				end
				self._line_count = self._line_count + 1
				self._line_list[self._line_count] = line_info
				line_info = nil
				display_info = nil
				display_object = nil
				display_index = display_index + 1
				remain_width = total_width
			elseif display_info.text == "\t" then
				if display_object == nil then
					local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
					self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info))
					display_object = self._ctrl_sys:CreateControl(name, self._link_map)
					self._ctrl_sys:UnRegisterInfo(name)
					display_object.text = "    "
				end
				local object_width = display_object.width
				local object_height = display_object.height
				if remain_width >= object_width then
					line_info.child_count = line_info.child_count + 1
					line_info.childs[line_info.child_count] = display_object
					self:AddChild(display_object)
					line_info.width = line_info.width + object_width
					if line_info.height < object_height then
						line_info.height = object_height
					end
					remain_width = remain_width - object_width
					if remain_width <= 0 then
						self._line_count = self._line_count + 1
						self._line_list[self._line_count] = line_info
						line_info = nil
						remain_width = total_width
					end
					display_object = nil
					display_info = nil
					display_index = display_index + 1
				else
					local count = display_object._show:CutTextByWidth(__floor(remain_width), display_info.text, __floor(total_width))
					if count > 0 then
						display_object.text = __sub(display_info.text, 1, count)
						local new_display_info = String_CopyTable(display_info)
						new_display_info.text = __sub(display_info.text, count + 1)
						line_info.child_count = line_info.child_count + 1
						line_info.childs[line_info.child_count] = display_object
						self:AddChild(display_object)
						line_info.width = line_info.width + display_object.width
						if line_info.height < object_height then
							line_info.height = object_height
						end
						self._line_count = self._line_count + 1
						self._line_list[self._line_count] = line_info
						line_info = nil
						remain_width = total_width
						display_object = nil
						display_info = new_display_info
					else
						self._line_count = self._line_count + 1
						self._line_list[self._line_count] = line_info
						line_info = nil
						remain_width = total_width
					end
				end
			else
				if display_info.text == "" then
					display_info = nil
					display_index = display_index + 1
				else
					if display_object == nil then
						local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
						self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info))
						display_object = self._ctrl_sys:CreateControl(name, self._link_map)
						self._ctrl_sys:UnRegisterInfo(name)
					end
					local object_width = display_object.width
					local object_height = display_object.height
					local count = display_object._show:CutTextByWidth(__floor(remain_width), display_info.text, __floor(total_width))
					if count == 0 and line_info.child_count == 0 then
						count = String_GetByteCount(display_info.text, 1)
					end
					if count == 0 then
						remain_width = 0
					else
						display_object.text = __sub(display_info.text, 1, count)
						local new_display_info = String_CopyTable(display_info)
						new_display_info.text = __sub(display_info.text, count + 1)
						line_info.child_count = line_info.child_count + 1
						line_info.childs[line_info.child_count] = display_object
						self:AddChild(display_object)
						line_info.width = line_info.width + display_object.width
						if line_info.height < object_height then
							line_info.height = object_height
						end
						remain_width = remain_width - display_object.width
						display_object = nil
						display_info = new_display_info
					end
					if remain_width <= 0 then
						self._line_count = self._line_count + 1
						self._line_list[self._line_count] = line_info
						line_info = nil
						remain_width = total_width
					end
				end
			end
		else
			if display_object == nil then
				local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
				self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info))
				display_object = self._ctrl_sys:CreateControl(name, self._link_map)
				self._ctrl_sys:UnRegisterInfo(name)
			end
			local object_width = display_object.width
			local object_height = display_object.height
			if remain_width >= object_width or (line_info.child_count == 0 and total_width <= object_width) then
				line_info.child_count = line_info.child_count + 1
				line_info.childs[line_info.child_count] = display_object
				self:AddChild(display_object)
				line_info.width = line_info.width + display_object.width
				if line_info.height < object_height then
					line_info.height = object_height
				end
				remain_width = remain_width - object_width
				if remain_width <= 0 then
					self._line_count = self._line_count + 1
					self._line_list[self._line_count] = line_info
					line_info = nil
					remain_width = total_width
				end
				display_object = nil
				display_info = nil
				display_index = display_index + 1
			else
				self._line_count = self._line_count + 1
				self._line_list[self._line_count] = line_info
				line_info = nil
				remain_width = total_width
			end
		end
	end
	if line_info ~= nil then
		self._line_count = self._line_count + 1
		self._line_list[self._line_count] = line_info
	end
	self:RefreshX()
	self:RefreshY()
end

function RichArea:RefreshX()
	if self._line_list == nil then
		return
	end
	for k, line in ___ipairs(self._line_list) do
		local offset_x = 0.0
		if self._halign == UIEnumTypes.HALIGN_CENTER then
			offset_x = (self.width - line.width) / 2
		elseif self._halign == UIEnumTypes.HALIGN_RIGHT then
			offset_x = self.width - line.width
		end
		for index, child in ___ipairs(line.childs) do
			child.x = offset_x
			offset_x = offset_x + child.width
		end
	end
end

function RichArea:RefreshY()
	if self._line_list == nil then
		return
	end
	self._real_height = 0
	local line_count = 0
	for k, line in ___ipairs(self._line_list) do
		self._real_height = self._real_height + line.height
		line_count = line_count + 1
	end
	self._real_height = self._real_height + (line_count - 1) * self._line_spacing
	local offset_y = 0.0
	if self._valign == UIEnumTypes.VALIGN_CENTER then
		offset_y = (self.height - self._real_height) / 2
	elseif self._valign == UIEnumTypes.VALIGN_BOTTOM then
		offset_y = self.height - self._real_height
	end
	for k, line in ___ipairs(self._line_list) do
		for index, child in ___ipairs(line.childs) do
			child.y = line.height - child.height + offset_y
		end
		offset_y = offset_y + line.height + self._line_spacing
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(-923963966, "ALittle.RichEditCharInfo", {
name = "ALittle.RichEditCharInfo", ns_name = "ALittle", rl_name = "RichEditCharInfo", hash_code = -923963966,
name_list = {"acc_width","pre_width","text_info","text_object","text","ctrl_info","ctrl"},
type_list = {"double","double","ALittle.DisplayInfo","ALittle.Text","string","ALittle.DisplayInfo","ALittle.DisplayObject"},
option_map = {}
})
RegStruct(556044369, "ALittle.RichEditLineInfo", {
name = "ALittle.RichEditLineInfo", ns_name = "ALittle", rl_name = "RichEditLineInfo", hash_code = 556044369,
name_list = {"char_list","char_count","child_list","child_count","container","acc_height","pre_height","force_line"},
type_list = {"List<ALittle.RichEditCharInfo>","int","List<ALittle.DisplayObject>","int","ALittle.DisplayLayout","double","double","bool"},
option_map = {}
})
RegStruct(1949279026, "ALittle.RichEditFontChangedEvent", {
name = "ALittle.RichEditFontChangedEvent", ns_name = "ALittle", rl_name = "RichEditFontChangedEvent", hash_code = 1949279026,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-1053992999, "ALittle.RichEditCursorClickEvent", {
name = "ALittle.RichEditCursorClickEvent", ns_name = "ALittle", rl_name = "RichEditCursorClickEvent", hash_code = -1053992999,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(9565867, "ALittle.RichEditMultiDragBeginEvent", {
name = "ALittle.RichEditMultiDragBeginEvent", ns_name = "ALittle", rl_name = "RichEditMultiDragBeginEvent", hash_code = 9565867,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(291295687, "ALittle.RichEditMultiDragEvent", {
name = "ALittle.RichEditMultiDragEvent", ns_name = "ALittle", rl_name = "RichEditMultiDragEvent", hash_code = 291295687,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-203792390, "ALittle.RichEditMultiDragEndEvent", {
name = "ALittle.RichEditMultiDragEndEvent", ns_name = "ALittle", rl_name = "RichEditMultiDragEndEvent", hash_code = -203792390,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(774620468, "ALittle.UIRichEditLongClickEvent", {
name = "ALittle.UIRichEditLongClickEvent", ns_name = "ALittle", rl_name = "UIRichEditLongClickEvent", hash_code = 774620468,
name_list = {"target","abs_x","abs_y","rel_x","rel_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double"},
option_map = {}
})

local __byte = String_Byte
local __sub = String_Sub
local __find = String_Find
local __floor = Math_Floor
local __len = String_Len
local __abs = Math_Abs
local __type = String_Type
assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
RichEdit = Lua.Class(ALittle.DisplayLayout, "ALittle.RichEdit")

function RichEdit:CharIsNumber(str)
	local c = __byte(str, 1)
	return c >= 48 and c <= 57
end

function RichEdit:CharIsLetter(str)
	local c = __byte(str, 1)
	return c >= 65 and c <= 90 or c >= 97 and c <= 122
end

function RichEdit:CompareTextInfo(a, b)
	if a.font_path ~= b.font_path then
		return false
	end
	if a.font_size ~= b.font_size then
		return false
	end
	if a.red ~= b.red then
		return false
	end
	if a.green ~= b.green then
		return false
	end
	if a.blue ~= b.blue then
		return false
	end
	if a.bold ~= b.bold then
		return false
	end
	if a.italic ~= b.italic then
		return false
	end
	if a.underline ~= b.underline then
		return false
	end
	if a.deleteline ~= b.deleteline then
		return false
	end
	if a.outline ~= b.outline then
		return false
	end
	return true
end

function RichEdit:CopyTextInfo(b)
	local a = {}
	a.__class = "Text"
	a.font_path = b.font_path
	a.font_size = b.font_size
	a.red = b.red
	a.green = b.green
	a.blue = b.blue
	a.bold = b.bold
	a.italic = b.italic
	a.underline = b.underline
	a.deleteline = b.deleteline
	a.outline = b.outline
	return a
end

function RichEdit:InitTextInfo()
	local font_text = self._font_text
	local a = {}
	a.__class = "Text"
	a.font_path = font_text.font_path
	a.font_size = font_text.font_size
	a.red = font_text.red
	a.green = font_text.green
	a.blue = font_text.blue
	a.bold = font_text.bold
	a.italic = font_text.italic
	a.underline = font_text.underline
	a.deleteline = font_text.deleteline
	a.outline = font_text.outline
	return a
end

function RichEdit:SetDrawText(font_text)
	local draw_text = self._draw_text
	draw_text.font_path = font_text.font_path
	draw_text.font_size = font_text.font_size
	draw_text.red = font_text.red
	draw_text.green = font_text.green
	draw_text.blue = font_text.blue
	draw_text.bold = font_text.bold
	draw_text.italic = font_text.italic
	draw_text.underline = font_text.underline
	draw_text.deleteline = font_text.deleteline
	draw_text.outline = font_text.outline
end

function RichEdit:UpdateFontText()
	local line_list = self._line_list
	local char_info = line_list[self._line_cursor_it].char_list[self._char_cursor_it]
	local is_change = false
	local font_text = self._font_text
	local text_info = char_info.text_info
	if font_text.font_path ~= text_info.font_path then
		font_text.font_path = text_info.font_path
		is_change = true
	end
	if font_text.font_size ~= text_info.font_size then
		font_text.font_size = text_info.font_size
		is_change = true
	end
	if font_text.red ~= text_info.red then
		font_text.red = text_info.red
		is_change = true
	end
	if font_text.green ~= text_info.green then
		font_text.green = text_info.green
		is_change = true
	end
	if font_text.blue ~= text_info.blue then
		font_text.blue = text_info.blue
		is_change = true
	end
	if font_text.bold ~= text_info.bold then
		font_text.bold = text_info.bold
		is_change = true
	end
	if font_text.italic ~= text_info.italic then
		font_text.italic = text_info.italic
		is_change = true
	end
	if font_text.underline ~= text_info.underline then
		font_text.underline = text_info.underline
		is_change = true
	end
	if font_text.deleteline ~= text_info.deleteline then
		font_text.deleteline = text_info.deleteline
		is_change = true
	end
	if font_text.outline ~= text_info.outline then
		font_text.outline = text_info.outline
		is_change = true
	end
	if is_change then
		self:DispatchEvent(___all_struct[1949279026], {})
	end
end

function RichEdit:CheckDisplayList(content)
	for k, v in ___ipairs(content) do
		if v.__class == nil then
			return false
		end
	end
	return true
end

function RichEdit:DisplayListToCharInfoList(display_list, default_text_info)
	local char_info_list = {}
	local char_info_list_count = 0
	local last_text_info = default_text_info
	for display_index, display_info in ___ipairs(display_list) do
		if display_info.__class == "Text" then
			local new_char_info = {}
			new_char_info.acc_width = 0
			new_char_info.pre_width = 0
			new_char_info.text_info = self:CopyTextInfo(display_info)
			new_char_info.text_object = nil
			new_char_info.text = display_info.text
			new_char_info.ctrl_info = nil
			new_char_info.ctrl = nil
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			last_text_info = new_char_info.text_info
		else
			if last_text_info == nil then
				last_text_info = self:InitTextInfo()
			end
			local new_char_info = {}
			new_char_info.acc_width = 0
			new_char_info.pre_width = 0
			new_char_info.text_info = last_text_info
			new_char_info.text_object = nil
			new_char_info.text = ""
			new_char_info.ctrl_info = display_info
			new_char_info.ctrl = nil
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
		end
	end
	return char_info_list
end

function RichEdit:GetCharInfoList()
	local char_info_list = {}
	local char_info_list_count = 0
	for line_index, line_info in ___ipairs(self._line_list) do
		for char_index, char_info in ___ipairs(line_info.char_list) do
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = char_info
		end
	end
	return char_info_list
end

function RichEdit:JoinCharInfoList(char_info_list)
	local new_char_info_list = {}
	local new_char_info_list_count = 0
	local text_info = nil
	local text_list = nil
	local text_list_count = 0
	for char_index, char_info in ___ipairs(char_info_list) do
		if char_info.ctrl_info == nil then
			if text_info == nil then
				text_info = char_info.text_info
				text_list = {}
				text_list_count = 1
				text_list[text_list_count] = char_info.text
			elseif text_info == char_info.text_info then
				text_list_count = text_list_count + 1
				text_list[text_list_count] = char_info.text
			else
				if self:CompareTextInfo(text_info, char_info.text_info) then
					text_list_count = text_list_count + 1
					text_list[text_list_count] = char_info.text
				else
					local text = String_Join(text_list, "")
					if text ~= "" then
						local new_char_info = {}
						new_char_info.acc_width = 0
						new_char_info.pre_width = 0
						new_char_info.text_info = text_info
						new_char_info.text_object = nil
						new_char_info.text = text
						new_char_info.ctrl_info = nil
						new_char_info.ctrl = nil
						new_char_info_list_count = new_char_info_list_count + 1
						new_char_info_list[new_char_info_list_count] = new_char_info
					end
					text_info = char_info.text_info
					text_list = {}
					text_list_count = 1
					text_list[text_list_count] = char_info.text
				end
			end
		else
			if text_info ~= nil then
				local text = String_Join(text_list, "")
				if text ~= "" then
					local new_char_info = {}
					new_char_info.acc_width = 0
					new_char_info.pre_width = 0
					new_char_info.text_info = text_info
					new_char_info.text_object = nil
					new_char_info.text = text
					new_char_info.ctrl_info = nil
					new_char_info.ctrl = nil
					new_char_info_list_count = new_char_info_list_count + 1
					new_char_info_list[new_char_info_list_count] = new_char_info
				end
				text_info = nil
				text_list = nil
				text_list_count = 0
			end
			local new_char_info = {}
			new_char_info.acc_width = 0
			new_char_info.pre_width = 0
			new_char_info.text_info = text_info
			new_char_info.text_object = nil
			new_char_info.text = nil
			new_char_info.ctrl_info = char_info.ctrl_info
			new_char_info.ctrl = char_info.ctrl
			new_char_info_list_count = new_char_info_list_count + 1
			new_char_info_list[new_char_info_list_count] = new_char_info
		end
	end
	if text_info ~= nil then
		local text = String_Join(text_list, "")
		if text ~= "" then
			local new_char_info = {}
			new_char_info.acc_width = 0
			new_char_info.pre_width = 0
			new_char_info.text_info = text_info
			new_char_info.text_object = nil
			new_char_info.text = text
			new_char_info.ctrl_info = nil
			new_char_info.ctrl = nil
			new_char_info_list_count = new_char_info_list_count + 1
			new_char_info_list[new_char_info_list_count] = new_char_info
		end
	end
	return new_char_info_list
end

function RichEdit:CharInfoListToDisplayList(list)
	local display_list = {}
	local display_list_count = 0
	local text_info = nil
	local text_list = nil
	local text_list_count = 0
	for char_index, char_info in ___ipairs(list) do
		if char_info.ctrl_info == nil then
			if text_info == nil then
				text_info = char_info.text_info
				text_list = {}
				text_list_count = 1
				text_list[text_list_count] = char_info.text
			elseif text_info == char_info.text_info then
				text_list_count = text_list_count + 1
				text_list[text_list_count] = char_info.text
			else
				if self:CompareTextInfo(text_info, char_info.text_info) then
					text_list_count = text_list_count + 1
					text_list[text_list_count] = char_info.text
				else
					local text = String_Join(text_list, "")
					if text ~= "" then
						local text_ctrl = String_CopyTable(text_info)
						text_ctrl.__class = "Text"
						text_ctrl.text = text
						display_list_count = display_list_count + 1
						display_list[display_list_count] = text_ctrl
					end
					text_info = char_info.text_info
					text_list = {}
					text_list_count = 1
					text_list[text_list_count] = char_info.text
				end
			end
		else
			if text_info ~= nil then
				local text = String_Join(text_list, "")
				if text ~= "" then
					local text_ctrl = String_CopyTable(text_info)
					text_ctrl.__class = "Text"
					text_ctrl.text = text
					display_list_count = display_list_count + 1
					display_list[display_list_count] = text_ctrl
				end
				text_info = nil
				text_list = nil
				text_list_count = 0
			end
			display_list_count = display_list_count + 1
			display_list[display_list_count] = String_CopyTable(char_info.ctrl_info)
		end
	end
	if text_info ~= nil then
		local text = String_Join(text_list, "")
		if text ~= "" then
			local text_ctrl = String_CopyTable(text_info)
			text_ctrl.__class = "Text"
			text_ctrl.text = text
			display_list_count = display_list_count + 1
			display_list[display_list_count] = text_ctrl
		end
	end
	return display_list
end

function RichEdit:CharInfoListToWord(list)
	local text_list = {}
	local text_list_count = 0
	for char_index, char_info in ___ipairs(list) do
		if char_info.ctrl_info == nil then
			text_list_count = text_list_count + 1
			text_list[text_list_count] = char_info.text
		end
	end
	return String_Join(text_list, "")
end

function RichEdit:SplitText(char_info, char_info_list, char_info_list_count)
	local text = char_info.text
	while true do
		local start_index_1 = __find(text, "\n")
		local start_index_2 = __find(text, "\t")
		if start_index_1 ~= nil and start_index_2 ~= nil then
			if start_index_1 < start_index_2 then
				start_index_2 = nil
			else
				start_index_1 = nil
			end
		end
		if start_index_1 ~= nil then
			local new_char_info = String_CopyTable(char_info)
			new_char_info.text = __sub(text, 1, start_index_1 - 1)
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			new_char_info = String_CopyTable(char_info)
			new_char_info.text = "\n"
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			text = __sub(text, start_index_1 + 1)
		elseif start_index_2 ~= nil then
			local new_char_info = String_CopyTable(char_info)
			new_char_info.text = __sub(text, 1, start_index_2 - 1)
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			new_char_info = String_CopyTable(char_info)
			new_char_info.text = "\t"
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			text = __sub(text, start_index_2 + 1)
		else
			if text ~= "" then
				local new_char_info = String_CopyTable(char_info)
				new_char_info.text = text
				char_info_list_count = char_info_list_count + 1
				char_info_list[char_info_list_count] = new_char_info
			end
			break
		end
	end
	return char_info_list_count
end

function RichEdit:GetCursorWidth(font_size)
	if font_size == nil or font_size < 15 then
		return 1
	end
	if font_size > 100 then
		return 10
	end
	return __floor((font_size / 100) * 10)
end

function RichEdit:Ctor(ctrl_sys)
	___rawset(self, "_enter_key_height", 20)
	___rawset(self, "_line_list", {})
	___rawset(self, "_line_count", 0)
	___rawset(self, "_font_text", Text(self._ctrl_sys))
	___rawset(self, "_draw_text", Text(self._ctrl_sys))
	___rawset(self, "_line_start_it", nil)
	___rawset(self, "_line_cursor_it", nil)
	___rawset(self, "_char_cursor_it", nil)
	___rawset(self, "_line_select_it", nil)
	___rawset(self, "_char_select_it", nil)
	___rawset(self, "_scroll_list", ScrollList(self._ctrl_sys))
	self._scroll_list.right_scrollbar = ScrollBar(self._ctrl_sys)
	self._scroll_list.width_type = UIEnumTypes.SIZE_MARGIN
	self._scroll_list.height_type = UIEnumTypes.SIZE_MARGIN
	self._scroll_list.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._scroll_list.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._scroll_list)
	___rawset(self, "_current_flash_alpha", 1)
	___rawset(self, "_current_flash_dir", -0.05)
	___rawset(self, "_cursor", Quad(self._ctrl_sys))
	self:AddChild(self._cursor)
	self._cursor.visible = false
	self._cursor.width = 1
	___rawset(self, "_select_1", Quad(self._ctrl_sys))
	self:AddChild(self._select_1)
	self._select_1.visible = false
	self._select_1.alpha = 0.5
	___rawset(self, "_select_2", Quad(self._ctrl_sys))
	self:AddChild(self._select_2)
	self._select_2.visible = false
	self._select_2.alpha = 0.5
	___rawset(self, "_select_3", Quad(self._ctrl_sys))
	self:AddChild(self._select_3)
	self._select_3.visible = false
	self._select_3.alpha = 0.5
	___rawset(self, "_start_cursor", Quad(self._ctrl_sys))
	self._start_cursor.width = 1
	___rawset(self, "_end_cursor", Quad(self._ctrl_sys))
	self._end_cursor.width = 1
	___rawset(self, "_start_cursor_data", nil)
	___rawset(self, "_end_cursor_data", nil)
	___rawset(self, "_focus_cursor", true)
	___rawset(self, "_is_focus", false)
	___rawset(self, "_event_start_x", 0)
	___rawset(self, "_event_end_x", 0)
	___rawset(self, "_event_start_y", 0)
	___rawset(self, "_event_end_y", 0)
	___rawset(self, "_start_it_delta", 0)
	___rawset(self, "_click_drag_delta_x", 0)
	___rawset(self, "_click_drag_delta_y", 0)
	___rawset(self, "_is_click", false)
	___rawset(self, "_is_longclick", false)
	___rawset(self, "_is_click_cursor", false)
	___rawset(self, "_is_click_cursor_name", "")
	___rawset(self, "_drag_delta_x", 0)
	___rawset(self, "_drag_delta_y", 0)
	self:AddChild(self._start_cursor)
	self:AddChild(self._end_cursor)
	self._start_cursor.visible = false
	self._end_cursor.visible = false
	___rawset(self, "_cursor_margin_up", 0)
	___rawset(self, "_cursor_margin_down", 0)
	___rawset(self, "_margin_halign", 0)
	___rawset(self, "_margin_valign", 0)
	___rawset(self, "_line_spacing", 0)
	___rawset(self, "_is_drag_begin", false)
	___rawset(self, "_ims_padding", 0)
	___rawset(self, "_default_text_area", TextArea(self._ctrl_sys))
	self._default_text_area.width_type = UIEnumTypes.SIZE_MARGIN
	self._default_text_area.height = 0
	self._default_text_area.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._default_text_area.y = 0
	self:AddChild(self._default_text_area)
	___rawset(self, "_link_map", CreateValueWeakMap())
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
	___rawset(self, "_pickup_this", true)
	___rawset(self, "_editable", true)
	___rawset(self, "_is_selecting", false)
	___rawset(self, "_can_drag_text", true)
	___rawset(self, "_auto_ims", true)
	___rawset(self, "_multi_cursor", false)
	___rawset(self, "_can_scroll", true)
	___rawset(self, "_regex", "")
	___rawset(self, "_limit_len", 0)
	self:AddEventListener(___all_struct[292776509], self, self.HandleFocusOut)
	self:AddEventListener(___all_struct[-644464135], self, self.HandleFocusIn)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[-1234078962], self, self.HandleTextInput)
	self:AddEventListener(___all_struct[-1604617962], self, self.HandleKeyDown)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	self:AddEventListener(___all_struct[150587926], self, self.HandleDragEnd)
	self:AddEventListener(___all_struct[-1737121315], self, self.HandleMButtonWheel)
	self:AddEventListener(___all_struct[-439548260], self, self.HandleLongLButtonDown)
	self:ClearText()
	if self._loop == nil then
		___rawset(self, "_loop", LoopFunction(Lua.Bind(self.Update, self), -1, 1, 1))
	end
	A_LoopSystem:AddUpdater(self._loop)
end

function RichEdit:GetCursor()
	return self._cursor
end

function RichEdit.__getter:link_map()
	return self._link_map
end

function RichEdit:ClearLinkMap()
	self._link_map = CreateValueWeakMap()
end

function RichEdit.__getter:real_height()
	return self._line_list[self._line_count].acc_height
end

function RichEdit.__getter:real_edit_height()
	local line_list = self._line_list
	local last_line = line_list[self._line_count]
	if last_line.acc_height ~= last_line.pre_height then
		return last_line.acc_height
	end
	return last_line.acc_height + self._enter_key_height
end

function RichEdit.__getter:can_drag_text()
	return self._can_drag_text
end

function RichEdit.__setter:can_drag_text(value)
	self._can_drag_text = value
end

function RichEdit.__setter:auto_ims(value)
	self._auto_ims = value
end

function RichEdit.__getter:auto_ims()
	return self._auto_ims
end

function RichEdit.__getter:multi_cursor()
	return self._multi_cursor
end

function RichEdit.__setter:width(value)
	if self.width == value then
		return
	end
	DisplayLayout.__setter.width(self, value)
	local char_info_list = self:GetCharInfoList()
	self:ClearText()
	self:InsertTextImpl(char_info_list, false)
	self:ResetCursor()
end

function RichEdit.__setter:height(value)
	if self.height == value then
		return
	end
	DisplayLayout.__setter.height(self, value)
	self._default_text_area.y = self._scroll_list.y
	self._default_text_area.height = self._default_text_area.real_height
	if self._default_text_area.height > self._scroll_list.height then
		self._default_text_area.height = self._scroll_list.height
	end
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit.__setter:cursor_red(value)
	self._cursor.red = value
	self._select_1.red = value
	self._select_2.red = value
	self._select_3.red = value
end

function RichEdit.__getter:cursor_red()
	return self._cursor.red
end

function RichEdit.__setter:cursor_green(value)
	self._cursor.green = value
	self._select_1.green = value
	self._select_2.green = value
	self._select_3.green = value
end

function RichEdit.__getter:cursor_green()
	return self._cursor.green
end

function RichEdit.__setter:cursor_blue(value)
	self._cursor.blue = value
	self._select_1.blue = value
	self._select_2.blue = value
	self._select_3.blue = value
end

function RichEdit.__getter:cursor_blue()
	return self._cursor.blue
end

function RichEdit:ShowCursor(value)
	if self._multi_cursor == false then
		if value then
			if self._select_1.visible == false then
				self._cursor.visible = value
			else
				self._cursor.visible = false
			end
		else
			self._cursor.visible = (self._select_1.visible == false)
		end
	end
end

function RichEdit.__setter:font_bold(value)
	if self._font_text.bold == value then
		return
	end
	self._font_text.bold = value
	self._default_text_area.bold = value
	local char_info_list = self:GetCharInfoList()
	self:ClearText()
	self:InsertTextImpl(char_info_list, false)
	self:ResetCursor()
end

function RichEdit.__setter:font_underline(value)
	if self._font_text.underline == value then
		return
	end
	self._font_text.underline = value
	self._default_text_area.underline = value
end

function RichEdit.__setter:font_deleteline(value)
	if self._font_text.deleteline == value then
		return
	end
	self._font_text.deleteline = value
	self._default_text_area.deleteline = value
end

function RichEdit.__setter:font_italic(value)
	if self._font_text.italic == value then
		return
	end
	self._font_text.italic = value
	self._default_text_area.italic = value
end

function RichEdit.__setter:font_outline(value)
	if self._font_text.outline == value then
		return
	end
	self._font_text.outline = value
	self._default_text_area.outline = value
end

function RichEdit.__setter:font_path(value)
	if self._font_text.font_path == value then
		return
	end
	self._font_text.font_path = value
	self._default_text_area.font_path = value
	self._default_text_area.height = self._default_text_area.real_height
	if self._default_text_area.height > self._scroll_list.height then
		self._default_text_area.height = self._scroll_list.height
	end
	if self._font_text.font_path ~= nil and self._font_text.font_size ~= nil then
		self._enter_key_height = self._font_text.native_show:GetFontHeight()
		local char_info_list = self:GetCharInfoList()
		self:ClearText()
		self:InsertTextImpl(char_info_list, false)
		self:ResetCursor()
	end
end

function RichEdit.__setter:font_size(value)
	if self._font_text.font_size == value then
		return
	end
	self._font_text.font_size = value
	self._default_text_area.font_size = value
	self._default_text_area.height = self._default_text_area.real_height
	if self._default_text_area.height > self._scroll_list.height then
		self._default_text_area.height = self._scroll_list.height
	end
	if self._font_text.font_path ~= nil and self._font_text.font_size ~= nil then
		self._enter_key_height = self._font_text.native_show:GetFontHeight()
		local char_info_list = self:GetCharInfoList()
		self:ClearText()
		self:InsertTextImpl(char_info_list, false)
		self:ResetCursor()
	end
end

function RichEdit.__getter:font_path()
	return self._font_text.font_path
end

function RichEdit.__getter:font_size()
	return self._font_text.font_size
end

function RichEdit.__setter:font_red(value)
	if self._font_text.red == value then
		return
	end
	self._font_text.red = value
	self._default_text_area.red = value
end

function RichEdit.__getter:font_red()
	return self._font_text.red
end

function RichEdit.__setter:font_green(value)
	if self._font_text.green == value then
		return
	end
	self._font_text.green = value
	self._default_text_area.green = value
end

function RichEdit.__getter:font_green()
	return self._font_text.green
end

function RichEdit.__setter:font_blue(value)
	if self._font_text.blue == value then
		return
	end
	self._font_text.blue = value
	self._default_text_area.blue = value
end

function RichEdit.__getter:font_blue()
	return self._font_text.blue
end

function RichEdit.__setter:default_text(value)
	self._default_text_area.text = value
	self._default_text_area.height = self._default_text_area.real_height
	if self._default_text_area.height > self._scroll_list.height then
		self._default_text_area.height = self._scroll_list.height
	end
end

function RichEdit.__setter:text(value)
	self:ClearText()
	self:InsertTextNative(value)
	self:ShowDefaultText()
end

function RichEdit.__getter:text()
	local displaylist = self:CharInfoListToDisplayList(self:GetCharInfoList())
	local text = ""
	for k, v in ___ipairs(displaylist) do
		if v.__class == "Text" then
			text = text .. v.text
		end
	end
	return text
end

function RichEdit.__getter:default_text()
	return self._default_text_area.text
end

function RichEdit.__setter:default_text_alpha(value)
	self._default_text_area.alpha = value
end

function RichEdit.__getter:default_text_alpha()
	return self._default_text_area.alpha
end

function RichEdit.__setter:display_list(value)
	local char_info_list = self:DisplayListToCharInfoList(value)
	self:ClearText()
	self:InsertTextImpl(char_info_list, false)
	self:ResetCursor()
	self:ShowDefaultText()
end

function RichEdit.__getter:display_list()
	return self:CharInfoListToDisplayList(self:GetCharInfoList())
end

function RichEdit.__setter:start_cursor(value)
	if value == self._start_cursor then
		return
	end
	self:RemoveChild(self._start_cursor)
	value.x_type = UIEnumTypes.POS_ABS
	value.y_type = UIEnumTypes.POS_ABS
	value.width_type = UIEnumTypes.SIZE_ABS
	value.height_type = UIEnumTypes.SIZE_ABS
	self._start_cursor = value
	self:AddChild(self._start_cursor)
	self._start_cursor.visible = false
	self:ResetCursor()
end

function RichEdit.__getter:start_cursor()
	return self._start_cursor
end

function RichEdit.__setter:end_cursor(value)
	if value == self._end_cursor then
		return
	end
	self:RemoveChild(self._end_cursor)
	value.x_type = UIEnumTypes.POS_ABS
	value.y_type = UIEnumTypes.POS_ABS
	value.width_type = UIEnumTypes.SIZE_ABS
	value.height_type = UIEnumTypes.SIZE_ABS
	self._end_cursor = value
	self:AddChild(self._end_cursor)
	self._end_cursor.visible = false
	self:ResetCursor()
end

function RichEdit.__getter:end_cursor()
	return self._end_cursor
end

function RichEdit.__setter:cursor_margin_up(value)
	if value == self._cursor_margin_up then
		return
	end
	self._cursor_margin_up = value
	self:ResetCursor()
end

function RichEdit.__getter:cursor_margin_up()
	return self._cursor_margin_up
end

function RichEdit.__setter:cursor_margin_down(value)
	if value == self._cursor_margin_down then
		return
	end
	self._cursor_margin_down = value
	self:ResetCursor()
end

function RichEdit.__getter:cursor_margin_down()
	return self._cursor_margin_down
end

function RichEdit.__setter:margin_halign(value)
	if value == self._margin_halign then
		return
	end
	self._margin_halign = value
	self._scroll_list.width_value = self._margin_halign * 2
	self._default_text_area.width_value = self._margin_halign * 2
	local char_info_list = self:GetCharInfoList()
	self:ClearText()
	self:InsertTextImpl(char_info_list, false)
	self:ResetCursor()
end

function RichEdit.__getter:margin_halign()
	return self._margin_halign
end

function RichEdit.__setter:margin_valign(value)
	if value == self._margin_valign then
		return
	end
	self._margin_valign = value
	self._scroll_list.height_value = self._margin_valign * 2
	self._default_text_area.y = self._scroll_list.y
	self._default_text_area.height = self._default_text_area.real_height
	if self._default_text_area.height > self._scroll_list.height then
		self._default_text_area.height = self._scroll_list.height
	end
	local char_info_list = self:GetCharInfoList()
	self:ClearText()
	self:InsertTextImpl(char_info_list, false)
	self:ResetCursor()
end

function RichEdit.__setter:line_spacing(value)
	if self._line_spacing == self._line_spacing then
		return
	end
	self._line_spacing = value
	self._scroll_list.gap = value
end

function RichEdit.__getter:line_spacing()
	return self._line_spacing
end

function RichEdit.__getter:margin_valign()
	return self._margin_valign
end

function RichEdit.__setter:focus_cursor(value)
	self._focus_cursor = value
end

function RichEdit.__getter:focus_cursor()
	return self._focus_cursor
end

function RichEdit.__getter:cursor_x()
	return self._cursor.x
end

function RichEdit.__getter:cursor_y()
	return self._cursor.y
end

function RichEdit.__getter:start_cursor_x()
	return self._event_start_x
end

function RichEdit.__getter:start_cursor_y()
	return self._event_start_y
end

function RichEdit.__getter:end_cursor_x()
	return self._event_end_x
end

function RichEdit.__getter:end_cursor_y()
	return self._event_end_y
end

function RichEdit.__getter:regex()
	return self._regex
end

function RichEdit.__setter:regex(value)
	if value == nil then
		value = ""
	end
	self._regex = value
end

function RichEdit.__getter:limit_len()
	return self._limit_len
end

function RichEdit.__setter:limit_len(value)
	if value == nil then
		value = 0
	end
	self._limit_len = value
end

function RichEdit:GetLineWidth(value)
	local line = self._line_list[value]
	if line == nil then
		return 0
	end
	return line.char_list[line.char_count].acc_width
end

function RichEdit:GetScrollOffset()
	if self._line_start_it == nil then
		return 0
	end
	return self._line_list[self._line_start_it].pre_height + self._start_it_delta
end

function RichEdit:GetLineCount()
	return self._line_count
end

function RichEdit:Update()
	if self._cursor.abs_visible then
		self._current_flash_alpha = self._current_flash_alpha + self._current_flash_dir
		if (self._current_flash_dir < 0 and self._current_flash_alpha < -0.05) or (self._current_flash_dir > 0 and self._current_flash_alpha > 1.5) then
			self._current_flash_dir = -self._current_flash_dir
		end
		self._cursor.alpha = self._current_flash_alpha
	end
end

function RichEdit:GetSelectText()
	local line_list = self._line_list
	local select_text = {}
	local select_text_count = 0
	if self._char_select_it > line_list[self._line_select_it].char_count then
		return {}
	end
	if line_list[self._line_select_it].pre_height > line_list[self._line_cursor_it].pre_height then
		local line_it = self._line_cursor_it
		while true do
			local char_it
			local char_end
			if line_it == self._line_cursor_it then
				char_it = self._char_cursor_it
				char_it = char_it + 1
			else
				char_it = 1
			end
			if line_it == self._line_select_it then
				char_end = self._char_select_it
				char_end = char_end + 1
			else
				char_end = line_list[line_it].char_count + 1
			end
			local line = line_list[line_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
			if line_it == self._line_select_it then
				break
			end
			line_it = line_it + 1
		end
	elseif line_list[self._line_select_it].pre_height < line_list[self._line_cursor_it].pre_height then
		local line_it = self._line_select_it
		while true do
			local char_it
			local char_end
			if line_it == self._line_select_it then
				char_it = self._char_select_it
				char_it = char_it + 1
			else
				char_it = 1
			end
			if line_it == self._line_cursor_it then
				char_end = self._char_cursor_it
				char_end = char_end + 1
			else
				char_end = line_list[line_it].char_count + 1
			end
			local line = line_list[line_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
			if line_it == self._line_cursor_it then
				break
			end
			line_it = line_it + 1
		end
	else
		if line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width > line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			local char_it = self._char_select_it
			local char_end = self._char_cursor_it
			char_end = char_end + 1
			char_it = char_it + 1
			local line = line_list[self._line_cursor_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
		elseif line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width < line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			local char_it = self._char_cursor_it
			local char_end = self._char_select_it
			char_end = char_end + 1
			char_it = char_it + 1
			local line = line_list[self._line_cursor_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
		end
	end
	return self:CharInfoListToDisplayList(select_text)
end

function RichEdit:GetSelectWord()
	local line_list = self._line_list
	local select_text = {}
	local select_text_count = 0
	if self._char_select_it > line_list[self._line_select_it].char_count then
		return ""
	end
	if line_list[self._line_select_it].pre_height > line_list[self._line_cursor_it].pre_height then
		local line_it = self._line_cursor_it
		while true do
			local char_it
			local char_end
			if line_it == self._line_cursor_it then
				char_it = self._char_cursor_it
				char_it = char_it + 1
			else
				char_it = 1
			end
			if line_it == self._line_select_it then
				char_end = self._char_select_it
				char_end = char_end + 1
			else
				char_end = line_list[line_it].char_count + 1
			end
			local line = line_list[line_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
			if line_it == self._line_select_it then
				break
			end
			line_it = line_it + 1
		end
	elseif line_list[self._line_select_it].pre_height < line_list[self._line_cursor_it].pre_height then
		local line_it = self._line_select_it
		while true do
			local char_it
			local char_end
			if line_it == self._line_select_it then
				char_it = self._char_select_it
				char_it = char_it + 1
			else
				char_it = 1
			end
			if line_it == self._line_cursor_it then
				char_end = self._char_cursor_it
				char_end = char_end + 1
			else
				char_end = line_list[line_it].char_count + 1
			end
			local line = line_list[line_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
			if line_it == self._line_cursor_it then
				break
			end
			line_it = line_it + 1
		end
	else
		if line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width > line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			local char_it = self._char_select_it
			local char_end = self._char_cursor_it
			char_end = char_end + 1
			char_it = char_it + 1
			local line = line_list[self._line_cursor_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
		elseif line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width < line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			local char_it = self._char_cursor_it
			local char_end = self._char_select_it
			char_end = char_end + 1
			char_it = char_it + 1
			local line = line_list[self._line_cursor_it]
			while char_it ~= char_end do
				select_text_count = select_text_count + 1
				select_text[select_text_count] = line.char_list[char_it]
				char_it = char_it + 1
			end
		end
	end
	return self:CharInfoListToWord(select_text)
end

function RichEdit:DeleteSelectText()
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	local line_list = self._line_list
	if self._char_select_it > line_list[self._line_select_it].char_count then
		return false
	end
	local line_begin_it
	local begin_it
	local line_end_it
	local end_it
	if line_list[self._line_select_it].pre_height > line_list[self._line_cursor_it].pre_height then
		line_begin_it = self._line_cursor_it
		begin_it = self._char_cursor_it
		line_end_it = self._line_select_it
		end_it = self._char_select_it
	elseif line_list[self._line_select_it].pre_height < line_list[self._line_cursor_it].pre_height then
		line_begin_it = self._line_select_it
		begin_it = self._char_select_it
		line_end_it = self._line_cursor_it
		end_it = self._char_cursor_it
	else
		line_begin_it = self._line_select_it
		line_end_it = self._line_cursor_it
		begin_it = self._char_select_it
		end_it = self._char_cursor_it
		if line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width > line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			begin_it = self._char_select_it
			end_it = self._char_cursor_it
		elseif line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width < line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			begin_it = self._char_cursor_it
			end_it = self._char_select_it
		end
	end
	if begin_it == 1 then
		if line_begin_it ~= 1 and line_list[line_begin_it].force_line == false then
			line_begin_it = line_begin_it - 1
			begin_it = line_list[line_begin_it].char_count + 1
			begin_it = begin_it - 1
		end
	end
	self:DeleteTextImpl(line_begin_it, begin_it, line_end_it, end_it)
	self:ResetCursor()
	return true
end

function RichEdit:CheckTextRegexLimit(text)
	if self._limit_len ~= 0 then
		local text_len = String_GetWordCount(text)
		if text_len > self._limit_len then
			return false
		end
		local select_len = 0
		local displaylist = self:GetSelectText()
		for k, v in ___ipairs(displaylist) do
			if v.__class == "Text" then
				select_len = select_len + String_GetWordCount(v.text)
			end
		end
		displaylist = self.display_list
		local total_len = 0
		for k, v in ___ipairs(displaylist) do
			if v.__class == "Text" then
				total_len = total_len + String_GetWordCount(v.text)
			end
		end
		if total_len - select_len + text_len > self._limit_len then
			return false
		end
	end
	if self._regex ~= "" then
		while text ~= "" do
			local byte_count = String_GetByteCount(text, 1)
			local sub_text = __sub(text, 1, byte_count)
			local start_it = __find(sub_text, self._regex)
			if start_it == nil then
				return false
			end
			text = __sub(text, byte_count + 1)
		end
	end
	return true
end

function RichEdit:InsertTextNative(text)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self:CheckTextRegexLimit(text) == false then
		return false
	end
	self:DeleteSelectText()
	local char_info_list = {}
	local char_info_list_count = 0
	local new_char_info = {}
	new_char_info.acc_width = 0
	new_char_info.pre_width = 0
	new_char_info.text_info = self:InitTextInfo()
	new_char_info.text_object = nil
	new_char_info.text = text
	new_char_info.ctrl_info = nil
	new_char_info.ctrl = nil
	char_info_list_count = char_info_list_count + 1
	char_info_list[char_info_list_count] = new_char_info
	self:InsertTextImpl(char_info_list, false)
	self:ResetCursorLine()
	self:ResetCursor()
	return true
end

function RichEdit:CheckDisplayListRegexLimit(display_list)
	if self._regex == "" then
		return false
	end
	local text = ""
	for k, v in ___ipairs(display_list) do
		if v.__class ~= "Text" then
			return false
		end
		text = text .. v.text
	end
	return self:CheckTextRegexLimit(text)
end

function RichEdit:InsertDisplayListNative(display_list, selected)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self:CheckDisplayListRegexLimit(display_list) == false then
		return false
	end
	self:DeleteSelectText()
	local line_list = self._line_list
	local char_info = line_list[self._line_cursor_it].char_list[self._char_cursor_it]
	local char_info_list = self:DisplayListToCharInfoList(display_list, char_info.text_info)
	self:InsertTextImpl(char_info_list, selected)
	self:UpdateFontText()
	self:ResetCursorLine()
	self:ResetCursor()
	return true
end

function RichEdit:DeleteText(left)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self:DeleteSelectText() then
		return true
	end
	local line_list = self._line_list
	if left then
		if self._line_cursor_it == 1 and self._char_cursor_it == 1 then
			return false
		end
		local line_begin_it = self._line_cursor_it
		local begin_it = self._char_cursor_it
		local line_end_it = self._line_cursor_it
		local end_it = self._char_cursor_it
		if begin_it == 1 then
			if line_begin_it ~= 1 then
				line_begin_it = line_begin_it - 1
				begin_it = line_list[line_begin_it].char_count + 1
				begin_it = begin_it - 1
			end
		else
			begin_it = begin_it - 1
			if begin_it == 1 and line_list[line_begin_it].force_line == false then
				if line_begin_it ~= 1 then
					line_begin_it = line_begin_it - 1
					begin_it = line_list[line_begin_it].char_count + 1
					begin_it = begin_it - 1
				end
			end
		end
		self:DeleteTextImpl(line_begin_it, begin_it, line_end_it, end_it)
	else
		local end_line = self._line_count + 1
		end_line = end_line - 1
		local end_char = line_list[end_line].char_count + 1
		end_char = end_char - 1
		if self._line_cursor_it == end_line and self._char_cursor_it == end_char then
			return false
		end
		local line_begin_it = self._line_cursor_it
		local begin_it = self._char_cursor_it
		local line_end_it = self._line_cursor_it
		local end_it = self._char_cursor_it
		end_char = line_list[line_end_it].char_count + 1
		end_char = end_char - 1
		if end_it == end_char then
			if line_end_it ~= end_line then
				line_end_it = line_end_it + 1
				end_it = 1
				if line_list[line_end_it].force_line == false then
					end_it = end_it + 1
					if end_it > line_list[line_end_it].char_count then
						end_it = end_it - 1
					end
				end
			end
		else
			end_it = end_it + 1
		end
		self:DeleteTextImpl(line_begin_it, begin_it, line_end_it, end_it)
	end
	self:ResetCursorLine()
	self:ResetCursor()
	return true
end

function RichEdit:ClearText()
	self._line_list = {}
	self._line_count = 0
	local line_info = {}
	line_info.char_list = {}
	line_info.child_list = {}
	line_info.char_count = 0
	line_info.child_count = 0
	line_info.pre_height = 0
	line_info.acc_height = 0
	line_info.force_line = false
	line_info.container = nil
	self._line_count = self._line_count + 1
	self._line_list[self._line_count] = line_info
	local char_info = {}
	char_info.acc_width = 0
	char_info.pre_width = 0
	char_info.text_info = self:InitTextInfo()
	char_info.text_object = nil
	char_info.text = ""
	char_info.ctrl_info = nil
	char_info.ctrl = nil
	line_info.char_count = line_info.char_count + 1
	line_info.char_list[line_info.char_count] = char_info
	self._line_start_it = 1
	self._start_it_delta = 0
	self._line_cursor_it = 1
	self._char_cursor_it = 1
	self._line_select_it = 1
	self._char_select_it = 2
	self:Draw()
end

function RichEdit:SetStartIt(line_index)
	if line_index < 1 or line_index > self._line_count then
		return
	end
	self._line_start_it = line_index
	self._start_it_delta = 0
	self:RejustContentY()
end

function RichEdit:ResetCursor()
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return
	end
	local line_list = self._line_list
	if (self._char_select_it > line_list[self._line_select_it].char_count) or (self._line_select_it == self._line_cursor_it and self._char_select_it == self._char_cursor_it) then
		self._select_1.visible = false
		self._select_2.visible = false
		self._select_3.visible = false
		self._start_cursor.visible = false
		self._end_cursor.visible = false
		self._start_cursor_data = nil
		self._end_cursor_data = nil
		self._event_start_x = 0
		self._event_end_x = 0
		self._event_start_y = 0
		self._event_end_y = 0
		if self._focus_cursor then
			self._cursor.visible = self._is_focus
		else
			self._cursor.visible = true
		end
		local cursor_width = 0.0
		local line = line_list[self._line_cursor_it]
		local char = line.char_list[self._char_cursor_it]
		if char.ctrl ~= nil then
			self._cursor.height = char.ctrl.height
			cursor_width = 2
		else
			if char.text_object ~= nil then
				self._cursor.height = char.text_object.height
				cursor_width = self:GetCursorWidth(char.text_object.font_size)
			else
				local next_char = line.char_list[self._char_cursor_it + 1]
				if next_char ~= nil then
					if next_char.ctrl ~= nil then
						self._cursor.height = next_char.ctrl.height
						cursor_width = 2
					elseif next_char.text_object ~= nil then
						self._cursor.height = next_char.text_object.height
						cursor_width = self:GetCursorWidth(next_char.text_object.font_size)
					else
						self._cursor.height = self._font_text.native_show:GetFontHeight()
						cursor_width = self:GetCursorWidth(self._font_text.font_size)
					end
				else
					self._cursor.height = self._font_text.native_show:GetFontHeight()
					cursor_width = self:GetCursorWidth(self._font_text.font_size)
				end
			end
		end
		self._cursor.width = cursor_width
		local line_height = line_list[self._line_cursor_it].acc_height - line_list[self._line_cursor_it].pre_height
		local offset_y = line_height - self._cursor.height
		if offset_y <= 0 then
			offset_y = 0
		end
		self._cursor.y = self._scroll_list.y + line_list[self._line_cursor_it].pre_height - line_list[self._line_start_it].pre_height + offset_y - self._start_it_delta
		self._cursor.x = self._scroll_list.x + line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
		return
	end
	if self._multi_cursor == false then
		self._cursor.visible = false
	end
	if line_list[self._line_select_it].pre_height > line_list[self._line_cursor_it].pre_height then
		local line_it = self._line_cursor_it
		self._select_1.visible = true
		local select_1_y = line_list[self._line_cursor_it].pre_height - line_list[self._line_start_it].pre_height - self._start_it_delta
		local select_1_height = line_list[self._line_cursor_it].acc_height - line_list[self._line_cursor_it].pre_height
		if select_1_y < 0 then
			select_1_height = select_1_y + select_1_height
			select_1_y = 0
		end
		if select_1_y + select_1_height > self._scroll_list.height then
			select_1_height = self._scroll_list.height - select_1_y
		end
		if select_1_height <= 0 then
			self._select_1.visible = false
		end
		self._select_1.y = self._scroll_list.y + select_1_y
		self._select_1.x = self._scroll_list.x + line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
		self._select_1.height = select_1_height
		self._select_1.width = self._scroll_list.width - line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
		self._select_3.visible = (line_list[self._line_cursor_it].acc_height ~= line_list[self._line_select_it].pre_height)
		local select_3_y = line_list[self._line_cursor_it].acc_height - line_list[self._line_start_it].pre_height - self._start_it_delta
		local select_3_height = line_list[self._line_select_it].pre_height - line_list[self._line_cursor_it].acc_height
		if select_3_y < 0 then
			select_3_height = select_3_y + select_3_height
			select_3_y = 0
		end
		if select_3_y + select_3_height > self._scroll_list.height then
			select_3_height = self._scroll_list.height - select_3_y
		end
		if select_3_height <= 0 then
			self._select_3.visible = false
		end
		self._select_3.y = self._scroll_list.y + select_3_y
		self._select_3.x = self._scroll_list.x
		self._select_3.height = select_3_height
		self._select_3.width = self._scroll_list.width
		line_it = self._line_select_it
		self._select_2.visible = true
		local select_2_y = line_list[self._line_select_it].pre_height - line_list[self._line_start_it].pre_height - self._start_it_delta
		local select_2_height = line_list[self._line_select_it].acc_height - line_list[self._line_select_it].pre_height
		if select_2_y < 0 then
			select_2_height = select_2_y + select_2_height
			select_2_y = 0
		end
		if select_2_y + select_2_height > self._scroll_list.height then
			select_2_height = self._scroll_list.height - select_2_y
		end
		if select_2_height <= 0 then
			self._select_2.visible = false
		end
		self._select_2.y = self._scroll_list.y + select_2_y
		self._select_2.x = self._scroll_list.x
		self._select_2.height = select_2_height
		self._select_2.width = line_list[self._line_select_it].char_list[self._char_select_it].acc_width
		if self._multi_cursor == true then
			self._cursor.visible = false
			self._start_cursor.x = self._select_1.x - self._start_cursor.width
			self._start_cursor.height = self._select_1.height + self._cursor_margin_up + self._cursor_margin_down
			self._start_cursor.y = self._select_1.y - self._cursor_margin_up
			self._end_cursor.x = self._select_2.x + self._select_2.width
			self._end_cursor.height = self._select_2.height + self._cursor_margin_up + self._cursor_margin_down
			self._end_cursor.y = self._select_2.y - self._cursor_margin_up
			self._start_cursor.visible = self._select_1.visible
			self._end_cursor.visible = self._select_2.visible
			self._start_cursor_data = "cursor"
			self._end_cursor_data = "select"
			self._event_start_x = self._select_1.x
			self._event_start_y = self._select_1.y
			self._event_end_x = self._select_2.x + self._select_2.width
			self._event_end_y = self._select_2.y + self._select_2.height
		end
	elseif line_list[self._line_select_it].pre_height < line_list[self._line_cursor_it].pre_height then
		local line_it = self._line_select_it
		self._select_1.visible = true
		local select_1_y = line_list[self._line_select_it].pre_height - line_list[self._line_start_it].pre_height - self._start_it_delta
		local select_1_height = line_list[self._line_select_it].acc_height - line_list[self._line_select_it].pre_height
		if select_1_y < 0 then
			select_1_height = select_1_y + select_1_height
			select_1_y = 0
		end
		if select_1_y + select_1_height > self._scroll_list.height then
			select_1_height = self._scroll_list.height - select_1_y
		end
		if select_1_height <= 0 then
			self._select_1.visible = false
		end
		self._select_1.y = self._scroll_list.y + select_1_y
		self._select_1.x = self._scroll_list.x + line_list[self._line_select_it].char_list[self._char_select_it].acc_width
		self._select_1.height = select_1_height
		self._select_1.width = self._scroll_list.width - line_list[self._line_select_it].char_list[self._char_select_it].acc_width
		line_it = self._line_cursor_it
		self._select_2.visible = true
		local select_2_y = line_list[self._line_cursor_it].pre_height - line_list[self._line_start_it].pre_height - self._start_it_delta
		local select_2_height = line_list[self._line_cursor_it].acc_height - line_list[self._line_cursor_it].pre_height
		if select_2_y < 0 then
			select_2_height = select_2_y + select_2_height
			select_2_y = 0
		end
		if select_2_y + select_2_height > self._scroll_list.height then
			select_2_height = self._scroll_list.height - select_2_y
		end
		if select_2_height <= 0 then
			self._select_2.visible = false
		end
		self._select_2.y = self._scroll_list.y + select_2_y
		self._select_2.x = self._scroll_list.x
		self._select_2.height = select_2_height
		self._select_2.width = line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
		self._select_3.visible = (line_list[self._line_select_it].acc_height ~= line_list[self._line_cursor_it].pre_height)
		local select_3_y = line_list[self._line_select_it].acc_height - line_list[self._line_start_it].pre_height - self._start_it_delta
		local select_3_height = line_list[self._line_cursor_it].pre_height - line_list[self._line_select_it].acc_height
		if select_3_y < 0 then
			select_3_height = select_3_y + select_3_height
			select_3_y = 0
		end
		if select_3_y + select_3_height > self._scroll_list.height then
			select_3_height = self._scroll_list.height - select_3_y
		end
		if select_3_height <= 0 then
			self._select_3.visible = false
		end
		self._select_3.y = self._scroll_list.y + select_3_y
		self._select_3.x = self._scroll_list.x
		self._select_3.width = self._scroll_list.width
		self._select_3.height = select_3_height
		if self._multi_cursor == true then
			self._cursor.visible = false
			self._start_cursor.x = self._select_1.x - self._start_cursor.width
			self._start_cursor.height = self._select_1.height + self._cursor_margin_up + self._cursor_margin_down
			self._start_cursor.y = self._select_1.y - self._cursor_margin_up
			self._end_cursor.x = self._select_2.x + self._select_2.width
			self._end_cursor.height = self._select_2.height + self._cursor_margin_up + self._cursor_margin_down
			self._end_cursor.y = self._select_2.y - self._cursor_margin_up
			self._start_cursor.visible = self._select_1.visible
			self._end_cursor.visible = self._select_2.visible
			self._start_cursor_data = "select"
			self._end_cursor_data = "cursor"
			self._event_start_x = self._select_1.x
			self._event_start_y = self._select_1.y
			self._event_end_x = self._select_2.x + self._select_2.width
			self._event_end_y = self._select_2.y + self._select_2.height
		end
	else
		self._select_1.visible = false
		self._select_2.visible = false
		self._select_3.visible = false
		if line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width > line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			self._select_1.visible = true
			local select_1_y = line_list[self._line_cursor_it].pre_height - line_list[self._line_start_it].pre_height - self._start_it_delta
			local select_1_height = line_list[self._line_cursor_it].acc_height - line_list[self._line_cursor_it].pre_height
			if select_1_y < 0 then
				select_1_height = select_1_y + select_1_height
				select_1_y = 0
			end
			if select_1_y + select_1_height > self._scroll_list.height then
				select_1_height = self._scroll_list.height - select_1_y
			end
			if select_1_height <= 0 then
				self._select_1.visible = false
			end
			self._select_1.x = self._scroll_list.x + line_list[self._line_select_it].char_list[self._char_select_it].acc_width
			self._select_1.y = self._scroll_list.y + select_1_y
			self._select_1.height = select_1_height
			self._select_1.width = line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width - line_list[self._line_select_it].char_list[self._char_select_it].acc_width
			if self._multi_cursor == true then
				self._cursor.visible = false
				self._start_cursor.x = self._select_1.x - self._start_cursor.width
				self._start_cursor.height = self._select_1.height + self._cursor_margin_up + self._cursor_margin_down
				self._start_cursor.y = self._select_1.y - self._cursor_margin_up
				self._end_cursor.x = self._select_1.x + self._select_1.width
				self._end_cursor.height = self._start_cursor.height
				self._end_cursor.y = self._start_cursor.y
				self._start_cursor.visible = self._select_1.visible
				self._end_cursor.visible = self._select_1.visible
				self._start_cursor_data = "select"
				self._end_cursor_data = "cursor"
				self._event_start_x = self._select_1.x
				self._event_start_y = self._select_1.y
				self._event_end_x = self._select_1.x + self._select_1.width
				self._event_end_y = self._select_1.y + self._select_1.height
			end
		elseif line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width < line_list[self._line_select_it].char_list[self._char_select_it].acc_width then
			self._select_1.visible = true
			local select_1_y = line_list[self._line_cursor_it].pre_height - line_list[self._line_start_it].pre_height - self._start_it_delta
			local select_1_height = line_list[self._line_cursor_it].acc_height - line_list[self._line_cursor_it].pre_height
			if select_1_y < 0 then
				select_1_height = select_1_y + select_1_height
				select_1_y = 0
			end
			if select_1_y + select_1_height > self._scroll_list.height then
				select_1_height = self._scroll_list.height - select_1_y
			end
			if select_1_height <= 0 then
				self._select_1.visible = false
			end
			self._select_1.x = self._scroll_list.x + line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
			self._select_1.y = self._scroll_list.y + select_1_y
			self._select_1.height = select_1_height
			self._select_1.width = line_list[self._line_select_it].char_list[self._char_select_it].acc_width - line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
			if self._multi_cursor == true then
				self._cursor.visible = false
				self._start_cursor.x = self._select_1.x - self._start_cursor.width
				self._start_cursor.height = self._select_1.height + self._cursor_margin_up + self._cursor_margin_down
				self._start_cursor.y = self._select_1.y - self._cursor_margin_up
				self._end_cursor.x = self._select_1.x + self._select_1.width
				self._end_cursor.height = self._start_cursor.height
				self._end_cursor.y = self._start_cursor.y
				self._start_cursor.visible = self._select_1.visible
				self._end_cursor.visible = self._select_1.visible
				self._start_cursor_data = "cursor"
				self._end_cursor_data = "select"
				self._event_start_x = self._select_1.x
				self._event_start_y = self._select_1.y
				self._event_end_x = self._select_1.x + self._select_1.width
				self._event_end_y = self._select_1.y + self._select_1.height
			end
		end
	end
end

function RichEdit:DeleteTextImpl(line_begin_it, begin_it, line_end_it, end_it)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return
	end
	local line_list = self._line_list
	local line_delete_begin = line_begin_it
	local line_delete_end = line_end_it
	local char_delete_begin = begin_it
	local char_delete_end = end_it
	if line_list[line_begin_it].pre_height > line_list[line_end_it].pre_height then
		line_delete_begin = line_end_it
		char_delete_begin = end_it
		line_delete_end = line_begin_it
		char_delete_end = begin_it
	elseif line_list[line_begin_it].pre_height == line_list[line_end_it].pre_height then
		if line_list[line_begin_it].char_list[begin_it].acc_width > line_list[line_end_it].char_list[end_it].acc_width then
			char_delete_begin = end_it
			char_delete_end = begin_it
		end
	end
	if line_list[self._line_start_it].pre_height >= line_list[line_delete_begin].pre_height then
		self._line_start_it = line_delete_begin
		self._start_it_delta = 0
	end
	local calc_text_1 = {}
	local calc_text_1_count = 0
	local char_it = 1
	char_it = char_it + 1
	char_delete_begin = char_delete_begin + 1
	local line = line_list[line_delete_begin]
	while char_it ~= char_delete_begin do
		calc_text_1_count = calc_text_1_count + 1
		calc_text_1[calc_text_1_count] = line.char_list[char_it]
		char_it = char_it + 1
	end
	local calc_text_2 = {}
	local calc_text_2_count = 0
	char_it = char_delete_end
	char_it = char_it + 1
	line = line_list[line_delete_end]
	while char_it <= line.char_count do
		calc_text_2_count = calc_text_2_count + 1
		calc_text_2[calc_text_2_count] = line.char_list[char_it]
		char_it = char_it + 1
	end
	local line_it = line_delete_end
	line_it = line_it + 1
	local free_line_it = 0
	while line_it <= self._line_count do
		char_it = 1
		line = line_list[line_it]
		if line.force_line then
			free_line_it = line_it
			break
		end
		while char_it <= line.char_count do
			calc_text_2_count = calc_text_2_count + 1
			calc_text_2[calc_text_2_count] = line.char_list[char_it]
			char_it = char_it + 1
		end
		line_it = line_it + 1
	end
	local char_info = line_list[line_delete_begin].char_list[1]
	line_list[line_delete_begin].char_list = {}
	line_list[line_delete_begin].char_count = 1
	line_list[line_delete_begin].char_list[1] = char_info
	line_list[line_delete_begin].child_list = {}
	line_list[line_delete_begin].child_count = 0
	line_list[line_delete_begin].acc_height = line_list[line_delete_begin].pre_height
	line_list[line_delete_begin].container = nil
	local free_line_list = nil
	local free_line_list_count = 0
	if free_line_it > 0 then
		free_line_list = {}
		local i = free_line_it
		while true do
			if not(i <= self._line_count) then break end
			free_line_list_count = free_line_list_count + 1
			free_line_list[free_line_list_count] = line_list[i]
			i = i+(1)
		end
	end
	line_it = line_delete_begin
	line_it = line_it + 1
	local i = line_it
	while true do
		if not(i <= self._line_count) then break end
		line_list[i] = nil
		i = i+(1)
	end
	self._line_count = line_delete_begin
	calc_text_1 = self:JoinCharInfoList(calc_text_1)
	calc_text_2 = self:JoinCharInfoList(calc_text_2)
	self._line_cursor_it, self._char_cursor_it = self:InsertTextUtil(calc_text_1)
	self:InsertTextUtil(calc_text_2)
	if free_line_list ~= nil then
		local last_line = line_list[self._line_count]
		if last_line.char_count == 1 and last_line.force_line then
			last_line.acc_height = last_line.pre_height + self._enter_key_height
		end
		local start_y = last_line.acc_height
		for k, line_v in ___ipairs(free_line_list) do
			self._line_count = self._line_count + 1
			line_list[self._line_count] = line_v
			local line_height = line_v.acc_height - line_v.pre_height
			line_v.pre_height = start_y
			start_y = start_y + line_height
			line_v.acc_height = start_y
		end
	end
	self._line_select_it = self._line_count + 1
	self._line_select_it = self._line_select_it - 1
	self._char_select_it = line_list[self._line_select_it].char_count + 1
	self:Draw()
end

function RichEdit:InsertTextImpl(char_info_list, selected)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return
	end
	if char_info_list[1] == nil then
		return
	end
	local line_list = self._line_list
	local line_cursor_it_tmp = self._line_cursor_it
	local char_cursor_it_tmp = self._char_cursor_it
	local calc_text_1 = {}
	local calc_text_1_count = 0
	local char_it = 1
	char_it = char_it + 1
	local char_end_it = self._char_cursor_it
	char_end_it = char_end_it + 1
	local line = line_list[self._line_cursor_it]
	while char_it ~= char_end_it do
		calc_text_1_count = calc_text_1_count + 1
		calc_text_1[calc_text_1_count] = line.char_list[char_it]
		char_it = char_it + 1
	end
	for k, v in ___ipairs(char_info_list) do
		calc_text_1_count = calc_text_1_count + 1
		calc_text_1[calc_text_1_count] = v
	end
	local calc_text_2 = {}
	local calc_text_2_count = 0
	char_it = self._char_cursor_it
	char_it = char_it + 1
	line = line_list[self._line_cursor_it]
	while char_it <= line.char_count do
		calc_text_2_count = calc_text_2_count + 1
		calc_text_2[calc_text_2_count] = line.char_list[char_it]
		char_it = char_it + 1
	end
	local line_it = self._line_cursor_it
	line_it = line_it + 1
	local free_line_it = 0
	while line_it <= self._line_count do
		char_it = 1
		line = line_list[line_it]
		if line.force_line then
			free_line_it = line_it
			break
		end
		while char_it <= line.char_count do
			calc_text_2_count = calc_text_2_count + 1
			calc_text_2[calc_text_2_count] = line.char_list[char_it]
			char_it = char_it + 1
		end
		line_it = line_it + 1
	end
	local char_info = line_list[self._line_cursor_it].char_list[1]
	line_list[self._line_cursor_it].char_list = {}
	line_list[self._line_cursor_it].char_count = 1
	line_list[self._line_cursor_it].char_list[1] = char_info
	line_list[self._line_cursor_it].child_list = {}
	line_list[self._line_cursor_it].child_count = 0
	line_list[self._line_cursor_it].acc_height = line_list[self._line_cursor_it].pre_height
	line_list[self._line_cursor_it].container = nil
	local free_line_list = nil
	local free_line_list_count = 0
	if free_line_it > 0 then
		free_line_list = {}
		local i = free_line_it
		while true do
			if not(i <= self._line_count) then break end
			free_line_list_count = free_line_list_count + 1
			free_line_list[free_line_list_count] = line_list[i]
			i = i+(1)
		end
	end
	line_it = self._line_cursor_it
	line_it = line_it + 1
	local i = line_it
	while true do
		if not(i <= self._line_count) then break end
		line_list[i] = nil
		i = i+(1)
	end
	self._line_count = self._line_cursor_it
	calc_text_1 = self:JoinCharInfoList(calc_text_1)
	calc_text_2 = self:JoinCharInfoList(calc_text_2)
	self._line_cursor_it, self._char_cursor_it = self:InsertTextUtil(calc_text_1)
	self:InsertTextUtil(calc_text_2)
	if free_line_list ~= nil then
		local last_line = line_list[self._line_count]
		if last_line.char_count == 1 and last_line.force_line then
			last_line.acc_height = last_line.pre_height + self._enter_key_height
		end
		local start_y = last_line.acc_height
		for k1, line_v in ___ipairs(free_line_list) do
			self._line_count = self._line_count + 1
			line_list[self._line_count] = line_v
			local line_height = line_v.acc_height - line_v.pre_height
			line_v.pre_height = start_y
			start_y = start_y + line_height
			line_v.acc_height = start_y
		end
	end
	if selected then
		self._line_select_it = line_cursor_it_tmp
		self._char_select_it = char_cursor_it_tmp
	else
		self._line_select_it = self._line_count + 1
		self._line_select_it = self._line_select_it - 1
		self._char_select_it = line_list[self._line_select_it].char_count + 1
	end
	self:Draw()
end

function RichEdit:InsertTextUtil(char_info_list)
	local line_list = self._line_list
	local total_width = self._scroll_list.width
	local new_char_info_list = {}
	local new_char_info_list_count = 0
	for index, char_info in ___ipairs(char_info_list) do
		if char_info.ctrl_info == nil then
			new_char_info_list_count = self:SplitText(char_info, new_char_info_list, new_char_info_list_count)
		else
			new_char_info_list_count = new_char_info_list_count + 1
			new_char_info_list[new_char_info_list_count] = char_info
		end
	end
	char_info_list = new_char_info_list
	local line_it = self._line_count + 1
	line_it = line_it - 1
	local line_info = line_list[line_it]
	local begin_it = line_info.char_count + 1
	begin_it = begin_it - 1
	if line_it == 1 and begin_it == 1 then
		line_info.char_list[1].text_info = self:InitTextInfo()
	end
	local display_info = nil
	local display_object = nil
	local display_index = 1
	local remain_width = total_width - line_info.char_list[line_info.char_count].acc_width
	while true do
		if display_info == nil then
			display_info = char_info_list[display_index]
			if display_info == nil then
				break
			end
		end
		if display_info.ctrl_info == nil then
			if display_info.text == "\n" then
				if line_info.char_count == 1 then
					line_info.acc_height = line_info.pre_height + self._enter_key_height
				end
				local new_line_info = {}
				new_line_info.char_list = {}
				new_line_info.child_list = {}
				new_line_info.char_count = 0
				new_line_info.child_count = 0
				new_line_info.pre_height = line_info.acc_height + self._line_spacing
				new_line_info.acc_height = line_info.acc_height
				new_line_info.force_line = true
				new_line_info.container = nil
				self._line_count = self._line_count + 1
				line_list[self._line_count] = new_line_info
				local char_info = {}
				char_info.acc_width = 0
				char_info.pre_width = 0
				char_info.text_info = display_info.text_info
				char_info.text_object = nil
				char_info.text = "\n"
				char_info.ctrl_info = nil
				char_info.ctrl = nil
				new_line_info.char_count = new_line_info.char_count + 1
				new_line_info.char_list[new_line_info.char_count] = char_info
				line_info = new_line_info
				display_info = nil
				display_object = nil
				display_index = display_index + 1
				remain_width = total_width
			elseif display_info.text == "\t" then
				if display_object == nil then
					local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
					self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info.text_info))
					display_object = self._ctrl_sys:CreateControl(name, self._link_map)
					self._ctrl_sys:UnRegisterInfo(name)
					display_object.text = "    "
				end
				local object_width = display_object.width
				local object_height = display_object.height
				self:SetDrawText(display_object)
				local calc_text = "\t"
				while calc_text ~= "" do
					local byte_count = String_GetByteCount(calc_text, 1)
					local sub_text = __sub(calc_text, 1, byte_count)
					local text_width = self._draw_text.native_show:CalcTextWidth("    ")
					local char_info = {}
					char_info.pre_width = line_info.char_list[line_info.char_count].acc_width
					char_info.acc_width = char_info.pre_width + text_width
					char_info.text_info = display_info.text_info
					char_info.text_object = display_object
					char_info.text = sub_text
					char_info.ctrl_info = nil
					char_info.ctrl = nil
					line_info.char_count = line_info.char_count + 1
					line_info.char_list[line_info.char_count] = char_info
					calc_text = __sub(calc_text, byte_count + 1)
				end
				line_info.child_count = line_info.child_count + 1
				line_info.child_list[line_info.child_count] = display_object
				if line_info.acc_height - line_info.pre_height < object_height then
					line_info.acc_height = line_info.pre_height + object_height
				end
				remain_width = remain_width - object_width
				if remain_width <= 0 then
					local new_line_info = {}
					new_line_info.char_list = {}
					new_line_info.child_list = {}
					new_line_info.char_count = 0
					new_line_info.child_count = 0
					new_line_info.pre_height = line_info.acc_height + self._line_spacing
					new_line_info.acc_height = line_info.acc_height
					new_line_info.force_line = false
					new_line_info.container = nil
					self._line_count = self._line_count + 1
					line_list[self._line_count] = new_line_info
					local char_info = {}
					char_info.acc_width = 0
					char_info.pre_width = 0
					char_info.text_info = display_info.text_info
					char_info.text_object = nil
					char_info.text = ""
					char_info.ctrl_info = nil
					char_info.ctrl = nil
					new_line_info.char_count = new_line_info.char_count + 1
					new_line_info.char_list[new_line_info.char_count] = char_info
					line_info = new_line_info
					remain_width = total_width
				end
				display_object = nil
				display_info = nil
				display_index = display_index + 1
			else
				while true do
					if display_info.text == "" then
						display_info = nil
						display_index = display_index + 1
						break
					end
					if display_object == nil then
						local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
						self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info.text_info))
						display_object = self._ctrl_sys:CreateControl(name, self._link_map)
						self._ctrl_sys:UnRegisterInfo(name)
					end
					local count = display_object._show:CutTextByWidth(__floor(remain_width), display_info.text, __floor(total_width))
					if count == 0 and line_info.char_count <= 1 then
						count = String_GetByteCount(display_info.text, 1)
					end
					if count == 0 then
						remain_width = 0
					else
						local calc_text = __sub(display_info.text, 1, count)
						display_object.text = calc_text
						local object_width = display_object.width
						local object_height = display_object.height
						self:SetDrawText(display_object)
						local char_count = display_object._show:GetCutWidthListCount()
						local i = 1
						while true do
							if not(i <= char_count) then break end
							local byte_count = String_GetByteCount(calc_text, 1)
							local sub_text = __sub(calc_text, 1, byte_count)
							local text_width = display_object._show:GetCutWidthByIndex(i - 1)
							local char_info = {}
							char_info.pre_width = line_info.char_list[line_info.char_count].acc_width
							char_info.acc_width = text_width
							char_info.text_info = display_info.text_info
							char_info.text_object = display_object
							char_info.text = sub_text
							char_info.ctrl_info = nil
							char_info.ctrl = nil
							line_info.char_count = line_info.char_count + 1
							line_info.char_list[line_info.char_count] = char_info
							calc_text = __sub(calc_text, byte_count + 1)
							i = i+(1)
						end
						remain_width = remain_width - object_width
						display_object._show:ClearCutWidthCache()
						local new_display_info = String_CopyTable(display_info)
						new_display_info.text = __sub(display_info.text, count + 1)
						line_info.child_count = line_info.child_count + 1
						line_info.child_list[line_info.child_count] = display_object
						if line_info.acc_height - line_info.pre_height < object_height then
							line_info.acc_height = line_info.pre_height + object_height
						end
						display_info = new_display_info
						display_object = nil
					end
					if remain_width <= 0 then
						local new_line_info = {}
						new_line_info.char_list = {}
						new_line_info.child_list = {}
						new_line_info.char_count = 0
						new_line_info.child_count = 0
						new_line_info.pre_height = line_info.acc_height + self._line_spacing
						new_line_info.acc_height = line_info.acc_height
						new_line_info.force_line = false
						new_line_info.container = nil
						self._line_count = self._line_count + 1
						line_list[self._line_count] = new_line_info
						local char_info = {}
						char_info.acc_width = 0
						char_info.pre_width = 0
						char_info.text_info = display_info.text_info
						char_info.text_object = nil
						char_info.text = ""
						char_info.ctrl_info = nil
						char_info.ctrl = nil
						new_line_info.char_count = new_line_info.char_count + 1
						new_line_info.char_list[new_line_info.char_count] = char_info
						line_info = new_line_info
						remain_width = total_width
					end
				end
			end
		else
			if display_object == nil then
				if display_info.ctrl == nil then
					local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
					self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info.ctrl_info))
					display_object = self._ctrl_sys:CreateControl(name, self._link_map)
					self._ctrl_sys:UnRegisterInfo(name)
				else
					display_object = display_info.ctrl
				end
			end
			local object_width = display_object.width
			local object_height = display_object.height
			if remain_width >= object_width or (line_info.char_count == 1 and total_width <= object_width) then
				local char_info = {}
				char_info.pre_width = line_info.char_list[line_info.char_count].acc_width
				char_info.acc_width = char_info.pre_width + display_object.width
				char_info.text_info = line_info.char_list[line_info.char_count].text_info
				char_info.text_object = nil
				char_info.text = nil
				char_info.ctrl_info = display_info.ctrl_info
				char_info.ctrl = display_object
				line_info.char_count = line_info.char_count + 1
				line_info.char_list[line_info.char_count] = char_info
				line_info.child_count = line_info.child_count + 1
				line_info.child_list[line_info.child_count] = display_object
				if line_info.acc_height - line_info.pre_height < object_height then
					line_info.acc_height = line_info.pre_height + object_height
				end
				remain_width = remain_width - object_width
				if remain_width <= 0 then
					local new_line_info = {}
					new_line_info.char_list = {}
					new_line_info.child_list = {}
					new_line_info.char_count = 0
					new_line_info.child_count = 0
					new_line_info.pre_height = line_info.acc_height + self._line_spacing
					new_line_info.acc_height = line_info.acc_height
					new_line_info.force_line = false
					new_line_info.container = nil
					self._line_count = self._line_count + 1
					line_list[self._line_count] = new_line_info
					char_info = {}
					char_info.acc_width = 0
					char_info.pre_width = 0
					char_info.text_info = line_info.char_list[line_info.char_count].text_info
					char_info.text_object = nil
					char_info.text = ""
					char_info.ctrl_info = nil
					char_info.ctrl = nil
					new_line_info.char_count = new_line_info.char_count + 1
					new_line_info.char_list[new_line_info.char_count] = char_info
					line_info = new_line_info
					remain_width = total_width
				end
				display_object = nil
				display_info = nil
				display_index = display_index + 1
			else
				local new_line_info = {}
				new_line_info.char_list = {}
				new_line_info.child_list = {}
				new_line_info.char_count = 0
				new_line_info.child_count = 0
				new_line_info.pre_height = line_info.acc_height + self._line_spacing
				new_line_info.acc_height = line_info.acc_height
				new_line_info.force_line = false
				new_line_info.container = nil
				self._line_count = self._line_count + 1
				line_list[self._line_count] = new_line_info
				local char_info = {}
				char_info.acc_width = 0
				char_info.pre_width = 0
				char_info.text_info = line_info.char_list[line_info.char_count].text_info
				char_info.text_object = nil
				char_info.text = ""
				char_info.ctrl_info = nil
				char_info.ctrl = nil
				new_line_info.char_count = new_line_info.char_count + 1
				new_line_info.char_list[new_line_info.char_count] = char_info
				line_info = new_line_info
				remain_width = total_width
			end
		end
	end
	if line_info.char_count == 1 then
		line_info.acc_height = line_info.pre_height + self._enter_key_height
	end
	local line_begin_it = self._line_count + 1
	line_begin_it = line_begin_it - 1
	begin_it = line_list[line_begin_it].char_count + 1
	begin_it = begin_it - 1
	return line_begin_it, begin_it
end

function RichEdit:DrawImpl()
	self._scroll_list:RemoveAllChild()
	for line_index, line_info in ___ipairs(self._line_list) do
		local displayout = line_info.container
		if displayout == nil then
			displayout = DisplayLayout(self._ctrl_sys)
			line_info.container = displayout
			displayout.width_type = UIEnumTypes.SIZE_MARGIN
			displayout.height = line_info.acc_height - line_info.pre_height
			local offset_x = 0.0
			for child_index, child in ___ipairs(line_info.child_list) do
				child.x = offset_x
				offset_x = offset_x + child.width
				child.y = displayout.height - child.height
				displayout:AddChild(child)
			end
		end
		self._scroll_list:AddChild(displayout)
	end
	local child = self._scroll_list:GetChildByIndex(self._line_start_it)
	self._scroll_list.scroll_offset = -child.y - self._start_it_delta
	self._scroll_list:RefreshClipDisLine()
	self._scroll_list:RejustScrollBar()
	self._draw_loop = nil
end

function RichEdit:RejustContentY()
	if self._draw_loop ~= nil then
		return
	end
	local child = self._scroll_list:GetChildByIndex(self._line_start_it)
	self._scroll_list.scroll_offset = -child.y - self._start_it_delta
	self._scroll_list:RefreshClipDisLine()
	self._scroll_list:RejustScrollBar()
end

function RichEdit:Draw()
	if self._draw_loop ~= nil then
		return
	end
	self._draw_loop = LoopFunction(Lua.Bind(self.DrawImpl, self), 1, 0, 1)
	A_LoopSystem:AddUpdater(self._draw_loop)
end

function RichEdit:CursorOffsetLR(left)
	local line_list = self._line_list
	if self._char_select_it <= line_list[self._line_select_it].char_count then
		self._char_select_it = line_list[self._line_select_it].char_count + 1
		self:ResetCursor()
		return
	end
	self:CursorOffsetLRImpl(left)
end

function RichEdit:CursorOffsetUD(up)
	local line_list = self._line_list
	if self._char_select_it <= line_list[self._line_select_it].char_count then
		self._char_select_it = line_list[self._line_select_it].char_count + 1
		self:ResetCursor()
		return
	end
	self:CursorOffsetUDImpl(up)
end

function RichEdit:SelectCursorOffsetLR(left)
	local line_list = self._line_list
	if self._char_select_it > line_list[self._line_select_it].char_count then
		self._line_select_it = self._line_cursor_it
		self._char_select_it = self._char_cursor_it
	end
	self:CursorOffsetLRImpl(left)
end

function RichEdit:SelectCursorOffsetUD(up)
	local line_list = self._line_list
	if self._char_select_it > line_list[self._line_select_it].char_count then
		self._line_select_it = self._line_cursor_it
		self._char_select_it = self._char_cursor_it
	end
	self:CursorOffsetUDImpl(up)
end

function RichEdit:SetCursorToHome()
	local line_list = self._line_list
	self._char_select_it = line_list[self._line_select_it].char_count + 1
	self._char_cursor_it = 1
	self:ResetCursor()
end

function RichEdit:SetCursorToEnd()
	local line_list = self._line_list
	self._char_select_it = line_list[self._line_select_it].char_count + 1
	self._char_cursor_it = line_list[self._line_cursor_it].char_count + 1
	self._char_cursor_it = self._char_cursor_it - 1
	self:ResetCursor()
end

function RichEdit:SelectAll()
	local line_list = self._line_list
	self._line_select_it = 1
	self._char_select_it = 1
	self._line_cursor_it = self._line_count + 1
	self._line_cursor_it = self._line_cursor_it - 1
	self._char_cursor_it = line_list[self._line_cursor_it].char_count + 1
	self._char_cursor_it = self._char_cursor_it - 1
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:ResetCursorLine()
	local line_list = self._line_list
	if self._line_cursor_it == self._line_count then
		if line_list[self._line_cursor_it].acc_height > self._scroll_list.height and self._scroll_list.scroll_offset < 0 then
			self._scroll_list.scroll_offset = self._scroll_list.height - line_list[self._line_cursor_it].acc_height
			self._scroll_list:RefreshClipDisLine()
			self._scroll_list:RejustScrollBar()
			while line_list[self._line_start_it].pre_height > -self._scroll_list.scroll_offset do
				self._line_start_it = self._line_start_it - 1
			end
			self._start_it_delta = -self._scroll_list.scroll_offset - line_list[self._line_start_it].pre_height
			return
		end
		if line_list[self._line_cursor_it].acc_height <= self._scroll_list.height then
			self._scroll_list.scroll_offset = 0
			self._scroll_list:RefreshClipDisLine()
			self._scroll_list:RejustScrollBar()
			self._line_start_it = 1
			self._start_it_delta = 0
			return
		end
	end
	if line_list[self._line_cursor_it].pre_height <= -self._scroll_list.scroll_offset then
		self._scroll_list.scroll_offset = -line_list[self._line_cursor_it].pre_height
		self._scroll_list:RefreshClipDisLine()
		self._scroll_list:RejustScrollBar()
		self._line_start_it = self._line_cursor_it
	elseif line_list[self._line_cursor_it].acc_height >= self._scroll_list.height - self._scroll_list.scroll_offset then
		self._scroll_list.scroll_offset = self._scroll_list.height - line_list[self._line_cursor_it].acc_height
		self._scroll_list:RefreshClipDisLine()
		self._scroll_list:RejustScrollBar()
		while line_list[self._line_start_it].acc_height <= -self._scroll_list.scroll_offset do
			self._line_start_it = self._line_start_it + 1
		end
	end
	self._start_it_delta = -self._scroll_list.scroll_offset - line_list[self._line_start_it].pre_height
end

function RichEdit:ClickCursor(offset_x, offset_y)
	local line_list = self._line_list
	self._char_select_it = line_list[self._line_select_it].char_count + 1
	self._line_cursor_it, self._char_cursor_it = self:GetIteratorByOffset(offset_x, offset_y)
	self:ResetCursorLine()
	self:UpdateFontText()
	self:ResetCursor()
end

function RichEdit:ClickWordCursor(offset_x, offset_y)
	local line_list = self._line_list
	self._line_cursor_it, self._char_cursor_it = self:GetIteratorByOffset(offset_x, offset_y)
	self._char_select_it = self._char_cursor_it
	self._line_select_it = self._line_cursor_it
	while true do
		local has_find = false
		while true do
			local str = line_list[self._line_cursor_it].char_list[self._char_cursor_it].text
			if str ~= nil and __len(str) == 1 and str ~= "_" and self:CharIsNumber(str) == false and self:CharIsLetter(str) == false then
				has_find = true
				break
			end
			if self._char_cursor_it == 1 then
				break
			end
			self._char_cursor_it = self._char_cursor_it - 1
		end
		if has_find then
			break
		end
		if self._line_cursor_it == 1 then
			break
		end
		self._line_cursor_it = self._line_cursor_it - 1
		self._char_cursor_it = line_list[self._line_cursor_it].char_count + 1
		self._char_cursor_it = self._char_cursor_it - 1
	end
	local cursor_tmp = self._char_select_it
	local line_cursor_tmp = self._line_select_it
	while true do
		cursor_tmp = cursor_tmp + 1
		if cursor_tmp > line_list[self._line_select_it].char_count then
			line_cursor_tmp = line_cursor_tmp + 1
			if line_cursor_tmp > self._line_count then
				break
			end
			cursor_tmp = 1
		end
		local str = line_list[line_cursor_tmp].char_list[cursor_tmp].text
		if str ~= nil and __len(str) == 1 and str ~= "_" and self:CharIsNumber(str) == false and self:CharIsLetter(str) == false then
			break
		end
		self._char_select_it = cursor_tmp
		self._line_select_it = line_cursor_tmp
	end
	if self._line_select_it > self._line_count then
		self._line_select_it = self._line_select_it - 1
		self._char_select_it = line_list[self._line_select_it].char_count + 1
	end
	if self._char_select_it > line_list[self._line_select_it].char_count then
		self._char_select_it = self._char_select_it - 1
	end
	if self._line_select_it == self._line_cursor_it and self._char_select_it == self._char_cursor_it then
		self._char_select_it = line_list[self._line_select_it].char_count + 1
	end
	self:ResetCursorLine()
	self:UpdateFontText()
	self:ResetCursor()
	return self._char_select_it <= line_list[self._line_select_it].char_count
end

function RichEdit:DragCursorBegin()
	local line_list = self._line_list
	self._line_select_it = self._line_cursor_it
	self._char_select_it = self._char_cursor_it
end

function RichEdit:DragCursor(offset_x, offset_y)
	local line_list = self._line_list
	self._line_cursor_it, self._char_cursor_it = self:GetIteratorByOffset(offset_x, offset_y)
	if line_list[self._line_cursor_it].pre_height == -self._scroll_list.scroll_offset and self._line_cursor_it ~= 1 and offset_y < 0 then
		self._line_cursor_it = self._line_cursor_it - 1
		if self._char_cursor_it > line_list[self._line_cursor_it].char_count then
			self._char_cursor_it = line_list[self._line_cursor_it].char_count
		end
	end
	if self._line_cursor_it == self._line_count and line_list[self._line_cursor_it].pre_height == line_list[self._line_cursor_it].acc_height and self._line_cursor_it ~= 1 then
		self._line_cursor_it = self._line_cursor_it - 1
		self._char_cursor_it = line_list[self._line_cursor_it].char_count
	end
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:DragEdit(delta_y)
	local event = {}
	event.target = self._scroll_list
	event.delta_x = 0
	event.delta_y = delta_y
	self._scroll_list:HandleDrag(event)
	local line_list = self._line_list
	if line_list[self._line_start_it].acc_height <= -self._scroll_list.scroll_offset then
		self._line_start_it = self._line_start_it + 1
		while line_list[self._line_start_it].acc_height <= -self._scroll_list.scroll_offset do
			self._line_start_it = self._line_start_it + 1
		end
	elseif line_list[self._line_start_it].pre_height > -self._scroll_list.scroll_offset then
		self._line_start_it = self._line_start_it - 1
		while line_list[self._line_start_it].pre_height > -self._scroll_list.scroll_offset do
			self._line_start_it = self._line_start_it - 1
		end
	end
	self._start_it_delta = -self._scroll_list.scroll_offset - line_list[self._line_start_it].pre_height
	self:ResetCursor()
end

function RichEdit:CheckMultiCursor(offset_x, offset_y, trans)
	local line_list = self._line_list
	local line_cursor_it
	local char_cursor_it
	if trans then
		line_cursor_it = self._line_cursor_it
		char_cursor_it = self._char_cursor_it
	else
		line_cursor_it, char_cursor_it = self:GetIteratorByOffset(offset_x, offset_y)
	end
	if char_cursor_it ~= 1 then
		self._line_cursor_it = line_cursor_it
		self._char_cursor_it = char_cursor_it
		self._line_select_it = line_cursor_it
		self._char_select_it = char_cursor_it - 1
	else
		if line_list[line_cursor_it].char_count > 1 then
			self._line_cursor_it = line_cursor_it
			self._char_cursor_it = char_cursor_it + 1
			self._line_select_it = line_cursor_it
			self._char_select_it = char_cursor_it
		else
			if line_cursor_it > 1 then
				self._line_cursor_it = line_cursor_it
				self._char_cursor_it = char_cursor_it
				self._line_select_it = line_cursor_it - 1
				self._char_select_it = line_list[self._line_select_it].char_count - 1
				if self._char_select_it == 0 then
					self._char_select_it = 1
				end
			else
				if self._line_count > 1 then
					self._line_cursor_it = line_cursor_it + 1
					if line_list[self._line_cursor_it].char_count == 1 then
						self._char_cursor_it = 1
					else
						self._char_cursor_it = 2
					end
					self._line_select_it = line_cursor_it
					self._char_select_it = char_cursor_it
				else
					return false
				end
			end
		end
	end
	return true
end

function RichEdit:ClickMultiCursor()
	self:UpdateFontText()
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:DragMultiCursor(offset_x, offset_y)
	local line_list = self._line_list
	offset_x = offset_x + self._drag_delta_x
	offset_y = offset_y + self._drag_delta_y
	self._line_cursor_it, self._char_cursor_it = self:GetIteratorByOffset(offset_x, offset_y)
	if line_list[self._line_cursor_it].pre_height == -self._scroll_list.scroll_offset and self._line_cursor_it ~= 1 and offset_y < 0 then
		self._line_cursor_it = self._line_cursor_it - 1
		if self._char_cursor_it > line_list[self._line_cursor_it].char_count then
			self._char_cursor_it = line_list[self._line_cursor_it].char_count
		end
	end
	if self._line_cursor_it == self._line_count and line_list[self._line_cursor_it].pre_height == line_list[self._line_cursor_it].acc_height and self._line_cursor_it ~= 1 then
		self._line_cursor_it = self._line_cursor_it - 1
		self._char_cursor_it = line_list[self._line_cursor_it].char_count
	end
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:ShowDefaultText()
	if self._is_focus == false then
		if self._focus_cursor and self.is_empty then
			self._default_text_area.visible = true
		else
			self._default_text_area.visible = false
		end
	else
		self._default_text_area.visible = false
	end
end

function RichEdit:CursorOffsetLRImpl(left)
	local line_list = self._line_list
	if left then
		if self._line_cursor_it == 1 and self._char_cursor_it == 1 then
			return
		end
		if self._line_cursor_it == self._line_start_it then
			if self._char_cursor_it == 1 then
				self._line_cursor_it = self._line_cursor_it - 1
				self._line_start_it = self._line_start_it - 1
				self._char_cursor_it = line_list[self._line_cursor_it].char_count + 1
				self._char_cursor_it = self._char_cursor_it - 1
			else
				self._char_cursor_it = self._char_cursor_it - 1
			end
		else
			if self._char_cursor_it == 1 then
				self._line_cursor_it = self._line_cursor_it - 1
				self._char_cursor_it = line_list[self._line_cursor_it].char_count + 1
				self._char_cursor_it = self._char_cursor_it - 1
			else
				self._char_cursor_it = self._char_cursor_it - 1
			end
		end
		if self._line_cursor_it == self._line_count and line_list[self._line_cursor_it].pre_height == line_list[self._line_cursor_it].acc_height and self._line_cursor_it ~= 1 then
			self._line_cursor_it = self._line_cursor_it - 1
			self._char_cursor_it = line_list[self._line_cursor_it].char_count
		end
		self:ResetCursorLine()
		self:ResetCursor()
		return
	end
	local end_line_it = self._line_count + 1
	end_line_it = end_line_it - 1
	local end_char_it = line_list[end_line_it].char_count + 1
	end_char_it = end_char_it - 1
	if self._line_cursor_it == end_line_it and self._char_cursor_it == end_char_it then
		return
	end
	end_char_it = line_list[self._line_cursor_it].char_count + 1
	end_char_it = end_char_it - 1
	if self._char_cursor_it == end_char_it then
		self._line_cursor_it = self._line_cursor_it + 1
		self._char_cursor_it = 1
	else
		self._char_cursor_it = self._char_cursor_it + 1
	end
	if self._line_cursor_it == self._line_count and line_list[self._line_cursor_it].pre_height == line_list[self._line_cursor_it].acc_height and self._line_cursor_it ~= 1 then
		self._line_cursor_it = self._line_cursor_it - 1
		self._char_cursor_it = line_list[self._line_cursor_it].char_count
	end
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:CursorOffsetUDImpl(up)
	local line_list = self._line_list
	if up then
		if self._line_cursor_it == 1 then
			return
		end
		local offset_x = line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
		if self._line_cursor_it == self._line_start_it then
			self._line_start_it = self._line_start_it - 1
		end
		self._line_cursor_it = self._line_cursor_it - 1
		self._char_cursor_it = 1
		local end_char_it = line_list[self._line_cursor_it].char_count + 1
		while self._char_cursor_it ~= end_char_it do
			if line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width >= offset_x then
				break
			end
			self._char_cursor_it = self._char_cursor_it + 1
		end
		if self._char_cursor_it == end_char_it then
			end_char_it = end_char_it - 1
			self._char_cursor_it = end_char_it
		end
		if self._line_cursor_it == self._line_count and line_list[self._line_cursor_it].pre_height == line_list[self._line_cursor_it].acc_height and self._line_cursor_it ~= 1 then
			self._line_cursor_it = self._line_cursor_it - 1
			self._char_cursor_it = line_list[self._line_cursor_it].char_count
		end
		self:ResetCursorLine()
		self:ResetCursor()
		return
	end
	local line_end_test_it = self._line_count + 1
	line_end_test_it = line_end_test_it - 1
	if self._line_cursor_it == line_end_test_it then
		self._char_cursor_it = line_list[self._line_cursor_it].char_count
		self:ResetCursorLine()
		self:ResetCursor()
		return
	end
	local offset_x = line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width
	self._line_cursor_it = self._line_cursor_it + 1
	self._char_cursor_it = 1
	local end_char_it = line_list[self._line_cursor_it].char_count + 1
	while self._char_cursor_it ~= end_char_it do
		if line_list[self._line_cursor_it].char_list[self._char_cursor_it].acc_width >= offset_x then
			break
		end
		self._char_cursor_it = self._char_cursor_it + 1
	end
	if self._char_cursor_it == end_char_it then
		end_char_it = end_char_it - 1
		self._char_cursor_it = end_char_it
	end
	if self._line_cursor_it == self._line_count and line_list[self._line_cursor_it].pre_height == line_list[self._line_cursor_it].acc_height and self._line_cursor_it ~= 1 then
		self._line_cursor_it = self._line_cursor_it - 1
		self._char_cursor_it = line_list[self._line_cursor_it].char_count
	end
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:GetIteratorByOffset(offset_x, offset_y)
	local line_list = self._line_list
	local line_it = self._line_start_it
	local line_end_it = self._line_count + 1
	local real_offset_y = offset_y + line_list[self._line_start_it].pre_height + self._start_it_delta
	while line_it ~= line_end_it do
		if real_offset_y <= line_list[line_it].acc_height then
			local half_line_height = (line_list[line_it].acc_height - line_list[line_it].pre_height) * 0.5
			if real_offset_y - line_list[line_it].acc_height > half_line_height then
				line_it = line_it + 1
			end
			break
		else
			line_it = line_it + 1
		end
	end
	if line_it == line_end_it then
		line_end_it = line_end_it - 1
		line_it = line_end_it
	end
	local line_it_result = line_it
	local real_offset_x = offset_x
	local char_it = 1
	local char_end_it = line_list[line_it].char_count + 1
	local line = line_list[line_it]
	while char_it ~= char_end_it do
		if real_offset_x <= line.char_list[char_it].acc_width then
			local half_char_width = (line.char_list[char_it].acc_width - line.char_list[char_it].pre_width) * 0.5
			if real_offset_x - line.char_list[char_it].pre_width < half_char_width and char_it ~= 1 then
				char_it = char_it - 1
			end
			break
		else
			char_it = char_it + 1
		end
	end
	if char_it == char_end_it then
		char_end_it = char_end_it - 1
		char_it = char_end_it
	end
	local char_it_result = char_it
	return line_it_result, char_it_result
end

function RichEdit.__getter:is_input()
	return true
end

function RichEdit.__getter:is_empty()
	return self._line_count == 1 and self._line_list[1].char_count == 1
end

function RichEdit.__getter:editable()
	return self._editable
end

function RichEdit.__setter:editable(value)
	self._editable = value
end

function RichEdit.__setter:ims_padding(value)
	self._ims_padding = value
end

function RichEdit.__getter:ims_padding()
	return self._ims_padding
end

function RichEdit:SetCursor(rel_x, rel_y)
	if self._auto_ims then
		self:OpenIME()
	end
	self._is_selecting = false
	if self._multi_cursor then
		self._multi_cursor = false
		self._start_cursor.visible = false
		self._end_cursor.visible = false
		self._cursor.visible = true
		self:ClickCursor(rel_x - self._scroll_list.x, rel_y - self._scroll_list.y)
	else
		self:ClickCursor(rel_x - self._scroll_list.x, rel_y - self._scroll_list.y)
	end
end

function RichEdit:SetMultiCursor(rel_x, rel_y)
	if self._auto_ims then
		self:OpenIME()
	end
	local result = self:CheckMultiCursor(rel_x - self._scroll_list.x, rel_y - self._scroll_list.y, false)
	if result == false then
		return false
	end
	self._is_selecting = true
	if self._multi_cursor == false then
		self._multi_cursor = true
		self._cursor.visible = false
		self._start_cursor.visible = true
		self._end_cursor.visible = true
		self:ClickMultiCursor()
	else
		self:ClickMultiCursor()
	end
	return true
end

function RichEdit:TransToCursor()
	if self._multi_cursor == false then
		return
	end
	local line_list = self._line_list
	if self._end_cursor_data == "select" then
		self._line_cursor_it = self._line_select_it
		self._char_cursor_it = self._char_select_it
	end
	self._char_select_it = line_list[self._line_select_it].char_count + 1
	self._is_selecting = false
	self._multi_cursor = false
	self._start_cursor.visible = false
	self._end_cursor.visible = false
	self._cursor.visible = true
	self:UpdateFontText()
	self:ResetCursorLine()
	self:ResetCursor()
end

function RichEdit:TransToMulti()
	if self._multi_cursor then
		return false
	end
	local result = self:CheckMultiCursor(nil, nil, true)
	if result == false then
		return false
	end
	self._is_selecting = true
	self._multi_cursor = true
	self._cursor.visible = false
	self._start_cursor.visible = true
	self._end_cursor.visible = true
	self:UpdateFontText()
	self:ResetCursorLine()
	self:ResetCursor()
	return true
end

function RichEdit:OpenIME(x, y, width, height)
	if self._editable then
		self:ResetCursor()
		if x ~= nil and y ~= nil and width ~= nil and height ~= nil then
			System_SetIMERect(__floor(x), __floor(y), __floor(width), __floor(height))
		else
			local global_x, global_y = self:LocalToGlobal()
			global_x = global_x + self.cursor_x
			global_y = global_y + (self.cursor_y + self.font_size) * self.scale_y
			System_SetIMERect(__floor(global_x), __floor(global_y), 10, __floor(5 + self._ims_padding))
		end
		System_OpenIME()
	end
end

function RichEdit:CloseIME()
	System_CloseIME()
end

function RichEdit:HandleFocusOut(event)
	if self._auto_ims then
		System_CloseIME()
	end
	self._is_focus = false
	if self._focus_cursor then
		if self._multi_cursor == false then
			self._cursor.visible = false
		end
	end
	self:ShowDefaultText()
end

function RichEdit:HandleFocusIn(event)
	if self._auto_ims then
		self:OpenIME()
	end
	self._is_focus = true
	if self._multi_cursor == false then
		self._cursor.visible = true
	end
	self:ShowDefaultText()
end

function RichEdit:HandleLButtonDown(event)
	if self._multi_cursor == false then
		self._is_longclick = false
		if event.rel_x >= self._scroll_list.x and event.rel_x <= self._scroll_list.x + self._scroll_list.width and event.rel_y >= self._scroll_list.y and event.rel_y <= self._scroll_list.y + self._scroll_list.height then
			if event.count % 3 == 1 then
				self._is_selecting = false
				self:ClickCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y)
				self:DispatchEvent(___all_struct[-1053992999], {})
			elseif event.count % 3 == 2 then
				self._is_selecting = self:ClickWordCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y)
			else
				self._is_selecting = true
				self:SelectAll()
			end
			self._is_click = true
		else
			self._is_click = false
		end
	else
		self._click_drag_delta_x = 0
		self._click_drag_delta_y = 0
		self._is_click = false
		self._is_click_cursor = false
		self._is_click_cursor_name = ""
		self._is_longclick = false
		if self._start_cursor.visible and event.rel_x >= self._start_cursor.x and event.rel_x <= self._start_cursor.x + self._start_cursor.width and event.rel_y >= self._start_cursor.y and event.rel_y <= self._start_cursor.y + self._start_cursor.height then
			self._is_click_cursor = true
			self._is_click_cursor_name = "start"
		elseif self._end_cursor.visible and event.rel_x >= self._end_cursor.x and event.rel_x <= self._end_cursor.x + self._end_cursor.width and event.rel_y >= self._end_cursor.y and event.rel_y <= self._end_cursor.y + self._end_cursor.height then
			self._is_click_cursor = true
			self._is_click_cursor_name = "end"
		else
			if event.rel_x >= self._scroll_list.x and event.rel_x <= self._scroll_list.x + self._scroll_list.width and event.rel_y >= self._scroll_list.y and event.rel_y <= self._scroll_list.y + self._scroll_list.height then
				self._is_click = true
			end
		end
	end
end

function RichEdit:HandleLButtonUp(event)
	if self._multi_cursor == true then
		if self._is_click and self._is_longclick == false and self._click_drag_delta_x < 2 and self._click_drag_delta_y < 2 then
			self._multi_cursor = false
			self._start_cursor.visible = false
			self._end_cursor.visible = false
			self._cursor.visible = true
			self:ClickCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y)
			self:DispatchEvent(___all_struct[-1053992999], {})
		end
	end
end

function RichEdit:HandleLongLButtonDown(event)
	if self._is_click then
		if self.editable == false then
			local result = self:CheckMultiCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y, false)
			if result then
				self._is_selecting = true
				if self._multi_cursor == false then
					self._multi_cursor = true
					self._cursor.visible = false
					self._start_cursor.visible = true
					self._end_cursor.visible = true
					self:ClickMultiCursor()
				else
					self:ClickMultiCursor()
				end
			end
		else
			self._multi_cursor = false
			self._start_cursor.visible = false
			self._end_cursor.visible = false
			self._cursor.visible = true
			self:ClickCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y)
		end
		local e = {}
		e.target = self
		e.abs_x = event.abs_x
		e.abs_y = event.abs_y
		e.rel_x = event.rel_x
		e.rel_y = event.rel_y
		self:DispatchEvent(___all_struct[774620468], e)
		self._is_longclick = true
	end
end

function RichEdit:CheckAtKeyInput(input_text)
	if input_text ~= "@" then
		return false
	end
	local line_list = self._line_list
	local line_cursor_it = self._line_cursor_it
	local char_cursor_it = self._char_cursor_it
	if self._line_cursor_it == 1 and self._char_cursor_it == 1 then
		self:DispatchEvent(___all_struct[1816229739], {})
		return true
	end
	if self._line_cursor_it > 1 and self._char_cursor_it == 1 then
		line_cursor_it = line_cursor_it - 1
		char_cursor_it = line_list[line_cursor_it].char_count
	end
	local char_info = line_list[self._line_cursor_it].char_list[self._char_cursor_it]
	local forward_text = char_info.text
	if forward_text == nil or not (self:CharIsNumber(forward_text) or self:CharIsLetter(forward_text)) then
		self:DispatchEvent(___all_struct[1816229739], {})
		return true
	end
	return false
end

function RichEdit:HandleTextInput(event)
	if self._multi_cursor == false then
		if (self._editable or event.custom) then
			if self:CheckAtKeyInput(event.text) then
				return
			end
			self._is_selecting = false
			local is_change = self:InsertTextNative(event.text)
			if is_change then
				self:DispatchEvent(___all_struct[958494922], {})
				self:ShowDefaultText()
			end
		end
	else
		if self._is_selecting and self._editable then
			self._is_selecting = false
			local is_change = self:InsertTextNative(event.text)
			if is_change then
				self:DispatchEvent(___all_struct[958494922], {})
				self:ShowDefaultText()
			end
			self._multi_cursor = false
		end
	end
end

function RichEdit:HandleDragBegin(event)
	if self._can_drag_text == false then
		return
	end
	if self._multi_cursor == false then
		if self._is_click then
			self._is_drag_begin = true
			self._is_selecting = true
			self:DragCursorBegin()
		else
			self._is_drag_begin = false
		end
	else
		if self._is_click_cursor then
			if (self._is_click_cursor_name == "start" and self._start_cursor_data == "select") or (self._is_click_cursor_name == "end" and self._end_cursor_data == "select") then
				local line_temp_it = self._line_select_it
				local char_temp_it = self._char_select_it
				self._line_select_it = self._line_cursor_it
				self._char_select_it = self._char_cursor_it
				self._line_cursor_it = line_temp_it
				self._char_cursor_it = char_temp_it
			end
			if self._is_click_cursor_name == "start" then
				self._drag_delta_x = self._start_cursor.x + self._start_cursor.width - event.rel_x
				self._drag_delta_y = self._start_cursor.y + self._cursor_margin_up + (self._start_cursor.height - self._cursor_margin_up - self._cursor_margin_down) / 2 - event.rel_y
			elseif self._is_click_cursor_name == "end" then
				self._drag_delta_x = self._end_cursor.x - event.rel_x
				self._drag_delta_y = self._end_cursor.y + self._cursor_margin_up + (self._end_cursor.height - self._cursor_margin_up - self._cursor_margin_down) / 2 - event.rel_y
			end
			self._is_drag_begin = true
			self:DispatchEvent(___all_struct[9565867], {})
		elseif self._is_click then
			self._is_drag_begin = true
			self:DispatchEvent(___all_struct[9565867], {})
		else
			self._is_drag_begin = false
		end
	end
end

function RichEdit:HandleDrag(event)
	if self._can_drag_text == false then
		return
	end
	if self._is_drag_begin == false then
		return
	end
	if self._multi_cursor == false then
		if self._is_selecting == false then
			return
		end
		self:DragCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y)
	else
		if self._is_click_cursor then
			self:DragMultiCursor(event.rel_x - self._scroll_list.x, event.rel_y - self._scroll_list.y)
		else
			if self._line_list[1] ~= nil and self._line_list[1].acc_height ~= self._line_list[1].pre_height then
				self._click_drag_delta_x = self._click_drag_delta_x + __abs(event.delta_x)
				self._click_drag_delta_y = self._click_drag_delta_y + __abs(event.delta_y)
				self:DragEdit(event.delta_y)
			end
		end
		self:DispatchEvent(___all_struct[291295687], {})
	end
end

function RichEdit:HandleDragEnd(event)
	if self._can_drag_text == false then
		return
	end
	if self._is_drag_begin == false then
		return
	end
	if self._multi_cursor then
		if self._cursor.visible then
			self._multi_cursor = false
		end
		self:DispatchEvent(___all_struct[-203792390], {})
	end
end

function RichEdit:HandleMButtonWheel(event)
	if self._multi_cursor == false then
		if event.delta_y > 0 then
			self._is_selecting = false
			self:CursorOffsetUD(true)
		elseif event.delta_y < 0 then
			self._is_selecting = false
			self:CursorOffsetUD(false)
		end
		if event.delta_x > 0 then
			self._is_selecting = false
			self:SelectCursorOffsetLR(true)
		elseif event.delta_x < 0 then
			self._is_selecting = false
			self:SelectCursorOffsetLR(false)
		end
	else
		self:DragEdit(event.delta_y)
	end
end

function RichEdit:HandleMoveIn(event)
	System_SetEditCursor()
end

function RichEdit:HandleMoveOut(event)
	System_SetNormalCursor()
end

function RichEdit:HandleKeyDown(event)
	local is_change = false
	if event.sym == 9 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				is_change = self:InsertTextNative("\t")
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				is_change = self:InsertTextNative("\t")
				event.handled = true
				self._multi_cursor = false
			end
		end
	elseif event.sym == 1073741904 then
		if self._multi_cursor == false then
			if bit.band(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
				self._is_selecting = false
				self:CursorOffsetLR(true)
				self:UpdateFontText()
			else
				self._is_selecting = true
				self:SelectCursorOffsetLR(true)
			end
		end
		event.handled = true
	elseif event.sym == 1073741903 then
		if self._multi_cursor == false then
			if bit.band(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
				self._is_selecting = false
				self:CursorOffsetLR(false)
				self:UpdateFontText()
			else
				self._is_selecting = true
				self:SelectCursorOffsetLR(false)
			end
		end
		event.handled = true
	elseif event.sym == 1073741906 then
		if self._multi_cursor == false then
			if bit.band(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
				self._is_selecting = false
				self:CursorOffsetUD(true)
				self:UpdateFontText()
			else
				self._is_selecting = true
				self:SelectCursorOffsetUD(true)
			end
		end
		event.handled = true
	elseif event.sym == 1073741905 then
		if self._multi_cursor == false then
			if bit.band(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
				self._is_selecting = false
				self:CursorOffsetUD(false)
				self:UpdateFontText()
			else
				self._is_selecting = true
				self:SelectCursorOffsetUD(false)
			end
		end
		event.handled = true
	elseif event.sym == 8 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				is_change = self:DeleteText(true)
				event.handled = true
				self:UpdateFontText()
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				is_change = self:DeleteText(true)
				event.handled = true
				self:UpdateFontText()
				self._multi_cursor = false
			end
		end
	elseif event.sym == 127 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				is_change = self:DeleteText(false)
				event.handled = true
				self:UpdateFontText()
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				is_change = self:DeleteText(false)
				event.handled = true
				self:UpdateFontText()
				self._multi_cursor = false
			end
		end
	elseif event.sym == 1073741898 then
		self._is_selecting = false
		self:SetCursorToHome()
		event.handled = true
		self:UpdateFontText()
	elseif event.sym == 1073741901 then
		self._is_selecting = false
		self:SetCursorToEnd()
		event.handled = true
		self:UpdateFontText()
	elseif event.sym == 13 or event.sym == 1073741912 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				is_change = self:InsertTextNative("\n")
				event.handled = true
				self:UpdateFontText()
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				is_change = self:InsertTextNative("\n")
				event.handled = true
				self:UpdateFontText()
				self._multi_cursor = false
			end
		end
	elseif event.sym == 120 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				local select_text = self:GetSelectText()
				if select_text[1] ~= nil then
					System_SetClipboardText(json.encode(select_text))
					is_change = self:DeleteSelectText()
				end
				self:UpdateFontText()
				event.handled = true
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				local select_text = self:GetSelectText()
				if select_text[1] ~= nil then
					System_SetClipboardText(json.encode(select_text))
					is_change = self:DeleteSelectText()
				end
				self:UpdateFontText()
				event.handled = true
				self._multi_cursor = false
			end
		end
	elseif event.sym == 99 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		local select_text = self:GetSelectText()
		if select_text[1] ~= nil then
			System_SetClipboardText(json.encode(select_text))
		end
		event.handled = true
	elseif event.sym == 118 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				if System_HasClipboardText() then
					local content = System_GetClipboardText()
					local error, new_content = Lua.TCall(json.decode, content)
					if error == nil and __type(new_content) == "table" and self:CheckDisplayList(new_content) then
						if self:CheckAtKeyInput(new_content) then
							return
						end
						is_change = self:InsertDisplayListNative(new_content, false)
					else
						if self:CheckAtKeyInput(content) then
							return
						end
						is_change = self:InsertTextNative(content)
					end
				end
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				if System_HasClipboardText() then
					local content = System_GetClipboardText()
					local error, new_content = Lua.TCall(json.decode, content)
					if error == nil and __type(new_content) == "table" and self:CheckDisplayList(new_content) then
						is_change = self:InsertDisplayListNative(new_content, false)
					else
						is_change = self:InsertTextNative(content)
					end
				end
				event.handled = true
				self._multi_cursor = false
			end
		end
	elseif event.sym == 97 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		self._is_selecting = true
		self:SelectAll()
		event.handled = true
	end
	if is_change then
		self:DispatchEvent(___all_struct[958494922], {})
		self._current_flash_alpha = 1.5
		self:ShowDefaultText()
	end
end

function RichEdit:InsertText(display_list, selected)
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	self:InsertDisplayListNative(display_list, selected)
	self._multi_cursor = false
	self:ShowDefaultText()
end

function RichEdit:InsertWord(word_text)
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	self:InsertTextNative(word_text)
	self:TransToCursor()
	self:ShowDefaultText()
end

function RichEdit:CopyText(return_cursor)
	local select_text = self:GetSelectText()
	if select_text[1] ~= nil then
		System_SetClipboardText(json.encode(select_text))
	end
	if return_cursor then
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichEdit:CopyWord(return_cursor)
	local select_text = self:GetSelectWord()
	if select_text ~= nil then
		System_SetClipboardText(select_text)
	end
	if return_cursor then
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichEdit:CutText()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	local select_text = self:GetSelectText()
	if select_text[1] ~= nil then
		System_SetClipboardText(json.encode(select_text))
		self:DeleteSelectText()
		self:UpdateFontText()
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichEdit:CutWord()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	local select_text = self:GetSelectWord()
	if select_text ~= nil then
		System_SetClipboardText(select_text)
		self:DeleteSelectText()
		self:UpdateFontText()
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichEdit:PasteText()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	if System_HasClipboardText() then
		local content = System_GetClipboardText()
		local error, new_content = Lua.TCall(json.decode, content)
		if error == nil and __type(new_content) == "table" and self:CheckDisplayList(new_content) then
			if self:CheckAtKeyInput(new_content) then
				return
			end
			self:InsertDisplayListNative(new_content, false)
		else
			if self:CheckAtKeyInput(content) then
				return
			end
			self:InsertTextNative(content)
		end
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichEdit:PasteWord()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	if System_HasClipboardText() then
		local content = System_GetClipboardText()
		self:InsertTextNative(content)
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichEdit:Clear()
	self:ClearText()
	self:ShowDefaultText()
end

function RichEdit:Delete()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	self:DeleteText(true)
	self:TransToCursor()
	self:ShowDefaultText()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(1818243950, "ALittle.RichInputCharInfo", {
name = "ALittle.RichInputCharInfo", ns_name = "ALittle", rl_name = "RichInputCharInfo", hash_code = 1818243950,
name_list = {"acc_width","pre_width","text_info","text","password_text","text_object","ctrl_info","ctrl"},
type_list = {"double","double","ALittle.DisplayInfo","string","string","ALittle.Text","ALittle.DisplayInfo","ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-256576702, "ALittle.RichInputFontChangedEvent", {
name = "ALittle.RichInputFontChangedEvent", ns_name = "ALittle", rl_name = "RichInputFontChangedEvent", hash_code = -256576702,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-683607428, "ALittle.RichInputCursorClickEvent", {
name = "ALittle.RichInputCursorClickEvent", ns_name = "ALittle", rl_name = "RichInputCursorClickEvent", hash_code = -683607428,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1424993548, "ALittle.RichInputMultiDragBeginEvent", {
name = "ALittle.RichInputMultiDragBeginEvent", ns_name = "ALittle", rl_name = "RichInputMultiDragBeginEvent", hash_code = 1424993548,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-605767802, "ALittle.RichInputMultiDragEvent", {
name = "ALittle.RichInputMultiDragEvent", ns_name = "ALittle", rl_name = "RichInputMultiDragEvent", hash_code = -605767802,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(-884368490, "ALittle.RichInputMultiDragEndEvent", {
name = "ALittle.RichInputMultiDragEndEvent", ns_name = "ALittle", rl_name = "RichInputMultiDragEndEvent", hash_code = -884368490,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})
RegStruct(1640499878, "ALittle.UIRichInputLongClickEvent", {
name = "ALittle.UIRichInputLongClickEvent", ns_name = "ALittle", rl_name = "UIRichInputLongClickEvent", hash_code = 1640499878,
name_list = {"target","abs_x","abs_y","rel_x","rel_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double"},
option_map = {}
})

local __byte = String_Byte
local __sub = String_Sub
local __find = String_Find
local __floor = Math_Floor
local __len = String_Len
local __abs = Math_Abs
local __type = String_Type
assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
RichInput = Lua.Class(ALittle.DisplayLayout, "ALittle.RichInput")

function RichInput:CheckDisplayList(content)
	for k, v in ___ipairs(content) do
		if v.__class == nil then
			return false
		end
	end
	return true
end

function RichInput:CharIsNumber(str)
	local c = __byte(str, 1)
	return c >= 48 and c <= 57
end

function RichInput:CharIsLetter(str)
	local c = __byte(str, 1)
	return c >= 65 and c <= 90 or c >= 97 and c <= 122
end

function RichInput:CompareTextInfo(a, b)
	if a.font_path ~= b.font_path then
		return false
	end
	if a.font_size ~= b.font_size then
		return false
	end
	if a.red ~= b.red then
		return false
	end
	if a.green ~= b.green then
		return false
	end
	if a.blue ~= b.blue then
		return false
	end
	if a.bold ~= b.bold then
		return false
	end
	if a.italic ~= b.italic then
		return false
	end
	if a.underline ~= b.underline then
		return false
	end
	if a.deleteline ~= b.deleteline then
		return false
	end
	if a.outline ~= b.outline then
		return false
	end
	return true
end

function RichInput:CopyTextInfo(b)
	local a = {}
	a.__class = "Text"
	a.font_path = b.font_path
	a.font_size = b.font_size
	a.red = b.red
	a.green = b.green
	a.blue = b.blue
	a.bold = b.bold
	a.italic = b.italic
	a.underline = b.underline
	a.deleteline = b.deleteline
	a.outline = b.outline
	return a
end

function RichInput:InitTextInfo()
	local font_text = self._font_text
	local a = {}
	a.__class = "Text"
	a.font_path = font_text.font_path
	a.font_size = font_text.font_size
	a.red = font_text.red
	a.green = font_text.green
	a.blue = font_text.blue
	a.bold = font_text.bold
	a.italic = font_text.italic
	a.underline = font_text.underline
	a.deleteline = font_text.deleteline
	a.outline = font_text.outline
	return a
end

function RichInput:SetDrawText(font_text)
	local draw_text = self._draw_text
	draw_text.font_path = font_text.font_path
	draw_text.font_size = font_text.font_size
	draw_text.red = font_text.red
	draw_text.green = font_text.green
	draw_text.blue = font_text.blue
	draw_text.bold = font_text.bold
	draw_text.italic = font_text.italic
	draw_text.underline = font_text.underline
	draw_text.deleteline = font_text.deleteline
	draw_text.outline = font_text.outline
end

function RichInput:SplitText(char_info, char_info_list, char_info_list_count)
	local text = char_info.text
	while true do
		local start_index_1 = __find(text, "\n")
		local start_index_2 = __find(text, "\t")
		if start_index_1 ~= nil and start_index_2 ~= nil then
			if start_index_1 < start_index_2 then
				start_index_2 = nil
			else
				start_index_1 = nil
			end
		end
		if start_index_1 ~= nil then
			local sub_text = __sub(text, 1, start_index_1 - 1)
			text = __sub(text, start_index_1 + 1)
			if sub_text ~= "" then
				local new_char_info = String_CopyTable(char_info)
				new_char_info.text = sub_text
				char_info_list_count = char_info_list_count + 1
				char_info_list[char_info_list_count] = new_char_info
			end
		elseif start_index_2 ~= nil then
			local sub_text = __sub(text, 1, start_index_2 - 1)
			text = __sub(text, start_index_2 + 1)
			if sub_text ~= "" then
				local new_char_info = String_CopyTable(char_info)
				new_char_info.text = sub_text
				char_info_list_count = char_info_list_count + 1
				char_info_list[char_info_list_count] = new_char_info
			end
		else
			if text ~= "" then
				local new_char_info = String_CopyTable(char_info)
				new_char_info.text = text
				char_info_list_count = char_info_list_count + 1
				char_info_list[char_info_list_count] = new_char_info
			end
			break
		end
	end
	return char_info_list_count
end

function RichInput:DisplayListToCharInfoList(display_list, default_text_info)
	local char_info_list = {}
	local char_info_list_count = 0
	local last_text_info = default_text_info
	for display_index, display_info in ___ipairs(display_list) do
		if display_info.__class == "Text" then
			local new_char_info = {}
			new_char_info.acc_width = 0
			new_char_info.pre_width = 0
			new_char_info.text_info = self:CopyTextInfo(display_info)
			new_char_info.text_object = nil
			new_char_info.text = display_info.text
			new_char_info.ctrl_info = nil
			new_char_info.ctrl = nil
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
			last_text_info = new_char_info.text_info
		else
			if last_text_info == nil then
				last_text_info = self:InitTextInfo()
			end
			local new_char_info = {}
			new_char_info.acc_width = 0
			new_char_info.pre_width = 0
			new_char_info.text_info = last_text_info
			new_char_info.text_object = nil
			new_char_info.text = ""
			new_char_info.ctrl_info = display_info
			new_char_info.ctrl = nil
			char_info_list_count = char_info_list_count + 1
			char_info_list[char_info_list_count] = new_char_info
		end
	end
	return char_info_list
end

function RichInput:CharInfoListToDisplayList(list)
	local display_list = {}
	local display_list_count = 0
	local text_info = nil
	local text_list = nil
	local text_list_count = 0
	for char_index, char_info in ___ipairs(list) do
		if char_info.ctrl_info == nil then
			if text_info == nil then
				text_info = char_info.text_info
				text_list = {}
				text_list_count = 1
				text_list[text_list_count] = char_info.text
			elseif text_info == char_info.text_info then
				text_list_count = text_list_count + 1
				text_list[text_list_count] = char_info.text
			else
				if self:CompareTextInfo(text_info, char_info.text_info) then
					text_list_count = text_list_count + 1
					text_list[text_list_count] = char_info.text
				else
					local text = String_Join(text_list, "")
					if text ~= "" then
						local text_ctrl = String_CopyTable(text_info)
						text_ctrl.__class = "Text"
						text_ctrl.text = text
						display_list_count = display_list_count + 1
						display_list[display_list_count] = text_ctrl
					end
					text_info = char_info.text_info
					text_list = {}
					text_list_count = 1
					text_list[text_list_count] = char_info.text
				end
			end
		else
			if text_info ~= nil then
				local text = String_Join(text_list, "")
				if text ~= "" then
					local text_ctrl = String_CopyTable(text_info)
					text_ctrl.__class = "Text"
					text_ctrl.text = text
					display_list_count = display_list_count + 1
					display_list[display_list_count] = text_ctrl
				end
				text_info = nil
				text_list = nil
				text_list_count = 0
			end
			display_list_count = display_list_count + 1
			display_list[display_list_count] = String_CopyTable(char_info.ctrl_info)
		end
	end
	if text_info ~= nil then
		local text = String_Join(text_list, "")
		if text ~= "" then
			local text_ctrl = String_CopyTable(text_info)
			text_ctrl.__class = "Text"
			text_ctrl.text = text
			display_list_count = display_list_count + 1
			display_list[display_list_count] = text_ctrl
		end
	end
	return display_list
end

function RichInput:CharInfoListToWord(list)
	local text_list = {}
	local text_list_count = 0
	for char_index, char_info in ___ipairs(list) do
		if char_info.ctrl_info == nil then
			text_list_count = text_list_count + 1
			text_list[text_list_count] = char_info.text
		end
	end
	return String_Join(text_list, "")
end

function RichInput:UpdateFontText()
	local char_info = self._char_info_list[self._char_cursor_it]
	local is_change = false
	local font_text = self._font_text
	local text_info = char_info.text_info
	if font_text.font_path ~= text_info.font_path then
		font_text.font_path = text_info.font_path
		is_change = true
	end
	if font_text.font_size ~= text_info.font_size then
		font_text.font_size = text_info.font_size
		is_change = true
	end
	if font_text.red ~= text_info.red then
		font_text.red = text_info.red
		is_change = true
	end
	if font_text.green ~= text_info.green then
		font_text.green = text_info.green
		is_change = true
	end
	if font_text.blue ~= text_info.blue then
		font_text.blue = text_info.blue
		is_change = true
	end
	if font_text.bold ~= text_info.bold then
		font_text.bold = text_info.bold
		is_change = true
	end
	if font_text.italic ~= text_info.italic then
		font_text.italic = text_info.italic
		is_change = true
	end
	if font_text.underline ~= text_info.underline then
		font_text.underline = text_info.underline
		is_change = true
	end
	if font_text.deleteline ~= text_info.deleteline then
		font_text.deleteline = text_info.deleteline
		is_change = true
	end
	if font_text.outline ~= text_info.outline then
		font_text.outline = text_info.outline
		is_change = true
	end
	if is_change then
		self:DispatchEvent(___all_struct[-256576702], {})
	end
end

function RichInput:GetCursorWidth(font_size)
	if font_size == nil or font_size < 15 then
		return 1
	end
	if font_size > 100 then
		return 10
	end
	return __floor((font_size / 100) * 10)
end

function RichInput:Ctor(ctrl_sys)
	___rawset(self, "_char_info_list", {})
	___rawset(self, "_char_count", 0)
	___rawset(self, "_font_text", Text(self._ctrl_sys))
	___rawset(self, "_draw_text", Text(self._ctrl_sys))
	___rawset(self, "_char_cursor_it", 1)
	___rawset(self, "_char_select_it", 1)
	___rawset(self, "_display_view", DisplayView(self._ctrl_sys))
	self._display_view.width_type = UIEnumTypes.SIZE_MARGIN
	self._display_view.height_type = UIEnumTypes.SIZE_MARGIN
	self._display_view.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._display_view.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._display_view)
	___rawset(self, "_display_show", DisplayLayout(self._ctrl_sys))
	self._display_show.width = 0
	self._display_show.height = 0
	self._display_show.x = 0
	self._display_show.y_type = UIEnumTypes.POS_ALIGN_ENDING
	self._display_show.y_value = 0
	self._display_view:AddChild(self._display_show)
	___rawset(self, "_current_flash_alpha", 1)
	___rawset(self, "_current_flash_dir", -0.05)
	___rawset(self, "_cursor", Quad(self._ctrl_sys))
	self._cursor.width = 1
	self:AddChild(self._cursor)
	self._cursor.visible = false
	___rawset(self, "_select", Quad(self._ctrl_sys))
	self:AddChild(self._select)
	self._select.visible = false
	self._select.alpha = 0.5
	___rawset(self, "_start_cursor", Quad(self._ctrl_sys))
	self._start_cursor.width = 1
	self:AddChild(self._start_cursor)
	self._start_cursor.visible = false
	___rawset(self, "_end_cursor", Quad(self._ctrl_sys))
	self._end_cursor.width = 1
	self:AddChild(self._end_cursor)
	self._end_cursor.visible = false
	___rawset(self, "_start_cursor_data", nil)
	___rawset(self, "_end_cursor_data", nil)
	___rawset(self, "_focus_cursor", true)
	___rawset(self, "_is_focus", false)
	___rawset(self, "_event_start_x", 0)
	___rawset(self, "_event_end_x", 0)
	___rawset(self, "_event_start_y", 0)
	___rawset(self, "_event_end_y", 0)
	___rawset(self, "_click_drag_delta_x", 0)
	___rawset(self, "_click_drag_delta_y", 0)
	___rawset(self, "_is_click", false)
	___rawset(self, "_is_longclick", false)
	___rawset(self, "_is_click_cursor", false)
	___rawset(self, "_is_click_cursor_name", "")
	___rawset(self, "_drag_delta_x", 0)
	___rawset(self, "_drag_delta_y", 0)
	___rawset(self, "_cursor_margin_up", 0)
	___rawset(self, "_cursor_margin_down", 0)
	___rawset(self, "_margin_halign", 0)
	___rawset(self, "_margin_valign", 0)
	___rawset(self, "_is_drag_begin", false)
	___rawset(self, "_password_mode", false)
	___rawset(self, "_ims_padding", 0)
	___rawset(self, "_default_text", Text(self._ctrl_sys))
	self._default_text.y_type = UIEnumTypes.POS_ALIGN_ENDING
	self._default_text.y_value = 0
	self._display_view:AddChild(self._default_text)
	___rawset(self, "_default_font_height", 20)
	___rawset(self, "_link_map", CreateValueWeakMap())
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
	___rawset(self, "_pickup_this", true)
	___rawset(self, "_editable", true)
	___rawset(self, "_is_selecting", false)
	___rawset(self, "_can_drag_text", true)
	___rawset(self, "_auto_ims", true)
	___rawset(self, "_multi_cursor", false)
	___rawset(self, "_input_align", false)
	___rawset(self, "_regex", "")
	___rawset(self, "_limit_len", 0)
	self:AddEventListener(___all_struct[292776509], self, self.HandleFocusOut)
	self:AddEventListener(___all_struct[-644464135], self, self.HandleFocusIn)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[-1234078962], self, self.HandleTextInput)
	self:AddEventListener(___all_struct[-1604617962], self, self.HandleKeyDown)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	self:AddEventListener(___all_struct[150587926], self, self.HandleDragEnd)
	self:AddEventListener(___all_struct[-439548260], self, self.HandleLongLButtonDown)
	self:ClearCharInfo()
	if self._loop == nil then
		___rawset(self, "_loop", LoopFunction(Lua.Bind(self.Update, self), -1, 1, 1))
	end
	A_LoopSystem:AddUpdater(self._loop)
end

function RichInput:GetCursor()
	return self._cursor
end

function RichInput:ClearLinkMap()
	self._link_map = CreateValueWeakMap()
end

function RichInput.__getter:real_width()
	return self._char_info_list[self._char_count].acc_width
end

function RichInput.__getter:real_height()
	return self._display_show.height
end

function RichInput.__getter:can_drag_text()
	return self._can_drag_text
end

function RichInput.__setter:can_drag_text(value)
	self._can_drag_text = value
end

function RichInput.__setter:auto_ims(value)
	self._auto_ims = value
end

function RichInput.__getter:auto_ims()
	return self._auto_ims
end

function RichInput.__getter:multi_cursor()
	return self._multi_cursor
end

function RichInput.__setter:width(value)
	if self.width == value then
		return
	end
	DisplayLayout.__setter.width(self, value)
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput.__setter:height(value)
	if self.height == value then
		return
	end
	DisplayLayout.__setter.height(self, value)
	self:ResetCursor()
end

function RichInput.__setter:cursor_red(value)
	self._cursor.red = value
	self._select.red = value
end

function RichInput.__getter:cursor_red()
	return self._cursor.red
end

function RichInput.__setter:cursor_green(value)
	self._cursor.green = value
	self._select.green = value
end

function RichInput.__getter:cursor_green()
	return self._cursor.green
end

function RichInput.__setter:cursor_blue(value)
	self._cursor.blue = value
	self._select.blue = value
end

function RichInput.__getter:cursor_blue()
	return self._cursor.blue
end

function RichInput.__setter:font_bold(value)
	if self._font_text.bold == value then
		return
	end
	self._font_text.bold = value
	self._default_text.bold = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.bold = value
	end
end

function RichInput.__setter:font_underline(value)
	if self._font_text.underline == value then
		return
	end
	self._font_text.underline = value
	self._default_text.underline = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.underline = value
	end
end

function RichInput.__setter:font_deleteline(value)
	if self._font_text.deleteline == value then
		return
	end
	self._font_text.deleteline = value
	self._default_text.deleteline = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.deleteline = value
	end
end

function RichInput.__setter:font_italic(value)
	if self._font_text.italic == value then
		return
	end
	self._font_text.italic = value
	self._default_text.italic = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.italic = value
	end
end

function RichInput.__setter:font_outline(value)
	if self._font_text.outline == value then
		return
	end
	self._font_text.outline = value
	self._default_text.outline = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.outline = value
	end
end

function RichInput.__setter:font_path(value)
	if self._font_text.font_path == value then
		return
	end
	self._font_text.font_path = value
	self._default_text.font_path = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.font_path = value
	end
end

function RichInput.__setter:font_size(value)
	if self._font_text.font_size == value then
		return
	end
	self._font_text.font_size = value
	self._default_text.font_size = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.font_size = value
	end
end

function RichInput.__getter:font_path()
	return self._font_text.font_path
end

function RichInput.__getter:font_size()
	return self._font_text.font_size
end

function RichInput.__setter:font_red(value)
	if self._font_text.red == value then
		return
	end
	self._font_text.red = value
	self._default_text.red = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.red = value
	end
end

function RichInput.__getter:font_red()
	return self._font_text.red
end

function RichInput.__setter:font_green(value)
	if self._font_text.green == value then
		return
	end
	self._font_text.green = value
	self._default_text.green = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.green = value
	end
end

function RichInput.__getter:font_green()
	return self._font_text.green
end

function RichInput.__setter:font_blue(value)
	if self._font_text.blue == value then
		return
	end
	self._font_text.blue = value
	self._default_text.blue = value
	if self._char_info_list[1] ~= nil then
		self._char_info_list[1].text_info.blue = value
	end
end

function RichInput.__getter:font_blue()
	return self._font_text.blue
end

function RichInput.__setter:text(value)
	self:ClearCharInfo()
	self:InsertTextNative(value)
	self:ResetShowXByCursor()
	self:ShowDefaultText()
end

function RichInput.__getter:text()
	local displaylist = self:CharInfoListToDisplayList(self._char_info_list)
	local text = ""
	for k, v in ___ipairs(displaylist) do
		if v.__class == "Text" then
			text = text .. v.text
		end
	end
	return text
end

function RichInput.__setter:default_text(value)
	self._default_text.text = value
end

function RichInput.__getter:default_text()
	return self._default_text.text
end

function RichInput.__setter:default_text_alpha(value)
	self._default_text.alpha = value
end

function RichInput.__getter:default_text_alpha()
	return self._default_text.alpha
end

function RichInput.__setter:display_list(value)
	local char_info_list = self:DisplayListToCharInfoList(value)
	self:ClearCharInfo()
	self:InsertCharInfo(char_info_list, false)
	self:ResetCursor()
	self:ShowDefaultText()
end

function RichInput.__getter:display_list()
	return self:CharInfoListToDisplayList(self._char_info_list)
end

function RichInput.__setter:start_cursor(value)
	if value == nil then
		return
	end
	if value == self._start_cursor then
		return
	end
	self:RemoveChild(self._start_cursor)
	value.x_type = UIEnumTypes.POS_ABS
	value.y_type = UIEnumTypes.POS_ABS
	value.width_type = UIEnumTypes.SIZE_ABS
	value.height_type = UIEnumTypes.SIZE_ABS
	self._start_cursor = value
	self:AddChild(self._start_cursor)
	self._start_cursor.visible = false
	self:ResetCursor()
end

function RichInput.__getter:start_cursor()
	return self._start_cursor
end

function RichInput.__setter:end_cursor(value)
	if value == nil then
		return
	end
	if value == self._end_cursor then
		return
	end
	self:RemoveChild(self._end_cursor)
	value.x_type = UIEnumTypes.POS_ABS
	value.y_type = UIEnumTypes.POS_ABS
	value.width_type = UIEnumTypes.SIZE_ABS
	value.height_type = UIEnumTypes.SIZE_ABS
	self._end_cursor = value
	self:AddChild(self._end_cursor)
	self._end_cursor.visible = false
	self:ResetCursor()
end

function RichInput.__getter:end_cursor()
	return self._end_cursor
end

function RichInput.__setter:cursor_margin_up(value)
	if value == self._cursor_margin_up then
		return
	end
	self._cursor_margin_up = value
	self:ResetCursor()
end

function RichInput.__getter:cursor_margin_up()
	return self._cursor_margin_up
end

function RichInput.__setter:cursor_margin_down(value)
	if value == self._cursor_margin_down then
		return
	end
	self._cursor_margin_down = value
	self:ResetCursor()
end

function RichInput.__getter:cursor_margin_down()
	return self._cursor_margin_down
end

function RichInput.__setter:margin_halign(value)
	if value == self._margin_halign then
		return
	end
	self._margin_halign = value
	self._display_view.width_value = self._margin_halign * 2
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput.__getter:margin_halign()
	return self._margin_halign
end

function RichInput.__setter:margin_valign(value)
	if value == self._margin_valign then
		return
	end
	self._margin_valign = value
	self._display_view.height_value = self._margin_valign * 2
	self:ResetCursor()
end

function RichInput.__getter:margin_valign()
	return self._margin_valign
end

function RichInput.__setter:focus_cursor(value)
	self._focus_cursor = value
end

function RichInput.__getter:focus_cursor()
	return self._focus_cursor
end

function RichInput.__getter:cursor_x()
	return self._cursor.x
end

function RichInput.__getter:cursor_y()
	return self._cursor.y
end

function RichInput.__getter:start_cursor_x()
	return self._event_start_x
end

function RichInput.__getter:start_cursor_y()
	return self._event_start_y
end

function RichInput.__getter:end_cursor_x()
	return self._event_end_x
end

function RichInput.__getter:end_cursor_y()
	return self._event_end_y
end

function RichInput.__getter:is_input()
	return true
end

function RichInput.__getter:is_empty()
	return self._char_count == 1
end

function RichInput.__getter:editable()
	return self._editable
end

function RichInput.__setter:editable(value)
	self._editable = value
end

function RichInput.__setter:ims_padding(value)
	self._ims_padding = value
end

function RichInput.__getter:ims_padding()
	return self._ims_padding
end

function RichInput.__setter:password_mode(value)
	if self._password_mode == value then
		return
	end
	self._password_mode = value
	local display_list = self:CharInfoListToDisplayList(self._char_info_list)
	local char_info_list = self:DisplayListToCharInfoList(display_list)
	self:ClearCharInfo()
	self:InsertCharInfo(char_info_list, false)
	self:ResetCursor()
	self:ShowDefaultText()
end

function RichInput.__getter:password_mode()
	return self._password_mode
end

function RichInput.__getter:regex()
	return self._regex
end

function RichInput.__setter:regex(value)
	if value == nil then
		value = ""
	end
	self._regex = value
end

function RichInput.__getter:limit_len()
	return self._limit_len
end

function RichInput.__setter:limit_len(value)
	if value == nil then
		value = 0
	end
	self._limit_len = value
end

function RichInput.__setter:input_align(value)
	if self._input_align == value then
		return
	end
	self._input_align = value
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput.__getter:input_align()
	return self._input_align
end

function RichInput:Update()
	if self._cursor.abs_visible then
		self._current_flash_alpha = self._current_flash_alpha + self._current_flash_dir
		if (self._current_flash_dir < 0 and self._current_flash_alpha < -0.05) or (self._current_flash_dir > 0 and self._current_flash_alpha > 1.5) then
			self._current_flash_dir = -self._current_flash_dir
		end
		self._cursor.alpha = self._current_flash_alpha
	end
end

function RichInput:Draw()
	if self._draw_loop ~= nil then
		return
	end
	self._draw_loop = LoopFunction(Lua.Bind(self.DrawImpl, self), 1, 0, 1)
	A_LoopSystem:AddUpdater(self._draw_loop)
end

function RichInput:DrawImpl()
	self._display_show:RemoveAllChild()
	local real_height = 0.0
	local offset_x = 0.0
	local last_child = nil
	for k, char_info in ___ipairs(self._char_info_list) do
		local child = char_info.text_object
		if child == nil then
			child = char_info.ctrl
		end
		if child ~= nil and child ~= last_child then
			last_child = child
			child.x_type = UIEnumTypes.POS_ALIGN_STARTING
			child.x_value = offset_x
			child.y_type = UIEnumTypes.POS_ALIGN_ENDING
			child.y_value = 0
			self._display_show:AddChild(child)
			offset_x = offset_x + child.width
			if child.height > real_height then
				real_height = child.height
			end
		end
	end
	self._display_show.height_value = real_height
	self._draw_loop = nil
end

function RichInput:ClearCharInfo()
	self._char_info_list = {}
	self._char_count = 0
	local char_info = {}
	char_info.acc_width = 0
	char_info.pre_width = 0
	char_info.text_info = self:InitTextInfo()
	char_info.text_object = nil
	char_info.text = ""
	char_info.password_text = ""
	char_info.ctrl_info = nil
	char_info.ctrl = nil
	self._char_count = self._char_count + 1
	self._char_info_list[self._char_count] = char_info
	self._char_cursor_it = 1
	self._char_select_it = 2
	self:Draw()
end

function RichInput:InsertCharInfo(char_info_list, selected)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return
	end
	if char_info_list[1] == nil then
		return
	end
	local char_cursor_it_tmp = self._char_cursor_it
	local x_char_info_list = {}
	local x_char_info_list_count = 0
	for index, char_info in ___ipairs(char_info_list) do
		if char_info.ctrl_info == nil then
			x_char_info_list_count = self:SplitText(char_info, x_char_info_list, x_char_info_list_count)
		else
			x_char_info_list_count = x_char_info_list_count + 1
			x_char_info_list[x_char_info_list_count] = char_info
		end
	end
	char_info_list = x_char_info_list
	local new_char_info_list = {}
	local new_char_count = 0
	local text_info = nil
	local text_object = nil
	local char_acc_width = 0.0
	local i = 1
	while true do
		if not(i <= char_cursor_it_tmp) then break end
		local char_info = self._char_info_list[i]
		if i ~= 1 and char_info.ctrl_info == nil then
			text_info = char_info.text_info
			text_object = char_info.text_object
		else
			text_info = nil
			text_object = nil
		end
		char_acc_width = char_info.acc_width
		new_char_count = new_char_count + 1
		new_char_info_list[new_char_count] = char_info
		i = i+(1)
	end
	local insert_count = 0
	for key, display_info in ___ipairs(char_info_list) do
		if display_info.ctrl_info == nil then
			local display_object = nil
			if text_info ~= nil and self:CompareTextInfo(display_info.text_info, text_info) then
				display_object = text_object
			else
				text_info = display_info.text_info
				local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
				self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info.text_info))
				text_object = self._ctrl_sys:CreateControl(name, self._link_map)
				self._ctrl_sys:UnRegisterInfo(name)
				display_object = text_object
			end
			self:SetDrawText(display_object)
			local object_text = ""
			local calc_text = display_info.text
			local password_width = nil
			while calc_text ~= "" do
				local byte_count = String_GetByteCount(calc_text, 1)
				local real_text = __sub(calc_text, 1, byte_count)
				local password_text = "*"
				local text_width = 0.0
				calc_text = __sub(calc_text, byte_count + 1)
				if self._password_mode then
					if password_width == nil then
						password_width = self._draw_text.native_show:CalcTextWidth(password_text)
					end
					text_width = password_width
				else
					password_text = real_text
					text_width = self._draw_text.native_show:CalcTextWidth(real_text)
				end
				local char_info = {}
				char_info.pre_width = char_acc_width
				char_info.acc_width = char_info.pre_width + text_width
				char_info.text_info = display_info.text_info
				char_info.text_object = display_object
				char_info.text = real_text
				char_info.password_text = password_text
				char_info.ctrl_info = nil
				char_info.ctrl = nil
				object_text = object_text .. char_info.password_text
				char_acc_width = char_info.acc_width
				new_char_count = new_char_count + 1
				new_char_info_list[new_char_count] = char_info
				insert_count = insert_count + 1
			end
		elseif display_info.ctrl_info ~= nil then
			text_info = nil
			text_object = nil
			local name = "nkacbjbsakcvuqocbakcbjcbvjhciqwojqppwvnwe"
			self._ctrl_sys:RegisterInfo(name, String_CopyTable(display_info.ctrl_info))
			local display_object = self._ctrl_sys:CreateControl(name, self._link_map)
			self._ctrl_sys:UnRegisterInfo(name)
			local char_info = {}
			char_info.pre_width = char_acc_width
			char_info.acc_width = char_info.pre_width + display_object.width
			char_info.text_info = display_info.text_info
			char_info.text_object = nil
			char_info.text = nil
			char_info.password_text = nil
			char_info.ctrl_info = display_info.ctrl_info
			char_info.ctrl = display_object
			char_acc_width = char_info.acc_width
			new_char_count = new_char_count + 1
			new_char_info_list[new_char_count] = char_info
			insert_count = insert_count + 1
		end
	end
	local i = char_cursor_it_tmp + 1
	while true do
		if not(i <= self._char_count) then break end
		local char_info = self._char_info_list[i]
		if char_info.ctrl_info == nil and text_info ~= nil and self:CompareTextInfo(char_info.text_info, text_info) then
			char_info.text_object = text_object
		else
			text_info = nil
			text_object = nil
		end
		local width = char_info.acc_width - char_info.pre_width
		char_info.pre_width = char_acc_width
		char_info.acc_width = char_info.pre_width + width
		char_acc_width = char_info.acc_width
		new_char_count = new_char_count + 1
		new_char_info_list[new_char_count] = char_info
		i = i+(1)
	end
	local text = ""
	local object = nil
	for i, char_info in ___ipairs(new_char_info_list) do
		if object == nil then
			if char_info.text_object ~= nil then
				object = char_info.text_object
				text = char_info.password_text
			end
		else
			if char_info.text_object == nil then
				object.text = text
				object = nil
				text = ""
			elseif char_info.text_object ~= object then
				object.text = text
				object = char_info.text_object
				text = char_info.password_text
			else
				text = text .. char_info.password_text
			end
		end
	end
	if object ~= nil then
		object.text = text
	end
	self._char_info_list = new_char_info_list
	self._char_count = new_char_count
	self._char_cursor_it = char_cursor_it_tmp + insert_count
	if selected then
		self._char_select_it = char_cursor_it_tmp
	else
		self._char_select_it = self._char_count + 1
	end
	self:Draw()
end

function RichInput:DeleteCharInfo(begin_char_it, end_char_it)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return
	end
	local new_char_info_list = {}
	local new_char_count = 0
	local text_info = nil
	local text_object = nil
	local char_acc_width = 0.0
	local i = 1
	while true do
		if not(i <= begin_char_it) then break end
		local char_info = self._char_info_list[i]
		if i ~= 1 and char_info.ctrl_info == nil then
			text_info = char_info.text_info
			text_object = char_info.text_object
		end
		char_acc_width = char_info.acc_width
		new_char_count = new_char_count + 1
		new_char_info_list[new_char_count] = char_info
		i = i+(1)
	end
	local i = end_char_it + 1
	while true do
		if not(i <= self._char_count) then break end
		local char_info = self._char_info_list[i]
		if char_info.ctrl_info == nil and text_info ~= nil and self:CompareTextInfo(char_info.text_info, text_info) then
			char_info.text_object = text_object
		else
			text_info = nil
			text_object = nil
		end
		local width = char_info.acc_width - char_info.pre_width
		char_info.pre_width = char_acc_width
		char_info.acc_width = char_info.pre_width + width
		char_acc_width = char_info.acc_width
		new_char_count = new_char_count + 1
		new_char_info_list[new_char_count] = char_info
		i = i+(1)
	end
	local text = ""
	local object = nil
	for i, char_info in ___ipairs(new_char_info_list) do
		if object == nil then
			if char_info.text_object ~= nil then
				object = char_info.text_object
				text = char_info.password_text
			end
		else
			if char_info.text_object == nil then
				object.text = text
				object = nil
				text = ""
			elseif char_info.text_object ~= object then
				object.text = text
				object = char_info.text_object
				text = char_info.password_text
			else
				text = text .. char_info.password_text
			end
		end
	end
	if object ~= nil then
		object.text = text
	end
	self._char_info_list = new_char_info_list
	self._char_count = new_char_count
	self._char_cursor_it = begin_char_it
	self._char_select_it = self._char_count + 1
	self:Draw()
end

function RichInput:GetIteratorByOffset(offset_x)
	local real_offset_x = offset_x - self._display_show.x
	if real_offset_x < 0 then
		return 1
	end
	local char_it = 1
	local char_end_it = self._char_count + 1
	while char_it ~= char_end_it do
		local char_info = self._char_info_list[char_it]
		if real_offset_x <= char_info.acc_width then
			local half_char_width = (char_info.acc_width - char_info.pre_width) * 0.5
			if real_offset_x - char_info.pre_width < half_char_width and char_it ~= 1 then
				char_it = char_it - 1
			end
			break
		else
			char_it = char_it + 1
		end
	end
	if char_it == char_end_it then
		char_end_it = char_end_it - 1
		char_it = char_end_it
	end
	return char_it
end

function RichInput:ClickCursorToHome()
	self._char_select_it = self._char_count + 1
	self._char_cursor_it = 1
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:ClickCursorToEnd()
	self._char_select_it = self._char_count + 1
	self._char_cursor_it = self._char_count
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:ClickCursor(offset_x)
	self._char_select_it = self._char_count + 1
	self._char_cursor_it = self:GetIteratorByOffset(offset_x)
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:ClickMultiCursor(offset_x, trans)
	local char_cursor_it
	if trans then
		char_cursor_it = self._char_cursor_it
	else
		char_cursor_it = self:GetIteratorByOffset(offset_x)
	end
	if char_cursor_it ~= 1 then
		self._char_cursor_it = char_cursor_it
		self._char_select_it = char_cursor_it - 1
	else
		if self._char_count ~= 1 then
			self._char_cursor_it = char_cursor_it + 1
			self._char_select_it = char_cursor_it
		else
			self._char_cursor_it = 1
			self._char_select_it = 2
		end
	end
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:ClickWordCursor(offset_x)
	self._char_cursor_it = self:GetIteratorByOffset(offset_x)
	self._char_select_it = self._char_cursor_it
	while true do
		local str = self._char_info_list[self._char_select_it].password_text
		if str ~= nil and __len(str) == 1 and str ~= "_" and self:CharIsNumber(str) == false and self:CharIsLetter(str) == false then
			break
		end
		if self._char_select_it == 1 then
			break
		end
		self._char_select_it = self._char_select_it - 1
	end
	while true do
		local str = self._char_info_list[self._char_cursor_it].password_text
		if str ~= nil and __len(str) == 1 and str ~= "_" and self:CharIsNumber(str) == false and self:CharIsLetter(str) == false then
			self._char_cursor_it = self._char_cursor_it - 1
			break
		end
		if self._char_cursor_it == self._char_count then
			break
		end
		self._char_cursor_it = self._char_cursor_it + 1
	end
	if self._char_select_it < 1 then
		self._char_select_it = self._char_count + 1
	end
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
	return self._char_select_it <= self._char_count
end

function RichInput:SelectAll()
	self._char_select_it = 1
	self._char_cursor_it = self._char_count
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:CursorOffsetLR(left)
	if self._char_select_it <= self._char_count and self._char_select_it ~= self._char_cursor_it then
		if self._char_cursor_it > self._char_select_it and left then
			self._char_cursor_it = self._char_select_it
		elseif self._char_cursor_it < self._char_select_it and not left then
			self._char_cursor_it = self._char_select_it
		end
		self._char_select_it = self._char_count + 1
		return
	end
	if left then
		if self._char_cursor_it == 1 then
			return
		end
		self._char_cursor_it = self._char_cursor_it - 1
	else
		if self._char_cursor_it == self._char_count then
			return
		end
		self._char_cursor_it = self._char_cursor_it + 1
	end
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:SelectCursorOffsetLR(left)
	if self._char_select_it > self._char_count then
		self._char_select_it = self._char_cursor_it
	end
	if left then
		if self._char_cursor_it == 1 then
			return
		end
		self._char_cursor_it = self._char_cursor_it - 1
	else
		if self._char_cursor_it == self._char_count then
			return
		end
		self._char_cursor_it = self._char_cursor_it + 1
	end
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:DragCursorBegin()
	self._char_select_it = self._char_cursor_it
end

function RichInput:DragCursor(offset_x)
	self._char_cursor_it = self:GetIteratorByOffset(offset_x)
	if self._char_info_list[self._char_cursor_it].pre_width == -self._display_show.x and self._char_cursor_it ~= 1 and offset_x < 0 then
		self._char_cursor_it = self._char_cursor_it - 1
	end
	if self._char_info_list[self._char_cursor_it].acc_width == self._display_view.width - self._display_show.x and self._char_cursor_it ~= self._char_count and offset_x > self._display_view.width then
		self._char_cursor_it = self._char_cursor_it - 1
	end
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:DragMultiCursor(offset_x)
	offset_x = offset_x + self._drag_delta_x
	self._char_cursor_it = self:GetIteratorByOffset(offset_x)
	if self._char_info_list[self._char_cursor_it].pre_width == -self._display_show.x and self._char_cursor_it ~= 1 and offset_x < 0 then
		self._char_cursor_it = self._char_cursor_it - 1
	end
	if self._char_info_list[self._char_cursor_it].acc_width == self._display_view.width - self._display_show.x and self._char_cursor_it ~= self._char_count and offset_x > self._display_view.width then
		self._char_cursor_it = self._char_cursor_it - 1
	end
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:DragInput(delta_x)
	local display_show_x = self._display_show.x + delta_x
	local display_show_width = self._char_info_list[self._char_count].acc_width
	if self._display_show.width < self._display_view.width or display_show_x > 0 then
		display_show_x = 0
	elseif display_show_x < self._display_view.width - display_show_width then
		display_show_x = self._display_view.width - display_show_width
	end
	self._display_show.x = display_show_x
	self:ResetCursor()
end

function RichInput:ResetShowXByCursor()
	local char_info = self._char_info_list[self._char_cursor_it]
	local next_char_info = self._char_info_list[self._char_cursor_it + 1]
	local max_char_info = self._char_info_list[self._char_count]
	if next_char_info == nil then
		next_char_info = char_info
	end
	local display_show_x = 0.0
	if char_info.pre_width < -self._display_show.x then
		self._display_show.x = -char_info.pre_width
	elseif next_char_info.acc_width > self._display_view.width - self._display_show.x then
		self._display_show.x = self._display_view.width - next_char_info.acc_width
	elseif max_char_info.acc_width + self._display_show.x < self._display_view.width and self._display_show.x < 0 then
		local display_x = self._display_view.width - max_char_info.acc_width
		if display_x > 0 then
			display_x = 0
		end
		self._display_show.x = display_x
	elseif self._input_align and max_char_info.acc_width < self._display_view.width then
		self._display_show.x = self._display_view.width - max_char_info.acc_width
	end
end

function RichInput:ResetCursor()
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return
	end
	local max_height = self._display_show.height
	if max_height > self._display_view.height then
		max_height = self._display_view.height
	end
	if self._char_select_it > self._char_count or self._char_select_it == self._char_cursor_it then
		self._select.visible = false
		self._start_cursor.visible = false
		self._end_cursor.visible = false
		self._start_cursor_data = nil
		self._end_cursor_data = nil
		self._event_start_x = 0
		self._event_end_x = 0
		self._event_start_y = 0
		self._event_end_y = 0
		if self._focus_cursor then
			self._cursor.visible = self._is_focus
		else
			self._cursor.visible = true
		end
		local cursor_x = self._display_view.x + self._char_info_list[self._char_cursor_it].acc_width + self._display_show.x
		if cursor_x < self._display_view.x or cursor_x > self._display_view.x + self._display_view.width then
			self._cursor.visible = false
		end
		local cursor_height = 0.0
		local cursor_width = 0.0
		local char = self._char_info_list[self._char_cursor_it]
		if char.ctrl ~= nil then
			cursor_height = char.ctrl.height
			cursor_width = 2
		else
			if char.text_object ~= nil then
				cursor_height = char.text_object.height
				cursor_width = self:GetCursorWidth(char.text_object.font_size)
			else
				local next_char = self._char_info_list[self._char_cursor_it + 1]
				if next_char ~= nil then
					if next_char.ctrl ~= nil then
						cursor_height = next_char.ctrl.height
						cursor_width = 2
					elseif next_char.text_object ~= nil then
						cursor_height = next_char.text_object.height
						cursor_width = self:GetCursorWidth(next_char.text_object.font_size)
					else
						cursor_height = self._font_text.native_show:GetFontHeight()
						cursor_width = self:GetCursorWidth(self._font_text.font_size)
					end
				else
					cursor_height = self._font_text.native_show:GetFontHeight()
					cursor_width = self:GetCursorWidth(self._font_text.font_size)
				end
			end
		end
		if cursor_height > max_height then
			cursor_height = max_height
		end
		if cursor_height == 0 then
			cursor_height = self._default_text.font_height
			if cursor_height == 0 then
				cursor_height = self._default_font_height
			end
		end
		self._cursor.width = cursor_width
		self._cursor.height = cursor_height
		self._cursor.x = cursor_x
		self._cursor.y = self._margin_valign + (self._display_view.height - cursor_height)
		return
	end
	if self._multi_cursor == false then
		self._cursor.visible = false
	end
	self._select.visible = true
	local select_x = self._display_view.x + self._char_info_list[self._char_select_it].acc_width + self._display_show.x
	local cursor_x = self._display_view.x + self._char_info_list[self._char_cursor_it].acc_width + self._display_show.x
	if self._char_cursor_it > self._char_select_it then
		if cursor_x < self._display_view.x then
			self._select.visible = false
		end
		if select_x > self._display_view.x + self._display_view.width then
			self._select.visible = false
		end
		local select_x_1 = select_x
		local cursor_x_1 = cursor_x
		if select_x_1 < self._display_view.x then
			select_x_1 = self._display_view.x
		end
		if cursor_x_1 > self._display_view.x + self._display_view.width then
			cursor_x_1 = self._display_view.x + self._display_view.width
		end
		self._select.y = self._margin_valign + (self._display_view.height - max_height)
		self._select.height = max_height
		self._select.x = select_x_1
		self._select.width = cursor_x_1 - select_x_1
		if self._multi_cursor == true then
			self._cursor.visible = false
			if select_x < self._display_view.x or select_x > self._display_view.x + self._display_view.width then
				self._start_cursor.visible = false
			else
				self._start_cursor.visible = true
				self._start_cursor.x = select_x - self._start_cursor.width
				self._start_cursor.height = self._select.height + self._cursor_margin_up + self._cursor_margin_down
				self._start_cursor.y = self._select.y - self._cursor_margin_up
			end
			if cursor_x > self._display_view.x + self._display_view.width or cursor_x < self._display_view.x then
				self._end_cursor.visible = false
			else
				self._end_cursor.visible = true
				self._end_cursor.x = cursor_x
				self._end_cursor.height = self._select.height + self._cursor_margin_up + self._cursor_margin_down
				self._end_cursor.y = self._select.y - self._cursor_margin_up
			end
			self._start_cursor_data = "select"
			self._end_cursor_data = "cursor"
			self._event_start_x = self._select.x
			self._event_start_y = self._select.y
			self._event_end_x = self._select.x + self._select.width
			self._event_end_y = self._select.y
		end
	elseif self._char_cursor_it < self._char_select_it then
		if select_x < self._display_view.x then
			self._select.visible = false
		end
		if cursor_x > self._display_view.x + self._display_view.width then
			self._select.visible = false
		end
		local select_x_1 = select_x
		local cursor_x_1 = cursor_x
		if cursor_x_1 < self._display_view.x then
			cursor_x_1 = self._display_view.x
		end
		if select_x_1 > self._display_view.x + self._display_view.width then
			select_x_1 = self._display_view.x + self._display_view.width
		end
		self._select.y = self._margin_valign + (self._display_view.height - max_height)
		self._select.height = max_height
		self._select.x = cursor_x_1
		self._select.width = select_x_1 - cursor_x_1
		if self._multi_cursor == true then
			self._cursor.visible = false
			if cursor_x < self._display_view.x or cursor_x > self._display_view.x + self._display_view.width then
				self._start_cursor.visible = false
			else
				self._start_cursor.visible = true
				self._start_cursor.x = cursor_x - self._start_cursor.width
				self._start_cursor.height = self._select.height + self._cursor_margin_up + self._cursor_margin_down
				self._start_cursor.y = self._select.y - self._cursor_margin_up
			end
			if select_x > self._display_view.x + self._display_view.width or select_x < self._display_view.x then
				self._end_cursor.visible = false
			else
				self._end_cursor.visible = true
				self._end_cursor.x = select_x
				self._end_cursor.height = self._select.height + self._cursor_margin_up + self._cursor_margin_down
				self._end_cursor.y = self._select.y - self._cursor_margin_up
			end
			self._start_cursor_data = "cursor"
			self._end_cursor_data = "select"
			self._event_start_x = self._select.x
			self._event_start_y = self._select.y
			self._event_end_x = self._select.x + self._select.width
			self._event_end_y = self._select.y
		end
	end
end

function RichInput:ShowDefaultText()
	if self._is_focus == false then
		if self._focus_cursor and self.is_empty then
			self._default_text.visible = true
		else
			self._default_text.visible = false
		end
	else
		self._default_text.visible = false
	end
end

function RichInput:DeleteSelectText()
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self._char_select_it > self._char_count then
		return false
	end
	if self._char_select_it == self._char_cursor_it then
		return false
	end
	local begin_char_it
	local end_char_it
	if self._char_select_it > self._char_cursor_it then
		begin_char_it = self._char_cursor_it
		end_char_it = self._char_select_it
	else
		end_char_it = self._char_cursor_it
		begin_char_it = self._char_select_it
	end
	self:DeleteCharInfo(begin_char_it, end_char_it)
	self:ResetCursor()
	return true
end

function RichInput:CheckDisplayListRegexLimit(display_list)
	if self._regex == "" then
		return false
	end
	local text = ""
	for k, v in ___ipairs(display_list) do
		if v.__class ~= "Text" then
			return false
		end
		text = text .. v.text
	end
	return self:CheckTextRegexLimit(text)
end

function RichInput:InsertDisplayListNative(display_list, selected)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self:CheckDisplayListRegexLimit(display_list) == false then
		return false
	end
	self:DeleteSelectText()
	local char_info = self._char_info_list[self._char_cursor_it]
	local char_info_list = self:DisplayListToCharInfoList(display_list, char_info.text_info)
	self:InsertCharInfo(char_info_list, selected)
	return true
end

function RichInput:CheckTextRegexLimit(text)
	if self._limit_len > 0 then
		local text_len = String_GetWordCount(text)
		if text_len > self._limit_len then
			return false
		end
		local select_len = 0
		local displaylist = self:GetSelectText()
		for k, v in ___ipairs(displaylist) do
			if v.__class == "Text" then
				select_len = select_len + String_GetWordCount(v.text)
			end
		end
		displaylist = self.display_list
		local total_len = 0
		for k, v in ___ipairs(displaylist) do
			if v.__class == "Text" then
				total_len = total_len + String_GetWordCount(v.text)
			end
		end
		if total_len - select_len + text_len > self._limit_len then
			return false
		end
	end
	if self._regex ~= "" then
		while text ~= "" do
			local byte_count = String_GetByteCount(text, 1)
			local sub_text = __sub(text, 1, byte_count)
			local start_it = __find(sub_text, self._regex)
			if start_it == nil then
				return false
			end
			text = __sub(text, byte_count + 1)
		end
	end
	return true
end

function RichInput:InsertTextNative(text)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self:CheckTextRegexLimit(text) == false then
		return false
	end
	self:DeleteSelectText()
	local char_info_list = {}
	local new_char_info = {}
	new_char_info.acc_width = 0
	new_char_info.pre_width = 0
	new_char_info.text_info = self:InitTextInfo()
	new_char_info.text_object = nil
	new_char_info.text = text
	new_char_info.ctrl_info = nil
	new_char_info.ctrl = nil
	char_info_list[1] = new_char_info
	self:InsertCharInfo(char_info_list, false)
	return true
end

function RichInput:GetSelectText()
	local select_text = {}
	local select_text_count = 0
	if self._char_select_it > self._char_count then
		return {}
	end
	if self._char_select_it == self._char_cursor_it then
		return {}
	end
	local char_it
	local char_end
	if self._char_select_it > self._char_cursor_it then
		char_it = self._char_cursor_it + 1
		char_end = self._char_select_it
	else
		char_end = self._char_cursor_it
		char_it = self._char_select_it + 1
	end
	while char_it <= char_end do
		select_text_count = select_text_count + 1
		select_text[select_text_count] = self._char_info_list[char_it]
		char_it = char_it + 1
	end
	return self:CharInfoListToDisplayList(select_text)
end

function RichInput:GetSelectWord()
	local select_text = {}
	local select_text_count = 0
	if self._char_select_it > self._char_count then
		return ""
	end
	if self._char_select_it == self._char_cursor_it then
		return ""
	end
	local char_it
	local char_end
	if self._char_select_it > self._char_cursor_it then
		char_it = self._char_cursor_it + 1
		char_end = self._char_select_it
	else
		char_end = self._char_cursor_it
		char_it = self._char_select_it + 1
	end
	while char_it <= char_end do
		select_text_count = select_text_count + 1
		select_text[select_text_count] = self._char_info_list[char_it]
		char_it = char_it + 1
	end
	return self:CharInfoListToWord(select_text)
end

function RichInput:DeleteText(left)
	if self._font_text.font_path == nil or self._font_text.font_size == nil then
		return false
	end
	if self:DeleteSelectText() then
		return true
	end
	if left then
		if self._char_cursor_it == 1 then
			return false
		end
		local end_it = self._char_cursor_it
		local begin_it = self._char_cursor_it - 1
		self:DeleteCharInfo(begin_it, end_it)
	else
		if self._char_cursor_it == self._char_count then
			return false
		end
		local begin_it = self._char_cursor_it
		local end_it = self._char_cursor_it + 1
		self:DeleteCharInfo(begin_it, end_it)
	end
	return true
end

function RichInput:SetCursor(rel_x, rel_y)
	if self._auto_ims then
		self:OpenIME()
	end
	self._is_selecting = false
	if self._multi_cursor then
		self._multi_cursor = false
		self._start_cursor.visible = false
		self._end_cursor.visible = false
		self._cursor.visible = true
		self:ClickCursor(rel_x - self._display_view.x)
	else
		self:ClickCursor(rel_x - self._display_view.x)
	end
end

function RichInput:SetMultiCursor(rel_x, rel_y)
	if self._auto_ims then
		self:OpenIME()
	end
	self._is_selecting = true
	if self._multi_cursor == false then
		self._multi_cursor = true
		self._cursor.visible = false
		self._start_cursor.visible = true
		self._end_cursor.visible = true
		self:ClickMultiCursor(rel_x - self._display_view.x, false)
	else
		self:ClickMultiCursor(rel_x - self._display_view.x, false)
	end
end

function RichInput:TransToCursor()
	if self._end_cursor_data == "select" then
		self._char_cursor_it = self._char_select_it
	end
	self._char_select_it = self._char_count + 1
	self._is_selecting = false
	self._multi_cursor = false
	self._start_cursor.visible = false
	self._end_cursor.visible = false
	self._cursor.visible = true
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
end

function RichInput:TransToMulti()
	if self._multi_cursor then
		return
	end
	self._is_selecting = true
	self._multi_cursor = true
	self._cursor.visible = false
	self._start_cursor.visible = true
	self._end_cursor.visible = true
	self:ClickMultiCursor(nil, true)
end

function RichInput:OpenIME(x, y, width, height)
	if self._editable then
		if x ~= nil and y ~= nil and width ~= nil and height ~= nil then
			System_SetIMERect(__floor(x), __floor(y), __floor(width), __floor(height))
		else
			local global_x, global_y = self:LocalToGlobal()
			global_x = global_x + self.cursor_x
			global_y = global_y + (self.cursor_y + self.font_size) * self.scale_y
			System_SetIMERect(__floor(global_x), __floor(global_y), 10, __floor(5 + self._ims_padding))
		end
		System_OpenIME()
		self:ResetCursor()
	end
end

function RichInput:CloseIME()
	System_CloseIME()
end

function RichInput:InsertText(display_list, selected)
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self:InsertDisplayListNative(display_list, selected)
	self._is_selecting = false
	self._multi_cursor = false
	self:UpdateFontText()
	self:ResetShowXByCursor()
	self:ResetCursor()
	self:ShowDefaultText()
end

function RichInput:InsertWord(word_text)
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self:InsertTextNative(word_text)
	self._is_selecting = false
	self:TransToCursor()
	self:ShowDefaultText()
end

function RichInput:CopyText(return_cursor)
	if self._password_mode then
		return
	end
	local select_text = self:GetSelectText()
	if select_text[1] ~= nil then
		System_SetClipboardText(json.encode(select_text))
	end
	if return_cursor then
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichInput:CopyWord(return_cursor)
	if self._password_mode then
		return
	end
	local select_text = self:GetSelectWord()
	if select_text ~= nil then
		System_SetClipboardText(select_text)
	end
	if return_cursor then
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichInput:CutText()
	if self._password_mode then
		return
	end
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	local select_text = self:GetSelectText()
	if select_text[1] ~= nil then
		System_SetClipboardText(json.encode(select_text))
		self:DeleteSelectText()
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichInput:CutWord()
	if self._password_mode then
		return
	end
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	local select_text = self:GetSelectWord()
	if select_text ~= nil then
		System_SetClipboardText(select_text)
		self:DeleteSelectText()
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichInput:PasteText()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	if System_HasClipboardText() then
		local content = System_GetClipboardText()
		local error, new_content = Lua.TCall(json.decode, content)
		if error == nil and __type(new_content) == "table" and self:CheckDisplayList(new_content) then
			if self:CheckAtKeyInput(new_content) then
				return
			end
			self:InsertDisplayListNative(new_content, false)
		else
			if self:CheckAtKeyInput(content) then
				return
			end
			self:InsertTextNative(content)
		end
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichInput:PasteWord()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	if System_HasClipboardText() then
		local content = System_GetClipboardText()
		self:InsertTextNative(content)
		self:TransToCursor()
	end
	self:ShowDefaultText()
end

function RichInput:Clear()
	self:ClearCharInfo()
	self:ShowDefaultText()
end

function RichInput:Delete()
	if self._editable == false then
		return
	end
	if self._multi_cursor and self._is_selecting == false then
		return
	end
	self._is_selecting = false
	self:DeleteText(true)
	self:TransToCursor()
	self:ShowDefaultText()
end

function RichInput:GetWord()
	return self:CharInfoListToWord(self._char_info_list)
end

function RichInput:HandleFocusOut(event)
	if self._auto_ims then
		System_CloseIME()
	end
	self._is_focus = false
	if self._focus_cursor then
		if self._multi_cursor == false then
			self._cursor.visible = false
		end
	end
	self:ShowDefaultText()
end

function RichInput:HandleFocusIn(event)
	if self._auto_ims then
		self:OpenIME()
	end
	self._is_focus = true
	self:ResetShowXByCursor()
	self:ResetCursor()
	self:ShowDefaultText()
end

function RichInput:HandleMoveIn(event)
	System_SetEditCursor()
end

function RichInput:HandleMoveOut(event)
	System_SetNormalCursor()
end

function RichInput:HandleLButtonDown(event)
	if self._multi_cursor == false then
		self._is_longclick = false
		if event.rel_x > self._display_view.x and event.rel_x <= self._display_view.x + self._display_view.width and event.rel_y >= self._display_view.y and event.rel_y <= self._display_view.y + self._display_view.height then
			if event.count % 3 == 1 then
				self._is_selecting = false
				self:ClickCursor(event.rel_x - self._display_view.x)
				self:DispatchEvent(___all_struct[-683607428], {})
			elseif event.count % 3 == 2 then
				self._is_selecting = self:ClickWordCursor(event.rel_x - self._display_view.x)
			else
				self._is_selecting = true
				self:SelectAll()
			end
			self._is_click = true
		else
			self._is_click = false
		end
	else
		self._click_drag_delta_x = 0
		self._click_drag_delta_y = 0
		self._is_click = false
		self._is_click_cursor = false
		self._is_click_cursor_name = ""
		self._is_longclick = false
		if self._start_cursor.visible and event.rel_x >= self._start_cursor.x and event.rel_x <= self._start_cursor.x + self._start_cursor.width and event.rel_y >= self._start_cursor.y and event.rel_y <= self._start_cursor.y + self._start_cursor.height then
			self._is_click_cursor = true
			self._is_click_cursor_name = "start"
		elseif self._end_cursor.visible and event.rel_x >= self._end_cursor.x and event.rel_x <= self._end_cursor.x + self._end_cursor.width and event.rel_y >= self._end_cursor.y and event.rel_y <= self._end_cursor.y + self._end_cursor.height then
			self._is_click_cursor = true
			self._is_click_cursor_name = "end"
		else
			if event.rel_x >= self._display_view.x and event.rel_x <= self._display_view.x + self._display_view.width and event.rel_y >= self._display_view.y and event.rel_y <= self._display_view.y + self._display_view.height then
				self._is_click = true
			end
		end
	end
end

function RichInput:HandleLButtonUp(event)
	if self._multi_cursor == true then
		if self._is_click and self._is_longclick == false and self._click_drag_delta_x < 2 and self._click_drag_delta_y < 2 then
			self._multi_cursor = false
			self._start_cursor.visible = false
			self._end_cursor.visible = false
			self._cursor.visible = true
			self:ClickCursor(event.rel_x - self._display_view.x)
			self:DispatchEvent(___all_struct[-683607428], {})
		end
	end
end

function RichInput:CheckAtKeyInput(input_text)
	if input_text ~= "@" then
		return false
	end
	local char_cursor_it = self._char_cursor_it
	if self._char_cursor_it == 1 then
		self:DispatchEvent(___all_struct[1816229739], {})
		return true
	end
	local char_info = self._char_info_list[self._char_cursor_it]
	local forward_text = char_info.text
	if not (self:CharIsNumber(forward_text) or self:CharIsLetter(forward_text)) then
		self:DispatchEvent(___all_struct[1816229739], {})
		return true
	end
	return false
end

function RichInput:HandleTextInput(event)
	local is_change = false
	if self._multi_cursor == false then
		if (self._editable or event.custom) then
			if self:CheckAtKeyInput(event.text) then
				return
			end
			self._is_selecting = false
			is_change = self:InsertTextNative(event.text)
		end
	else
		if self._is_selecting and self._editable then
			self._is_selecting = false
			is_change = self:InsertTextNative(event.text)
			self._multi_cursor = false
		end
	end
	if is_change then
		self:DispatchEvent(___all_struct[958494922], {})
		self:UpdateFontText()
		self:ResetShowXByCursor()
		self:ResetCursor()
		self:ShowDefaultText()
	end
end

function RichInput:HandleKeyDown(event)
	local is_change = false
	if event.sym == 1073741904 then
		if self._multi_cursor == false then
			if bit.band(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
				self._is_selecting = false
				self:CursorOffsetLR(true)
			else
				self._is_selecting = true
				self:SelectCursorOffsetLR(true)
			end
		end
		event.handled = true
	elseif event.sym == 1073741903 then
		if self._multi_cursor == false then
			if bit.band(event.mod, UIEnumTypes.KMOD_SHIFT) == 0 then
				self._is_selecting = false
				self:CursorOffsetLR(false)
			else
				self._is_selecting = true
				self:SelectCursorOffsetLR(false)
			end
		end
		event.handled = true
	elseif event.sym == 8 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				is_change = self:DeleteText(true)
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				is_change = self:DeleteText(true)
				self._multi_cursor = false
			end
		end
		event.handled = true
	elseif event.sym == 127 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				is_change = self:DeleteText(false)
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				is_change = self:DeleteText(false)
				self._multi_cursor = false
			end
		end
		event.handled = true
	elseif event.sym == 1073741898 then
		self._is_selecting = false
		self:ClickCursorToHome()
		event.handled = true
	elseif event.sym == 1073741901 then
		self._is_selecting = false
		self:ClickCursorToEnd()
		event.handled = true
	elseif event.sym == 13 or event.sym == 1073741912 then
		if self._editable or event.custom then
			self._is_selecting = false
			self:DispatchEvent(___all_struct[776398171], {})
			event.handled = true
		end
	elseif event.sym == 120 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._multi_cursor == false then
			if (self._editable or event.custom) and not self._password_mode then
				self._is_selecting = false
				local select_text = self:GetSelectText()
				if select_text[1] ~= nil then
					System_SetClipboardText(json.encode(select_text))
					is_change = self:DeleteSelectText()
				end
			end
		else
			if (self._is_selecting and self._editable) and not self._password_mode then
				self._is_selecting = false
				local select_text = self:GetSelectText()
				if select_text[1] ~= nil then
					System_SetClipboardText(json.encode(select_text))
					is_change = self:DeleteSelectText()
				end
				self._multi_cursor = false
			end
		end
		event.handled = true
	elseif event.sym == 99 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if not self._password_mode then
			local select_text = self:GetSelectText()
			if select_text[1] ~= nil then
				System_SetClipboardText(json.encode(select_text))
			end
		end
		event.handled = true
	elseif event.sym == 118 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		if self._multi_cursor == false then
			if self._editable or event.custom then
				self._is_selecting = false
				if System_HasClipboardText() then
					local content = System_GetClipboardText()
					local error, new_content = Lua.TCall(json.decode, content)
					if error == nil and __type(new_content) == "table" and self:CheckDisplayList(new_content) then
						if self:CheckAtKeyInput(new_content) then
							return
						end
						is_change = self:InsertDisplayListNative(new_content, false)
					else
						if self:CheckAtKeyInput(content) then
							return
						end
						is_change = self:InsertTextNative(content)
					end
				end
			end
		else
			if self._is_selecting and self._editable then
				self._is_selecting = false
				if System_HasClipboardText() then
					local content = System_GetClipboardText()
					local error, new_content = Lua.TCall(json.decode, content)
					if error == nil and __type(new_content) == "table" and self:CheckDisplayList(new_content) then
						is_change = self:InsertDisplayListNative(new_content, false)
					else
						is_change = self:InsertTextNative(content)
					end
				end
				self._multi_cursor = false
			end
		end
		event.handled = true
	elseif event.sym == 97 and bit.band(event.mod, UIEnumTypes.KMOD_CTRL) ~= 0 then
		self._is_selecting = true
		self:SelectAll()
		event.handled = true
	end
	if is_change then
		self:DispatchEvent(___all_struct[958494922], {})
		self._current_flash_alpha = 1.5
		self:UpdateFontText()
		self:ResetShowXByCursor()
		self:ResetCursor()
		self:ShowDefaultText()
	end
end

function RichInput:HandleDragBegin(event)
	if self._can_drag_text == false then
		return
	end
	if self._multi_cursor == false then
		if self._is_click then
			self._is_drag_begin = true
			self._is_selecting = true
			self:DragCursorBegin()
		else
			self._is_drag_begin = false
		end
	else
		if self._is_click_cursor then
			if (self._is_click_cursor_name == "start" and self._start_cursor_data == "select") or (self._is_click_cursor_name == "end" and self._end_cursor_data == "select") then
				local char_temp_it = self._char_select_it
				self._char_select_it = self._char_cursor_it
				self._char_cursor_it = char_temp_it
			end
			if self._is_click_cursor_name == "start" then
				self._drag_delta_x = self._start_cursor.x + self._start_cursor.width - event.rel_x
				self._drag_delta_y = self._start_cursor.y + self._cursor_margin_up + (self._start_cursor.height - self._cursor_margin_up - self._cursor_margin_down) / 2 - event.rel_y
			elseif self._is_click_cursor_name == "end" then
				self._drag_delta_x = self._end_cursor.x - event.rel_x
				self._drag_delta_y = self._end_cursor.y + self._cursor_margin_up + (self._end_cursor.height - self._cursor_margin_up - self._cursor_margin_down) / 2 - event.rel_y
			end
			self._is_drag_begin = true
			self:DispatchEvent(___all_struct[1424993548], {})
		elseif self._is_click then
			self._is_drag_begin = true
			self:DispatchEvent(___all_struct[1424993548], {})
		else
			self._is_drag_begin = false
		end
	end
end

function RichInput:HandleDrag(event)
	if self._can_drag_text == false then
		return
	end
	if self._is_drag_begin == false then
		return
	end
	if self._multi_cursor == false then
		if self._is_selecting == false then
			return
		end
		self:DragCursor(event.rel_x - self._display_view.x)
	else
		if self._is_click_cursor then
			self:DragMultiCursor(event.rel_x - self._display_view.x)
		else
			self._click_drag_delta_x = self._click_drag_delta_x + __abs(event.delta_x)
			self._click_drag_delta_y = self._click_drag_delta_y + __abs(event.delta_y)
			self:DragInput(event.delta_x)
		end
		self:DispatchEvent(___all_struct[-605767802], {})
	end
end

function RichInput:HandleDragEnd(event)
	if self._can_drag_text == false then
		return
	end
	if self._is_drag_begin == false then
		return
	end
	if self._multi_cursor then
		if self._cursor.visible then
			self._multi_cursor = false
		end
		self:DispatchEvent(___all_struct[-884368490], {})
	end
end

function RichInput:HandleLongLButtonDown(event)
	if self._is_click then
		if self.editable == false then
			self._is_selecting = true
			if self._multi_cursor == false then
				self._multi_cursor = true
				self._cursor.visible = false
				self._start_cursor.visible = true
				self._end_cursor.visible = true
				self:ClickMultiCursor(event.rel_x - self._display_view.x, false)
			else
				self:ClickMultiCursor(event.rel_x - self._display_view.x, false)
			end
		else
			self._multi_cursor = false
			self._start_cursor.visible = false
			self._end_cursor.visible = false
			self._cursor.visible = true
			self:ClickCursor(event.rel_x - self._display_view.x)
		end
		local e = {}
		e.target = self
		e.abs_x = event.abs_x
		e.abs_y = event.abs_y
		e.rel_x = event.rel_x
		e.rel_y = event.rel_y
		self:DispatchEvent(___all_struct[1640499878], e)
		self._is_longclick = true
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.Grid3, " extends class:ALittle.Grid3 is nil")
ScrollBar = Lua.Class(ALittle.Grid3, "ALittle.ScrollBar")

function ScrollBar:Ctor(ctrl_sys)
	___rawset(self, "_bar_container", DisplayGroup(self._ctrl_sys))
	self.show_center = self._bar_container
	___rawset(self, "_offset_step", 0)
	___rawset(self, "_offset_rate", 0)
	___rawset(self, "_show_size", 0)
	___rawset(self, "_center_size", 0)
	___rawset(self, "_logic_total_size", 0)
	___rawset(self, "_logic_show_size", 0)
	___rawset(self, "_drag_point_rate", 0)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
end

function ScrollBar.__setter:type(value)
	Grid3.__setter.type(self, value)
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__setter:up_size(value)
	Grid3.__setter.up_size(self, value)
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__setter:down_size(value)
	Grid3.__setter.down_size(self, value)
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__setter:gap(value)
	Grid3.__setter.gap(self, value)
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__setter:total_size(value)
	self._logic_total_size = value
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__getter:total_size()
	return self._logic_total_size
end

function ScrollBar.__setter:show_size(value)
	self._logic_show_size = value
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__getter:show_size()
	return self._logic_show_size
end

function ScrollBar.__setter:offset_rate(value)
	self._offset_rate = value
	if self._offset_rate < 0 then
		self._offset_rate = 0
	elseif self._offset_rate > 1 then
		self._offset_rate = 1
	end
	self:RejustBarButton()
end

function ScrollBar.__getter:offset_rate()
	return self._offset_rate
end

function ScrollBar.__setter:offset_step(value)
	self._offset_step = value
end

function ScrollBar.__getter:offset_step()
	return self._offset_step
end

function ScrollBar:UpdateShowSize()
	self._show_size = 0
	self._center_size = self.center_size
	if self._logic_show_size < self._logic_total_size then
		self._show_size = self._logic_show_size / self._logic_total_size * self._center_size
	end
end

function ScrollBar:SetToDown()
	self._offset_rate = 1
	self:RejustBarButton()
end

function ScrollBar.__setter:width(value)
	if self._width == value then
		return
	end
	Grid3.__setter.width(self, value)
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__setter:height(value)
	if self._height == value then
		return
	end
	Grid3.__setter.height(self, value)
	self:UpdateShowSize()
	self:RejustBarButton()
end

function ScrollBar.__setter:up_button(value)
	if self._up_button ~= nil then
		self._up_button:RemoveEventListener(___all_struct[-449066808], self, self.HandleUpButtonClick)
	end
	self._up_button = value
	self.show_up = value
	if value ~= nil then
		value:AddEventListener(___all_struct[-449066808], self, self.HandleUpButtonClick)
	end
end

function ScrollBar.__getter:up_button()
	return self._up_button
end

function ScrollBar:HandleUpButtonClick(event)
	self._offset_rate = self._offset_rate - self._offset_step
	if self._offset_rate < 0 then
		self._offset_rate = 0
	end
	if self._bar_button ~= nil then
		local offset = self._offset_rate * (self._center_size - self._show_size)
		if self._type == UIEnumTypes.TYPE_V then
			self._bar_button.y = offset
		else
			self._bar_button.x = offset
		end
	end
	self:DispatchEvent(___all_struct[958494922], {})
	self:DispatchEvent(___all_struct[1309977874], {})
end

function ScrollBar.__setter:down_button(value)
	if self._down_button ~= nil then
		self._down_button:RemoveEventListener(___all_struct[-449066808], self, self.HandleDownButtonClick)
	end
	self._down_button = value
	self.show_down = value
	if value ~= nil then
		value:AddEventListener(___all_struct[-449066808], self, self.HandleDownButtonClick)
	end
end

function ScrollBar.__getter:down_button()
	return self._down_button
end

function ScrollBar:HandleDownButtonClick(event)
	self._offset_rate = self._offset_rate + self._offset_step
	if self._offset_rate > 1 then
		self._offset_rate = 1
	end
	if self._bar_button ~= nil then
		local offset = self._offset_rate * (self._center_size - self._show_size)
		if self._type == UIEnumTypes.TYPE_V then
			self._bar_button.y = offset
		else
			self._bar_button.x = offset
		end
	end
	self:DispatchEvent(___all_struct[958494922], {})
	self:DispatchEvent(___all_struct[1309977874], {})
end

function ScrollBar.__setter:bar_button(value)
	if self._bar_button ~= nil then
		self._bar_button:RemoveEventListener(___all_struct[1337289812], self, self.HandleBarButtonDrag)
		self._bar_button:RemoveEventListener(___all_struct[1301789264], self, self.HandleBarButtonDragBegin)
		self._bar_button:RemoveEventListener(___all_struct[150587926], self, self.HandleBarButtonDragEnd)
		self._bar_button:RemoveEventListener(___all_struct[-1737121315], self, self.HandleBarButtonScroll)
		self._bar_container:RemoveChild(self._bar_button)
	end
	self._bar_button = value
	if value ~= nil then
		self._bar_container:AddChild(value)
		value:AddEventListener(___all_struct[1337289812], self, self.HandleBarButtonDrag)
		value:AddEventListener(___all_struct[1301789264], self, self.HandleBarButtonDragBegin)
		value:AddEventListener(___all_struct[150587926], self, self.HandleBarButtonDragEnd)
		value:AddEventListener(___all_struct[-1737121315], self, self.HandleBarButtonScroll)
	end
	self:RejustBarButton()
end

function ScrollBar.__getter:bar_button()
	return self._bar_button
end

function ScrollBar.__setter:bar_background(value)
	if self._bar_background ~= nil then
		self._bar_container:RemoveChild(self._bar_background)
	end
	self._bar_background = value
	if value ~= nil then
		self._bar_container:AddChild(value, 1)
	end
	self:RejustBarButton()
end

function ScrollBar.__getter:bar_background()
	return self._bar_background
end

function ScrollBar:HandleBarButtonDragBegin(event)
	if self._type == UIEnumTypes.TYPE_V then
		local height = self._bar_button.height
		self._drag_point_rate = 0
		if height > 0 then
			self._drag_point_rate = event.rel_y / height
		end
	else
		local width = self._bar_button.width
		self._drag_point_rate = 0
		if width > 0 then
			self._drag_point_rate = event.rel_x / width
		end
	end
end

function ScrollBar:HandleBarButtonScroll(event)
	if self._type == UIEnumTypes.TYPE_V then
		if event.delta_y > 0 then
			self:HandleUpButtonClick(nil)
		elseif event.delta_y < 0 then
			self:HandleDownButtonClick(nil)
		end
	else
		if event.delta_x > 0 then
			self:HandleUpButtonClick(nil)
		elseif event.delta_x < 0 then
			self:HandleDownButtonClick(nil)
		end
	end
end

function ScrollBar:HandleBarButtonDragEnd(event)
	self:DispatchEvent(___all_struct[1309977874], {})
end

function ScrollBar:HandleBarButtonDrag(event)
	local real_size = self._center_size - self._show_size
	if self._type == UIEnumTypes.TYPE_V then
		if (event.delta_y > 0 and event.rel_y < self._show_size * self._drag_point_rate) or (event.delta_y < 0 and event.rel_y > self._show_size * self._drag_point_rate) then
			return
		end
		local offset = (self._bar_button.y + event.delta_y) / real_size
		if offset > 1 then
			offset = 1
		elseif offset < 0 then
			offset = 0
		end
		if self._offset_rate == offset then
			return
		end
		self._offset_rate = offset
		self._bar_button.y = self._offset_rate * real_size
	else
		if (event.delta_x > 0 and event.rel_x < self._show_size * self._drag_point_rate) or (event.delta_x < 0 and event.rel_x > self._show_size * self._drag_point_rate) then
			return
		end
		local offset = (self._bar_button.x + event.delta_x) / real_size
		if offset > 1 then
			offset = 1
		elseif offset < 0 then
			offset = 0
		end
		if self._offset_rate == offset then
			return
		end
		self._offset_rate = offset
		self._bar_button.x = self._offset_rate * real_size
	end
	self:DispatchEvent(___all_struct[958494922], {})
end

function ScrollBar:RejustBarButton()
	local real_size = self._center_size - self._show_size
	if self._type == UIEnumTypes.TYPE_V then
		if self._bar_button ~= nil then
			self._bar_button.x = 0
			self._bar_button.width = self._width
			self._bar_button.y = self._offset_rate * real_size
			self._bar_button.height = self._show_size
		end
		if self._bar_background ~= nil then
			self._bar_background.x = 0
			self._bar_background.y = 0
			self._bar_background.width = self._width
			self._bar_background.height = self._center_size
		end
	else
		if self._bar_button ~= nil then
			self._bar_button.x = self._offset_rate * real_size
			self._bar_button.width = self._show_size
			self._bar_button.y = 0
			self._bar_button.height = self._height
		end
		if self._bar_background ~= nil then
			self._bar_background.x = 0
			self._bar_background.y = 0
			self._bar_background.width = self._center_size
			self._bar_background.height = self._height
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(-2129379001, "ALittle.ScrollButtonDragBeginEvent", {
name = "ALittle.ScrollButtonDragBeginEvent", ns_name = "ALittle", rl_name = "ScrollButtonDragBeginEvent", hash_code = -2129379001,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double"},
option_map = {}
})
RegStruct(-646882501, "ALittle.ScrollButtonDragEvent", {
name = "ALittle.ScrollButtonDragEvent", ns_name = "ALittle", rl_name = "ScrollButtonDragEvent", hash_code = -646882501,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double"},
option_map = {}
})
RegStruct(2101017097, "ALittle.ScrollButtonDragEndEvent", {
name = "ALittle.ScrollButtonDragEndEvent", ns_name = "ALittle", rl_name = "ScrollButtonDragEndEvent", hash_code = 2101017097,
name_list = {"target","rel_x","rel_y","delta_x","delta_y","abs_x","abs_y"},
type_list = {"ALittle.DisplayObject","double","double","double","double","double","double"},
option_map = {}
})

local __abs = Math_Abs
assert(ALittle.TextButton, " extends class:ALittle.TextButton is nil")
ScrollButton = Lua.Class(ALittle.TextButton, "ALittle.ScrollButton")

function ScrollButton:Ctor(ctrl_sys)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	self:AddEventListener(___all_struct[150587926], self, self.HandleDragEnd)
	___rawset(self, "_button_down", false)
	___rawset(self, "_drag_begin_x", 0)
	___rawset(self, "_drag_begin_y", 0)
	___rawset(self, "_btn_drag", false)
	___rawset(self, "_can_drag_trans", true)
	___rawset(self, "_can_set_drag_trans", true)
end

function ScrollButton.__setter:can_drag_trans(value)
	if self._can_set_drag_trans == false then
		return
	end
	self._can_drag_trans = value
end

function ScrollButton.__getter:can_drag_trans()
	return self._can_drag_trans
end

function ScrollButton:HandleDragBegin(event)
	self._drag_begin_x = event.abs_x
	self._drag_begin_y = event.abs_y
end

function ScrollButton:HandleDrag(event)
	if self._btn_drag == false then
		if __abs(event.abs_x - self._drag_begin_x) > 2 or __abs(event.abs_y - self._drag_begin_y) > 2 then
			self._button_down = false
			self:ShowUp(nil)
			local e = {}
			e.target = self
			e.delta_x = event.delta_x
			e.delta_y = event.delta_y
			e.abs_x = event.abs_x
			e.abs_y = event.abs_y
			self:DispatchEvent(___all_struct[-2129379001], e)
			self._can_set_drag_trans = false
			if self._can_drag_trans and self._trans_target["drag"] ~= nil then
				local ue = {}
				ue.target = self._trans_target["drag"]
				ue.delta_x = event.delta_x
				ue.delta_y = event.delta_y
				ue.abs_x = event.abs_x
				ue.abs_y = event.abs_y
				self._trans_target["drag"]:DispatchEvent(___all_struct[-2129379001], e)
			end
			self._btn_drag = true
		end
	elseif self._btn_drag == true then
		local e = {}
		e.target = self
		e.delta_x = event.delta_x
		e.delta_y = event.delta_y
		e.abs_x = event.abs_x
		e.abs_y = event.abs_y
		self:DispatchEvent(___all_struct[-646882501], e)
		if self._can_drag_trans and self._trans_target["drag"] ~= nil then
			local ue = {}
			ue.target = self._trans_target["drag"]
			ue.delta_x = event.delta_x
			ue.delta_y = event.delta_y
			ue.abs_x = event.abs_x
			ue.abs_y = event.abs_y
			self:DispatchEvent(___all_struct[-646882501], e)
		end
	end
end

function ScrollButton:HandleDragEnd(event)
	if self._btn_drag then
		if self._can_drag_trans and self._trans_target["drag"] ~= nil then
			local e = {}
			e.target = self._trans_target["drag"]
			e.delta_x = event.delta_x
			e.delta_y = event.delta_y
			e.abs_x = event.abs_x
			e.abs_y = event.abs_y
			self._trans_target["drag"]:DispatchEvent(___all_struct[150587926], e)
		end
		self._can_set_drag_trans = true
		local e = {}
		e.target = self
		e.delta_x = event.delta_x
		e.delta_y = event.delta_y
		e.abs_x = event.abs_x
		e.abs_y = event.abs_y
		self:DispatchEvent(___all_struct[2101017097], e)
	end
end

function ScrollButton:HandleLButtonDown(event)
	self._drag_begin_x = 0
	self._drag_begin_y = 0
	self._btn_drag = false
	self._button_down = true
	self._button_down_loop = LoopFunction(Lua.Bind(self.HandleLButtonDownFunc, self, nil), 1, 0, 100)
	A_LoopSystem:AddUpdater(self._button_down_loop)
end

function ScrollButton:HandleLButtonUp(event)
	if self._btn_drag then
		return
	end
	if self._button_down == false then
		self:HandleLButtonUpFunc(event)
	else
		self:ShowDown()
		self._button_up_loop = LoopFunction(Lua.Bind(self.HandleLButtonUpFunc, self, event), 1, 0, 60)
		self._button_up_loop:Start()
	end
end

function ScrollButton:DispatchEvent(T, event)
	local rflt = T
	local event_target = self
	if self._trans_target["event"] ~= nil then
		event_target = self._trans_target["event"]
	end
	if event_target._abs_disabled then
		return
	end
	if event_target._abs_disabled then
		return
	end
	local callback_table = event_target._listeners[rflt.name]
	if callback_table == nil then
		return
	end
	for object, callback_value in ___pairs(callback_table) do
		for func, _ in ___pairs(callback_value) do
			func(object, event)
		end
	end
end

function ScrollButton:HandleLButtonDownFunc(event)
	if self._button_down == true then
		self:ShowDown()
		self._button_down = false
	end
	A_LoopSystem:RemoveUpdater(self._button_down_loop)
end

function ScrollButton:HandleLButtonUpFunc(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
	A_LoopSystem:RemoveUpdater(self._button_up_loop)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __floor = Math_Floor
local __remove = List_Remove
local __sin = Math_Sin
assert(ALittle.DisplayView, " extends class:ALittle.DisplayView is nil")
ScrollList = Lua.Class(ALittle.DisplayView, "ALittle.ScrollList")

function ScrollList:Ctor(ctrl_sys)
	___rawset(self, "_width", 0)
	___rawset(self, "_height", 0)
	___rawset(self, "_drag_delta_x", 0)
	___rawset(self, "_drag_delta_y", 0)
	___rawset(self, "_drag_delta_table", {})
	___rawset(self, "_drag_delta_table_count", 0)
	___rawset(self, "_drag_rate", 0.2)
	___rawset(self, "_open_extends_drag", false)
	___rawset(self, "_clip_atonce", false)
	___rawset(self, "_drag_time", 0)
	___rawset(self, "_max_speed", 40)
	___rawset(self, "_type", UIEnumTypes.TYPE_V)
	___rawset(self, "_scroll_linear", Linear(self._ctrl_sys))
	self._scroll_linear.width_type = UIEnumTypes.SIZE_MARGIN
	self._scroll_linear.type = UIEnumTypes.TYPE_V
	DisplayView.AddChild(self, self._scroll_linear)
	self._scroll_linear:AddEventListener(___all_struct[-431205740], self, self.HandleLinearResize)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
	___rawset(self, "_pickup_this", true)
	___rawset(self, "_can_scroll", true)
	self:AddEventListener(___all_struct[-1737121315], self, self.HandleMButtonWheel)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	self:AddEventListener(___all_struct[150587926], self, self.HandleDragEnd)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
	self:RefreshClipDisLine()
end

function ScrollList:GetChildIndex(child)
	return self._scroll_linear:GetChildIndex(child)
end

function ScrollList:SetChildIndex(child, index)
	self._scroll_linear:SetChildIndex(child, index)
	self:RefreshClipDisLine()
	return true
end

function ScrollList:GetChildByIndex(index)
	return self._scroll_linear:GetChildByIndex(index)
end

function ScrollList.__getter:childs()
	return self._scroll_linear.childs
end

function ScrollList.__getter:child_count()
	return self._scroll_linear.child_count
end

function ScrollList.__setter:type(value)
	if self._type == value then
		return
	end
	self._type = value
	if self._type == UIEnumTypes.TYPE_H then
		self._scroll_linear.width_type = UIEnumTypes.SIZE_ABS
		self._scroll_linear.height_type = UIEnumTypes.SIZE_MARGIN
		self._scroll_linear.type = UIEnumTypes.TYPE_H
	else
		self._scroll_linear.width_type = UIEnumTypes.SIZE_MARGIN
		self._scroll_linear.height_type = UIEnumTypes.SIZE_ABS
		self._scroll_linear.type = UIEnumTypes.TYPE_V
	end
	self:RefreshChild(false)
end

function ScrollList.__getter:type()
	return self._type
end

function ScrollList:AddChild(child, index)
	if child == nil then
		return false
	end
	if self._scroll_linear:AddChild(child, index) == false then
		return false
	end
	self:RefreshChild(false)
	return true
end

function ScrollList:RemoveChild(child)
	if child == nil then
		return false
	end
	if self._scroll_linear:RemoveChild(child) == false then
		return false
	end
	self:RefreshChild(false)
	return true
end

function ScrollList:AddChildEffect(child, up)
	if child == nil then
		return false
	end
	if up then
		if self._type == UIEnumTypes.TYPE_H then
			local target_value = self._scroll_linear.x + self._scroll_linear.width
			if self._scroll_linear:AddChild(child, 1) == false then
				return false
			end
			self._scroll_linear.x = target_value - self._scroll_linear.width
		else
			local target_value = self._scroll_linear.y + self._scroll_linear.height
			if self._scroll_linear:AddChild(child, 1) == false then
				return false
			end
			self._scroll_linear.y = target_value - self._scroll_linear.height
		end
	else
		if self._scroll_linear:AddChild(child) == false then
			return false
		end
	end
	self:RefreshChild(false)
	return true
end

function ScrollList:RemoveChildEffect(up, loop)
	if up then
		if self._type == UIEnumTypes.TYPE_H then
			local child = self._scroll_linear:GetChildByIndex(1)
			local target_value = self._scroll_linear.x + self._scroll_linear.width
			if self._scroll_linear:RemoveChild(child) == false then
				return false
			end
			self._scroll_linear.x = target_value - self._scroll_linear.width
		else
			local child = self._scroll_linear:GetChildByIndex(1)
			local target_value = self._scroll_linear.y + self._scroll_linear.height
			if self._scroll_linear:RemoveChild(child) == false then
				return false
			end
			self._scroll_linear.y = target_value - self._scroll_linear.height
		end
	else
		local child = self._scroll_linear:GetChildByIndex(self._scroll_linear.child_count)
		if self._scroll_linear:RemoveChild(child) == false then
			return false
		end
	end
	if loop then
		self:RefreshChild(true)
	else
		self:RefreshChild(false)
	end
	return true
end

function ScrollList:HasChild(child)
	return self._scroll_linear:HasChild(child)
end

function ScrollList:RemoveAllChild()
	if self._type == UIEnumTypes.TYPE_H then
		A_LoopSystem:RemoveUpdater(self._drag_loop_x)
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
		self._scroll_linear.x = 0
	else
		A_LoopSystem:RemoveUpdater(self._drag_loop_y)
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
		self._scroll_linear.y = 0
	end
	self._scroll_linear:RemoveAllChild()
	self:UpdateLoadingShow()
	self:RejustScrollBar()
end

function ScrollList:RefreshChild(loop)
	if self._type == UIEnumTypes.TYPE_H then
		local linear_width = self._scroll_linear.width
		local target_x = nil
		if linear_width >= self._width then
			if self._scroll_linear.x > 0 then
				target_x = 0
			elseif self._scroll_linear.x < -linear_width + self._width then
				target_x = -linear_width + self._width
			end
		else
			target_x = 0
		end
		if target_x == nil or target_x == self._scroll_linear.x then
			A_LoopSystem:RemoveUpdater(self._drag_loop_x)
			self:RefreshClipDisLine()
			self:RejustScrollBar()
			return
		end
		if self._drag_loop_x ~= nil and self._drag_loop_x:IsCompleted() == false then
			local speed = self._drag_loop_x.speed
			local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
			A_LoopSystem:RemoveUpdater(self._drag_loop_x)
			local time = (target_x - self._scroll_linear.x) / speed
			self._drag_loop_x = LoopLinear(self._scroll_linear, "x", target_x, __floor(time), 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_x)
		else
			if loop then
				local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
				A_LoopSystem:RemoveUpdater(self._drag_loop_x)
				self._drag_loop_x = LoopLinear(self._scroll_linear, "x", target_x, 200, 0, func)
				A_LoopSystem:AddUpdater(self._drag_loop_x)
			else
				self._scroll_linear.x = target_x
			end
		end
	else
		local linear_height = self._scroll_linear.height
		local target_y = nil
		if linear_height >= self._height then
			if self._scroll_linear.y > 0 then
				target_y = 0
			elseif self._scroll_linear.y < -linear_height + self._height then
				target_y = -linear_height + self._height
			end
		else
			target_y = 0
		end
		if target_y == nil or target_y == self._scroll_linear.y then
			A_LoopSystem:RemoveUpdater(self._drag_loop_y)
			self:RefreshClipDisLine()
			self:RejustScrollBar()
			return
		end
		if self._drag_loop_y ~= nil and self._drag_loop_y:IsCompleted() == false then
			local speed = self._drag_loop_y.speed
			local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
			A_LoopSystem:RemoveUpdater(self._drag_loop_y)
			local time = (target_y - self._scroll_linear.y) / speed
			self._drag_loop_y = LoopLinear(self._scroll_linear, "y", target_y, __floor(time), 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_y)
		else
			if loop then
				local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
				A_LoopSystem:RemoveUpdater(self._drag_loop_y)
				self._drag_loop_y = LoopLinear(self._scroll_linear, "y", target_y, 200, 0, func)
				A_LoopSystem:AddUpdater(self._drag_loop_y)
			else
				self._scroll_linear.y = target_y
			end
		end
	end
	self:RefreshClipDisLine()
	self:RejustScrollBar()
end

function ScrollList.__setter:clip_atonce(value)
	self._clip_atonce = value
end

function ScrollList.__getter:clip_atonce()
	return self._clip_atonce
end

function ScrollList.__setter:scroll_offset(value)
	if self._type == UIEnumTypes.TYPE_H then
		A_LoopSystem:RemoveUpdater(self._drag_loop_x)
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
		if value > 0 then
			value = 0
		end
		local total_width = self.width
		local linear_width = self._scroll_linear.width
		if total_width < linear_width then
			local delta = total_width - linear_width
			if value < delta then
				value = delta
			end
		end
		self._scroll_linear.x = value
		self:RejustScrollBar()
	else
		A_LoopSystem:RemoveUpdater(self._drag_loop_y)
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
		if value > 0 then
			value = 0
		end
		local total_height = self.height
		local linear_height = self._scroll_linear.height
		if total_height < linear_height then
			local delta = total_height - linear_height
			if value < delta then
				value = delta
			end
		end
		self._scroll_linear.y = value
		self:RejustScrollBar()
	end
end

function ScrollList.__getter:scroll_offset()
	if self._type == UIEnumTypes.TYPE_H then
		return self._scroll_linear.x
	end
	return self._scroll_linear.y
end

function ScrollList:ScrollToBottom()
	if self.height >= self.real_height then
		return
	end
	self.scroll_offset = self.height - self.real_height
end

function ScrollList.__setter:gap(value)
	if value == nil then
		value = 0
	end
	self._scroll_linear.gap = value
	self:RefreshClipDisLine()
	self:RejustScrollBar()
end

function ScrollList.__getter:gap()
	return self._scroll_linear.gap
end

function ScrollList.__getter:real_height()
	return self._scroll_linear.height
end

function ScrollList.__getter:real_width()
	return self._scroll_linear.width
end

function ScrollList.__setter:width(value)
	if self._type == UIEnumTypes.TYPE_V then
		DisplayView.__setter.width(self, value)
		return
	end
	if self._width == value then
		return
	end
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	self._show:SetWidth(self._width)
	if self._scroll_bar ~= nil then
		local linear_width = self._scroll_linear.width
		local rate = self._scroll_bar.offset_rate
		if linear_width < self._width then
			rate = 0
		end
		self._scroll_bar.width = self._width
		self._scroll_bar.total_size = linear_width
		self._scroll_bar.show_size = self._width
		self._scroll_bar.offset_rate = rate
		self._scroll_bar.offset_step = 0.1
		local x = 0.0
		if linear_width > self._width then
			local total_width = linear_width - self._width
			x = -total_width * rate
		end
		self._scroll_linear.x = x
	end
	self:RefreshClipDisLine()
end

function ScrollList.__setter:height(value)
	if self._type == UIEnumTypes.TYPE_H then
		DisplayView.__setter.height(self, value)
		return
	end
	if self._height == value then
		return
	end
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	self._show:SetHeight(self._height)
	if self._scroll_bar ~= nil then
		local linear_height = self._scroll_linear.height
		local rate = self._scroll_bar.offset_rate
		if linear_height < self._height then
			rate = 0
		end
		self._scroll_bar.height = self._height
		self._scroll_bar.total_size = linear_height
		self._scroll_bar.show_size = self._height
		self._scroll_bar.offset_rate = rate
		self._scroll_bar.offset_step = 0.1
		local y = 0.0
		if linear_height > self._height then
			local total_height = linear_height - self._height
			y = -total_height * rate
		end
		self._scroll_linear.y = y
	end
	self:RefreshClipDisLine()
end

function ScrollList.__setter:right_scrollbar(value)
	if self._scroll_bar ~= nil then
		A_LoopSystem:RemoveUpdater(self._scroll_bar_loop)
		DisplayView.RemoveChild(self, self._scroll_bar)
		self._scroll_bar:RemoveEventListener(___all_struct[958494922], self, self.HandleRightScrollBarChange)
		self._scroll_bar:RemoveEventListener(___all_struct[1309977874], self, self.HandleRightScrollBarChangeEnd)
	end
	self._scroll_bar = value
	if self._scroll_bar ~= nil then
		if self._type == UIEnumTypes.TYPE_H then
			self._scroll_bar.alpha = 0
			self._scroll_bar.visible = false
			self._scroll_bar.type = UIEnumTypes.TYPE_H
			self._scroll_bar.y_type = UIEnumTypes.POS_ALIGN_ENDING
			DisplayView.AddChild(self, self._scroll_bar)
			self._scroll_bar:AddEventListener(___all_struct[958494922], self, self.HandleRightScrollBarChange)
			self._scroll_bar:AddEventListener(___all_struct[1309977874], self, self.HandleRightScrollBarChangeEnd)
			self._scroll_bar.width = self._width
			self._scroll_bar.x = 0
			self._scroll_bar.total_size = self._scroll_linear.width
			self._scroll_bar.show_size = self._width
			self._scroll_bar.offset_rate = 0
			self._scroll_bar.offset_step = 0.1
		else
			self._scroll_bar.alpha = 0
			self._scroll_bar.visible = false
			self._scroll_bar.type = UIEnumTypes.TYPE_V
			self._scroll_bar.x_type = UIEnumTypes.POS_ALIGN_ENDING
			DisplayView.AddChild(self, self._scroll_bar)
			self._scroll_bar:AddEventListener(___all_struct[958494922], self, self.HandleRightScrollBarChange)
			self._scroll_bar:AddEventListener(___all_struct[1309977874], self, self.HandleRightScrollBarChangeEnd)
			self._scroll_bar.height = self._height
			self._scroll_bar.y = 0
			self._scroll_bar.total_size = self._scroll_linear.height
			self._scroll_bar.show_size = self._height
			self._scroll_bar.offset_rate = 0
			self._scroll_bar.offset_step = 0.1
		end
	end
end

function ScrollList.__getter:right_scrollbar()
	return self._scroll_bar
end

function ScrollList:RejustScrollBar()
	if self._type == UIEnumTypes.TYPE_H then
		local linear_width = self._scroll_linear.width
		if self._scroll_bar ~= nil then
			local rate = 0.0
			if linear_width <= self._width then
				rate = 0
			else
				rate = -self._scroll_linear.x / (linear_width - self._width)
			end
			self._scroll_bar.width = self._width
			self._scroll_bar.total_size = linear_width
			self._scroll_bar.show_size = self._width
			self._scroll_bar.offset_rate = rate
			self._scroll_bar.offset_step = 0.1
		end
	else
		local linear_height = self._scroll_linear.height
		if self._scroll_bar ~= nil then
			local rate = 0.0
			if linear_height <= self._height then
				rate = 0
			else
				rate = -self._scroll_linear.y / (linear_height - self._height)
			end
			self._scroll_bar.height = self._height
			self._scroll_bar.total_size = linear_height
			self._scroll_bar.show_size = self._height
			self._scroll_bar.offset_rate = rate
			self._scroll_bar.offset_step = 0.1
		end
	end
end

function ScrollList.__getter:loading_show_up()
	return self._loading_show_up
end

function ScrollList.__setter:loading_show_up(value)
	if self._loading_show_up ~= value then
		DisplayView.RemoveChild(self, self._loading_show_up)
		self._loading_show_up = nil
	end
	if value ~= nil then
		self._loading_show_up = value
		DisplayView.AddChild(self, self._loading_show_up)
		if self._type == UIEnumTypes.TYPE_H then
			self._loading_show_up.x = self._scroll_linear.x - self._loading_show_up.width
		else
			self._loading_show_up.y = self._scroll_linear.y - self._loading_show_up.height
		end
	end
end

function ScrollList.__getter:loading_show_down()
	return self._loading_show_down
end

function ScrollList.__setter:loading_show_down(value)
	if self._loading_show_down ~= value then
		DisplayView.RemoveChild(self, self._loading_show_down)
		self._loading_show_down = nil
	end
	if value ~= nil then
		self._loading_show_down = value
		DisplayView.AddChild(self, self._loading_show_down)
		if self._type == UIEnumTypes.TYPE_H then
			self._loading_show_down.x = self._scroll_linear.x + self._scroll_linear.width
		else
			self._loading_show_down.y = self._scroll_linear.y + self._scroll_linear.height
		end
	end
end

function ScrollList:UpdateLoadingShow()
	if self._type == UIEnumTypes.TYPE_H then
		if self._loading_show_up ~= nil then
			self._loading_show_up.x = self._scroll_linear.x - self._loading_show_up.width
		end
		if self._loading_show_down ~= nil then
			self._loading_show_down.x = self._scroll_linear.x + self._scroll_linear.width
		end
	else
		if self._loading_show_up ~= nil then
			self._loading_show_up.y = self._scroll_linear.y - self._loading_show_up.height
		end
		if self._loading_show_down ~= nil then
			self._loading_show_down.y = self._scroll_linear.y + self._scroll_linear.height
		end
	end
end

function ScrollList:Layout(index)
	self._scroll_linear:Layout(index)
	self:RefreshClipDisLine()
end

function ScrollList:DeepLayout()
	self._scroll_linear:DeepLayout()
	self:RefreshClipDisLine()
end

function ScrollList:HandleLinearResize(event)
	self:RejustScrollBar()
	self:RefreshClipDisLine()
end

function ScrollList:HandleRightScrollBarChange(event)
	if self._type == UIEnumTypes.TYPE_H then
		local rate = self._scroll_bar.offset_rate
		local x = 0.0
		local linear_width = self._scroll_linear.width
		if linear_width > self._width then
			local total_width = linear_width - self._width
			x = -total_width * rate
		end
		self._scroll_linear.x = x
	else
		local rate = self._scroll_bar.offset_rate
		local y = 0.0
		local linear_height = self._scroll_linear.height
		if linear_height > self._height then
			local total_height = linear_height - self._height
			y = -total_height * rate
		end
		self._scroll_linear.y = y
	end
	self:RefreshClipDisLine()
	self:ShowRightScrollBar()
end

function ScrollList:HandleRightScrollBarChangeEnd(event)
	self:HideRightScrollBar()
end

function ScrollList:HandleMButtonWheel(event)
	if self._scroll_bar ~= nil and event.delta_y ~= 0 then
		self._scroll_bar.offset_rate = self._scroll_bar.offset_rate - 0.1 * event.delta_y
		self:HandleRightScrollBarChange(nil)
		self:HideRightScrollBar()
	end
end

function ScrollList.__getter:open_extends_drag()
	return self._open_extends_drag
end

function ScrollList.__setter:open_extends_drag(value)
	self._open_extends_drag = value
end

function ScrollList:HandleDragBegin(event)
	self._drag_delta_table = {}
	self._drag_delta_table_count = 0
	A_LoopSystem:RemoveUpdater(self._scroll_bar_loop)
	if self._scroll_bar ~= nil then
		self._scroll_bar.visible = true
		self._scroll_bar.alpha = 1
	end
	if self._type == UIEnumTypes.TYPE_H then
		A_LoopSystem:RemoveUpdater(self._drag_loop_x)
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
	else
		A_LoopSystem:RemoveUpdater(self._drag_loop_y)
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
	end
end

function ScrollList:HandleDrag(event)
	if self._type == UIEnumTypes.TYPE_H then
		if self._drag_delta_table_count < 3 then
			self._drag_delta_table_count = self._drag_delta_table_count + 1
			self._drag_delta_table[self._drag_delta_table_count] = event.delta_x
		else
			__remove(self._drag_delta_table, 1)
			self._drag_delta_table[self._drag_delta_table_count] = event.delta_x
		end
		self._drag_time = Time_GetCurTime()
		local linear_width = self._scroll_linear.width
		if event.delta_x ~= 0 and self._scroll_bar ~= nil then
			if event.delta_x > 0 then
				local min_x = 0.0
				local max_x = self._width * self._drag_rate
				local x = self._scroll_linear.x
				if x > min_x then
					x = x + event.delta_x * __sin((1 - x / (self._width * self._drag_rate)) * 1.57)
					if x > max_x then
						x = max_x
					end
				else
					x = x + (event.delta_x)
				end
				if x >= min_x and not self._open_extends_drag then
					x = min_x
				end
				self._scroll_linear.x = x
				if self._scroll_bar ~= nil then
					self._scroll_bar.offset_rate = -x / (linear_width - self._width)
				end
			else
				local x = self._scroll_linear.x
				if linear_width < self._width then
					x = x + (event.delta_x)
					if x < 0 then
						x = 0
					end
				else
					local max_x = -linear_width + self._width
					local min_x = max_x - self._width * self._drag_rate
					if x < max_x then
						x = x + (event.delta_x * __sin((x - min_x) / (self._width * self._drag_rate) * 1.57))
						if x < min_x then
							x = min_x
						end
					else
						x = x + (event.delta_x)
					end
					if x <= max_x and not self._open_extends_drag then
						x = max_x
					end
				end
				self._scroll_linear.x = x
				if self._scroll_bar ~= nil then
					self._scroll_bar.offset_rate = -x / (linear_width - self._width)
				end
			end
			self:RefreshClipDisLine(event.delta_x)
		end
	else
		if self._drag_delta_table_count < 3 then
			self._drag_delta_table_count = self._drag_delta_table_count + 1
			self._drag_delta_table[self._drag_delta_table_count] = event.delta_y
		else
			__remove(self._drag_delta_table, 1)
			self._drag_delta_table[self._drag_delta_table_count] = event.delta_y
		end
		self._drag_time = Time_GetCurTime()
		local linear_height = self._scroll_linear.height
		if event.delta_y ~= 0 and self._scroll_bar ~= nil then
			if event.delta_y > 0 then
				local min_y = 0.0
				local max_y = self._height * self._drag_rate
				local y = self._scroll_linear.y
				if y > min_y then
					y = y + event.delta_y * __sin((1 - y / (self._height * self._drag_rate)) * 1.57)
					if y > max_y then
						y = max_y
					end
				else
					y = y + (event.delta_y)
				end
				if y >= min_y and not self._open_extends_drag then
					y = min_y
				end
				self._scroll_linear.y = y
				if self._scroll_bar ~= nil then
					self._scroll_bar.offset_rate = -y / (linear_height - self._height)
				end
			else
				local y = self._scroll_linear.y
				if linear_height < self._height then
					y = y + (event.delta_y)
					if y < 0 then
						y = 0
					end
				else
					local max_y = -linear_height + self._height
					local min_y = max_y - self._height * self._drag_rate
					if y < max_y then
						y = y + (event.delta_y * __sin((y - min_y) / (self._height * self._drag_rate) * 1.57))
						if y < min_y then
							y = min_y
						end
					else
						y = y + (event.delta_y)
					end
					if y <= max_y and not self._open_extends_drag then
						y = max_y
					end
				end
				self._scroll_linear.y = y
				if self._scroll_bar ~= nil then
					self._scroll_bar.offset_rate = -y / (linear_height - self._height)
				end
			end
			self:RefreshClipDisLine(event.delta_y)
		end
	end
end

function ScrollList:HandleDragEnd(event)
	if self._type == UIEnumTypes.TYPE_H then
		local linear_width = self._scroll_linear.width
		if self._scroll_linear.x > 0 then
			A_LoopSystem:RemoveUpdater(self._drag_loop_x)
			local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
			self._drag_loop_x = LoopLinear(self._scroll_linear, "x", 0, 200, 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_x)
			self:HideRightScrollBar()
			if self._scroll_linear.x >= self._width * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[1848466169], {})
			end
		elseif self._scroll_linear.x < -linear_width + self._width then
			if self._scroll_linear.x < 0 then
				local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
				A_LoopSystem:RemoveUpdater(self._drag_loop_x)
				self._drag_loop_x = LoopLinear(self._scroll_linear, "x", -linear_width + self._width, 200, 0, func)
				A_LoopSystem:AddUpdater(self._drag_loop_x)
				self:HideRightScrollBar()
			end
			if self._scroll_linear.x <= -linear_width + self._width - self._width * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[809518110], {})
			end
		elseif self._scroll_linear.x ~= 0 and self._scroll_linear.x ~= -linear_width + self._width then
			local count = self._drag_delta_table_count
			local drag_delta_x = 0.0
			local drag_end_time = Time_GetCurTime() - self._drag_time
			if drag_end_time < 50 then
				if count == 1 or count == 2 then
					drag_delta_x = self._drag_delta_table[1]
				elseif count == 3 then
					drag_delta_x = __floor((self._drag_delta_table[count - 1] + self._drag_delta_table[count - 2]) / 2)
				else
					drag_delta_x = 0
				end
			else
				if count ~= 0 then
					drag_delta_x = self._drag_delta_table[count]
				else
					drag_delta_x = 0
				end
			end
			if drag_delta_x < 0 and drag_delta_x < -self._max_speed then
				drag_delta_x = -self._max_speed
			elseif drag_delta_x > 0 and drag_delta_x > self._max_speed then
				drag_delta_x = self._max_speed
			end
			self._drag_delta_x = drag_delta_x
			A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
			self._drag_delta_loop_x = LoopFunction(Lua.Bind(self.RefreshLinearX, self), -1, 1, 0)
			A_LoopSystem:AddUpdater(self._drag_delta_loop_x)
		end
	else
		local linear_height = self._scroll_linear.height
		if self._scroll_linear.y > 0 then
			A_LoopSystem:RemoveUpdater(self._drag_loop_y)
			local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
			self._drag_loop_y = LoopLinear(self._scroll_linear, "y", 0, 200, 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_y)
			self:HideRightScrollBar()
			if self._scroll_linear.y >= self._height * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[1848466169], {})
			end
		elseif self._scroll_linear.y < -linear_height + self._height then
			if self._scroll_linear.y < 0 then
				local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
				A_LoopSystem:RemoveUpdater(self._drag_loop_y)
				self._drag_loop_y = LoopLinear(self._scroll_linear, "y", -linear_height + self._height, 200, 0, func)
				A_LoopSystem:AddUpdater(self._drag_loop_y)
				self:HideRightScrollBar()
			end
			if self._scroll_linear.y <= -linear_height + self._height - self._height * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[809518110], {})
			end
		elseif self._scroll_linear.y ~= 0 and self._scroll_linear.y ~= -linear_height + self._height then
			local count = self._drag_delta_table_count
			local drag_delta_y = 0.0
			local drag_end_time = Time_GetCurTime() - self._drag_time
			if drag_end_time < 50 then
				if count == 1 or count == 2 then
					drag_delta_y = self._drag_delta_table[1]
				elseif count == 3 then
					drag_delta_y = __floor((self._drag_delta_table[count - 1] + self._drag_delta_table[count - 2]) / 2)
				else
					drag_delta_y = 0
				end
			else
				if count ~= 0 then
					drag_delta_y = self._drag_delta_table[count]
				else
					drag_delta_y = 0
				end
			end
			if drag_delta_y < 0 and drag_delta_y < -self._max_speed then
				drag_delta_y = -self._max_speed
			elseif drag_delta_y > 0 and drag_delta_y > self._max_speed then
				drag_delta_y = self._max_speed
			end
			self._drag_delta_y = drag_delta_y
			A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
			self._drag_delta_loop_y = LoopFunction(Lua.Bind(self.RefreshLinearY, self), -1, 1, 0)
			A_LoopSystem:AddUpdater(self._drag_delta_loop_y)
		end
	end
end

function ScrollList:RefreshLinearX()
	self._scroll_linear.x = self._scroll_linear.x + self._drag_delta_x
	local linear_width = self._scroll_linear.width
	local loop_end = false
	if self._drag_delta_x ~= 0 and self._scroll_bar ~= nil then
		if self._drag_delta_x > 0 then
			local min_x = 0.0
			local max_x = self._width * self._drag_rate
			local x = self._scroll_linear.x
			if x > min_x then
				x = x + self._drag_delta_x * __sin((1 - x / (self._width * self._drag_rate)) * 1.57)
				if x > max_x then
					x = max_x
					loop_end = true
				end
			else
				x = x + (self._drag_delta_x)
			end
			if x >= min_x and not self._open_extends_drag then
				x = min_x
			end
			self._scroll_linear.x = x
			if self._scroll_bar ~= nil then
				self._scroll_bar.offset_rate = -x / (linear_width - self._width)
			end
		else
			local x = self._scroll_linear.x
			if linear_width < self._width then
				x = x + (self._drag_delta_x)
				if x < 0 then
					x = 0
				end
			else
				local max_x = -linear_width + self._width
				local min_x = max_x - self._width * self._drag_rate
				if x < max_x then
					x = x + (self._drag_delta_x * __sin((x - min_x) / (self._width * self._drag_rate) * 1.57))
					if x < min_x then
						x = min_x
						loop_end = true
					end
				else
					x = x + (self._drag_delta_x)
				end
				if x <= max_x and not self._open_extends_drag then
					x = max_x
				end
			end
			self._scroll_linear.x = x
			if self._scroll_bar ~= nil then
				self._scroll_bar.offset_rate = -x / (linear_width - self._width)
			end
		end
		self:RefreshClipDisLine()
	end
	if self._drag_delta_x < 0 then
		self._drag_delta_x = self._drag_delta_x + 1
		if self._drag_delta_x >= 0 then
			loop_end = true
		end
	elseif self._drag_delta_x > 0 then
		self._drag_delta_x = self._drag_delta_x - 1
		if self._drag_delta_x <= 0 then
			loop_end = true
		end
	else
		loop_end = true
	end
	if loop_end then
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
		if self._scroll_linear.x > 0 then
			local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
			A_LoopSystem:RemoveUpdater(self._drag_loop_x)
			self._drag_loop_x = LoopLinear(self._scroll_linear, "x", 0, 200, 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_x)
			if self._scroll_linear.x >= self._width * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[1848466169], {})
			end
		elseif self._scroll_linear.x < -linear_width + self._width then
			if self._scroll_linear.x < 0 then
				local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
				A_LoopSystem:RemoveUpdater(self._drag_loop_x)
				self._drag_loop_x = LoopLinear(self._scroll_linear, "x", -linear_width + self._width, 200, 0, func)
				A_LoopSystem:AddUpdater(self._drag_loop_x)
			end
			if self._scroll_linear.x <= -linear_width + self._width - self._width * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[809518110], {})
			end
		end
		self:HideRightScrollBar()
	end
end

function ScrollList:RefreshLinearY()
	self._scroll_linear.y = self._scroll_linear.y + self._drag_delta_y
	local linear_height = self._scroll_linear.height
	local loop_end = false
	if self._drag_delta_y ~= 0 and self._scroll_bar ~= nil then
		if self._drag_delta_y > 0 then
			local min_y = 0.0
			local max_y = self._height * self._drag_rate
			local y = self._scroll_linear.y
			if y > min_y then
				y = y + (self._drag_delta_y * __sin((1 - y / (self._height * self._drag_rate)) * 1.57))
				if y > max_y then
					y = max_y
					loop_end = true
				end
			else
				y = y + (self._drag_delta_y)
			end
			if y >= min_y and not self._open_extends_drag then
				y = min_y
			end
			self._scroll_linear.y = y
			if self._scroll_bar ~= nil then
				self._scroll_bar.offset_rate = -y / (linear_height - self._height)
			end
		else
			local y = self._scroll_linear.y
			if linear_height < self._height then
				y = y + (self._drag_delta_y)
				if y < 0 then
					y = 0
				end
			else
				local max_y = -linear_height + self._height
				local min_y = max_y - self._height * self._drag_rate
				if y < max_y then
					y = y + (self._drag_delta_y * __sin((y - min_y) / (self._height * self._drag_rate) * 1.57))
					if y < min_y then
						y = min_y
						loop_end = true
					end
				else
					y = y + (self._drag_delta_y)
				end
				if y <= max_y and not self._open_extends_drag then
					y = max_y
				end
			end
			self._scroll_linear.y = y
			if self._scroll_bar ~= nil then
				self._scroll_bar.offset_rate = -y / (linear_height - self._height)
			end
		end
		self:RefreshClipDisLine()
	end
	if self._drag_delta_y < 0 then
		self._drag_delta_y = self._drag_delta_y + 1
		if self._drag_delta_y >= 0 then
			loop_end = true
		end
	elseif self._drag_delta_y > 0 then
		self._drag_delta_y = self._drag_delta_y - 1
		if self._drag_delta_y <= 0 then
			loop_end = true
		end
	else
		loop_end = true
	end
	if loop_end then
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
		if self._scroll_linear.y > 0 then
			local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
			A_LoopSystem:RemoveUpdater(self._drag_loop_y)
			self._drag_loop_y = LoopLinear(self._scroll_linear, "y", 0, 200, 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_y)
			if self._scroll_linear.y >= self._height * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[1848466169], {})
			end
		elseif self._scroll_linear.y < -linear_height + self._height then
			if self._scroll_linear.y < 0 then
				local func = Lua.Bind(ScrollList.RefreshClipDisLine, self, nil)
				A_LoopSystem:RemoveUpdater(self._drag_loop_y)
				self._drag_loop_y = LoopLinear(self._scroll_linear, "y", -linear_height + self._height, 200, 0, func)
				A_LoopSystem:AddUpdater(self._drag_loop_y)
			end
			if self._scroll_linear.y <= -linear_height + self._height - self._height * self._drag_rate * 0.9 then
				self:DispatchEvent(___all_struct[809518110], {})
			end
		end
		self:HideRightScrollBar()
	end
end

function ScrollList:YScrollBarChange()
	self._scroll_bar.offset_rate = -self._scroll_linear.y / (self._linear_height - self._height)
end

function ScrollList:XScrollBarChange()
	self._scroll_bar.offset_rate = -self._scroll_linear.x / (self._linear_width - self._width)
end

function ScrollList:RefreshClipDisLineImpl(v_move)
	self._scroll_linear:ClipRect(0, 0, self.width, self.height, nil, v_move)
	self._clip_loop = nil
end

function ScrollList:RefreshClipDisLine(v_move)
	self:UpdateLoadingShow()
	if self._clip_atonce then
		self._scroll_linear:ClipRect(0, 0, self.width, self.height, nil, nil)
		return
	end
	if self._clip_loop ~= nil and self._clip_loop._user_data == nil then
		return
	end
	self._clip_loop = LoopFunction(Lua.Bind(self.RefreshClipDisLineImpl, self, v_move), 1, 0, 1)
	self._clip_loop._user_data = v_move
	A_LoopSystem:AddUpdater(self._clip_loop)
end

function ScrollList:HideRightScrollBar()
	if self._scroll_bar ~= nil then
		self._scroll_bar_loop = LoopList()
		self._scroll_bar_loop:AddUpdater(LoopLinear(self._scroll_bar, "alpha", 0, 2000, 1000))
		self._scroll_bar_loop:AddUpdater(LoopAttribute(self._scroll_bar, "visible", false, 1))
		A_LoopSystem:AddUpdater(self._scroll_bar_loop)
	end
end

function ScrollList:ShowRightScrollBar()
	if self._scroll_bar_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._scroll_bar_loop)
		self._scroll_bar_loop = nil
		if self._scroll_bar ~= nil then
			self._scroll_bar.visible = true
			self._scroll_bar.alpha = 1
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __sin = Math_Sin
assert(ALittle.DisplayGroup, " extends class:ALittle.DisplayGroup is nil")
ScrollScreen = Lua.Class(ALittle.DisplayGroup, "ALittle.ScrollScreen")

function ScrollScreen:Ctor(ctrl_sys)
	___rawset(self, "_width", 0)
	___rawset(self, "_height", 0)
	___rawset(self, "_content_width", 0)
	___rawset(self, "_content_height", 0)
	___rawset(self, "_drag_rate", 0.2)
	___rawset(self, "_open_extends_drag", false)
	___rawset(self, "_drag_delta_x", 0)
	___rawset(self, "_drag_delta_y", 0)
	___rawset(self, "_scroll_view", DisplayView(self._ctrl_sys))
	DisplayGroup.AddChild(self, self._scroll_view)
	___rawset(self, "_scroll_content", DisplayGroup(self._ctrl_sys))
	self._scroll_view:AddChild(self._scroll_content)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
	___rawset(self, "_pickup_this", true)
	___rawset(self, "_can_scroll", true)
	self:AddEventListener(___all_struct[-1737121315], self, self.HandleMButtonWheel)
	self:AddEventListener(___all_struct[1337289812], self, self.HandleDrag)
	self:AddEventListener(___all_struct[150587926], self, self.HandleDragEnd)
	self:AddEventListener(___all_struct[1301789264], self, self.HandleDragBegin)
end

function ScrollScreen:HandleMButtonWheel(event)
	if self._bottom_scroll_bar ~= nil and event.delta_x ~= 0 then
		self._bottom_scroll_bar.offset_rate = self._bottom_scroll_bar.offset_rate - 0.1 * event.delta_x
	end
	if self._right_scroll_bar ~= nil and event.delta_y ~= 0 then
		self._right_scroll_bar.offset_rate = self._right_scroll_bar.offset_rate - 0.1 * event.delta_y
	end
	self:RejustScrollBar()
end

function ScrollScreen.__getter:open_extends_drag()
	return self._open_extends_drag
end

function ScrollScreen.__setter:open_extends_drag(value)
	self._open_extends_drag = value
end

function ScrollScreen.__getter:container()
	return self._scroll_content
end

function ScrollScreen.__getter:view()
	return self._scroll_view
end

function ScrollScreen.__setter:container(value)
	if value == nil then
		value = DisplayGroup(self._ctrl_sys)
	end
	local child_list = {}
	local child_list_count = 0
	local old_child_list = self._scroll_content.childs
	for k, v in ___ipairs(old_child_list) do
		child_list_count = child_list_count + 1
		child_list[child_list_count] = v
	end
	self._scroll_content:RemoveEventListener(___all_struct[-431205740], self, self.HandleContainerResize)
	self._scroll_view:RemoveChild(self._scroll_content)
	self._scroll_content = value
	for k, v in ___ipairs(child_list) do
		value:AddChild(v)
	end
	self._scroll_content:AddEventListener(___all_struct[-431205740], self, self.HandleContainerResize)
	self._scroll_view:AddChild(self._scroll_content, 1)
	self:RejustScrollBar()
end

function ScrollScreen.__setter:container_y(value)
	if self._scroll_content == nil then
		return
	end
	self._scroll_content.y = value
	self:YScrollBarChange()
	self:RejustScrollBar()
end

function ScrollScreen.__getter:container_y()
	if self._scroll_content == nil then
		return 0
	end
	return self._scroll_content.y
end

function ScrollScreen.__setter:container_x(value)
	if self._scroll_content == nil then
		return
	end
	self._scroll_content.x = value
	self:XScrollBarChange()
	self:RejustScrollBar()
end

function ScrollScreen.__getter:container_x()
	if self._scroll_content == nil then
		return 0
	end
	return self._scroll_content.x
end

function ScrollScreen.__getter:static_object_h()
	return self._static_object_h
end

function ScrollScreen.__setter:static_object_h(value)
	if self._static_object_h == value then
		return
	end
	self._scroll_view:RemoveChild(self._static_object_h)
	self._static_object_h = value
	if self._static_object_h == nil then
		return
	end
	self._scroll_view:AddChild(self._static_object_h, 3)
	self._static_object_h.y = 0
	self._static_object_h.x = self._scroll_content.x
end

function ScrollScreen.__getter:static_object_v()
	return self._static_object_v
end

function ScrollScreen.__setter:static_object_v(value)
	if self._static_object_v == value then
		return
	end
	self._scroll_view:RemoveChild(self._static_object_v)
	self._static_object_v = value
	if self._static_object_v == nil then
		return
	end
	self._scroll_view:AddChild(self._static_object_v, 2)
	self._static_object_v.y = self._scroll_content.y
	self._static_object_v.x = 0
end

function ScrollScreen.__getter:static_object_hv()
	return self._static_object_hv
end

function ScrollScreen.__setter:static_object_hv(value)
	if self._static_object_hv == value then
		return
	end
	self._scroll_view:RemoveChild(self._static_object_hv)
	self._static_object_hv = value
	if self._static_object_hv == nil then
		return
	end
	self._scroll_view:AddChild(self._static_object_hv, 3)
	self._static_object_hv.y = 0
	self._static_object_hv.x = 0
end

function ScrollScreen:GetChildIndex(child)
	return self._scroll_content:GetChildIndex(child)
end

function ScrollScreen:SetChildIndex(child, index)
	return self._scroll_content:SetChildIndex(child, index)
end

function ScrollScreen:GetChildByIndex(index)
	return self._scroll_content:GetChildByIndex(index)
end

function ScrollScreen.__getter:childs()
	return self._scroll_content.childs
end

function ScrollScreen.__getter:child_count()
	return self._scroll_content.child_count
end

function ScrollScreen:AddChild(child, index)
	if child == nil then
		return false
	end
	if self._scroll_content:AddChild(child, index) == false then
		return false
	end
	self:RejustScrollBar()
	return true
end

function ScrollScreen:RemoveChild(child)
	if child == nil then
		return false
	end
	if self._scroll_content:RemoveChild(child) == false then
		return false
	end
	self:RejustScrollBar()
	return true
end

function ScrollScreen:HasChild(child)
	return self._scroll_content:HasChild(child)
end

function ScrollScreen:RemoveAllChild()
	A_LoopSystem:RemoveUpdater(self._drag_loop_x)
	A_LoopSystem:RemoveUpdater(self._drag_loop_y)
	A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
	A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
	A_LoopSystem:RemoveUpdater(self._x_type_dispatch)
	A_LoopSystem:RemoveUpdater(self._y_type_dispatch)
	self._scroll_content:RemoveAllChild()
	self:RejustScrollBar()
end

function ScrollScreen.__setter:width(value)
	if self._width == value then
		return
	end
	self._width = value
	if self._width_type == UIEnumTypes.SIZE_ABS then
		self._width_value = self._width
	end
	local width = 0.0
	if self._right_scroll_bar ~= nil then
		width = self._right_scroll_bar.width
	end
	local remain_width = self._width - width
	if remain_width < 0 then
		self._scroll_view.width = self._width
		if self._right_scroll_bar ~= nil then
			self._right_scroll_bar.visible = false
			self._right_scroll_bar.x = self._width
			self._right_scroll_bar.y = 0
		end
	else
		self._scroll_view.width = remain_width
		if self._right_scroll_bar ~= nil then
			self._right_scroll_bar.visible = true
			self._right_scroll_bar.x = remain_width
			self._right_scroll_bar.y = 0
		end
	end
	if self._right_scroll_bar ~= nil then
		self._right_scroll_bar.height = self._scroll_view.height
	end
	if self._bottom_scroll_bar ~= nil then
		local rate = self._bottom_scroll_bar.offset_rate
		if self._content_width < self._scroll_view.width then
			rate = 0
		end
		self._bottom_scroll_bar.width = self._scroll_view.width
		self._bottom_scroll_bar.total_size = self._content_width
		self._bottom_scroll_bar.show_size = self._scroll_view.width
		self._bottom_scroll_bar.offset_rate = rate
		self._bottom_scroll_bar.offset_step = 0.1
		local x = 0.0
		local content_width = self._content_width
		if content_width > self._scroll_view.width then
			local total_width = content_width - self._scroll_view.width
			x = -total_width * rate
		end
		self._scroll_content.x = x
		if self._static_object_h ~= nil then
			self._static_object_h.x = x
		end
	end
end

function ScrollScreen.__setter:height(value)
	if self._height == value then
		return
	end
	self._height = value
	if self._height_type == UIEnumTypes.SIZE_ABS then
		self._height_value = self._height
	end
	local height = 0.0
	if self._bottom_scroll_bar ~= nil then
		height = self._bottom_scroll_bar.height
	end
	local remain_height = self._height - height
	if remain_height < 0 then
		self._scroll_view.height = self._height
		if self._bottom_scroll_bar ~= nil then
			self._bottom_scroll_bar.visible = false
			self._bottom_scroll_bar.y = self._height
		end
	else
		self._scroll_view.height = remain_height
		if self._bottom_scroll_bar ~= nil then
			self._bottom_scroll_bar.visible = true
			self._bottom_scroll_bar.y = remain_height
		end
	end
	if self._bottom_scroll_bar ~= nil then
		self._bottom_scroll_bar.width = self._scroll_view.width
	end
	if self._right_scroll_bar ~= nil then
		local rate = self._right_scroll_bar.offset_rate
		if self._content_height < self._scroll_view.height then
			rate = 0
		end
		self._right_scroll_bar.height = self._scroll_view.height
		self._right_scroll_bar.total_size = self._content_height
		self._right_scroll_bar.show_size = self._scroll_view.height
		self._right_scroll_bar.offset_rate = rate
		self._right_scroll_bar.offset_step = 0.1
		local y = 0.0
		local content_height = self._content_height
		if content_height > self._scroll_view.height then
			local total_height = content_height - self._scroll_view.height
			y = -total_height * rate
		end
		self._scroll_content.y = y
		if self._static_object_v ~= nil then
			self._static_object_v.y = y
		end
	end
end

function ScrollScreen.__getter:view_width()
	return self._scroll_view.width
end

function ScrollScreen.__getter:view_height()
	return self._scroll_view.height
end

function ScrollScreen.__setter:right_scrollbar(value)
	if self._right_scroll_bar ~= nil then
		DisplayGroup.RemoveChild(self, self._right_scroll_bar)
		self._right_scroll_bar:RemoveEventListener(___all_struct[958494922], self, self.HandleRightScrollBarChange)
	end
	self._right_scroll_bar = value
	local width = 0.0
	if self._right_scroll_bar ~= nil then
		self._right_scroll_bar.type = UIEnumTypes.TYPE_V
		width = self._right_scroll_bar.width
		DisplayGroup.AddChild(self, self._right_scroll_bar)
		self._right_scroll_bar:AddEventListener(___all_struct[958494922], self, self.HandleRightScrollBarChange)
		self._right_scroll_bar.height = self._scroll_view.height
		self._right_scroll_bar.y = 0
	end
	local remain_width = self._width - width
	if remain_width < 0 then
		self._scroll_view.width = self._width
		if self._right_scroll_bar ~= nil then
			self._right_scroll_bar.visible = false
			self._right_scroll_bar.x = self._width
		end
	else
		self._scroll_view.width = remain_width
		if self._right_scroll_bar ~= nil then
			self._right_scroll_bar.visible = true
			self._right_scroll_bar.x = remain_width
		end
	end
	if self._right_scroll_bar ~= nil then
		self._right_scroll_bar.total_size = self._content_height
		self._right_scroll_bar.show_size = self._scroll_view.height
		self._right_scroll_bar.offset_rate = 0
		self._right_scroll_bar.offset_step = 0.1
	end
	if self._bottom_scroll_bar ~= nil then
		local rate = self._bottom_scroll_bar.offset_rate
		if self._content_width < self._scroll_view.width then
			rate = 0
		end
		self._bottom_scroll_bar.width = self._scroll_view.width
		self._bottom_scroll_bar.total_size = self._content_width
		self._bottom_scroll_bar.show_size = self._scroll_view.width
		self._bottom_scroll_bar.offset_rate = rate
		self._bottom_scroll_bar.offset_step = 0.1
	end
end

function ScrollScreen.__getter:right_scrollbar()
	return self._right_scroll_bar
end

function ScrollScreen.__setter:bottom_scrollbar(value)
	if self._bottom_scroll_bar ~= nil then
		DisplayGroup.RemoveChild(self, self._bottom_scroll_bar)
		self._bottom_scroll_bar:RemoveEventListener(___all_struct[958494922], self, self.HandleBottomScrollBarChange)
	end
	self._bottom_scroll_bar = value
	local height = 0.0
	if self._bottom_scroll_bar ~= nil then
		self._bottom_scroll_bar.type = UIEnumTypes.TYPE_H
		height = self._bottom_scroll_bar.height
		DisplayGroup.AddChild(self, self._bottom_scroll_bar)
		self._bottom_scroll_bar:AddEventListener(___all_struct[958494922], self, self.HandleBottomScrollBarChange)
		self._bottom_scroll_bar.width = self._scroll_view.width
		self._bottom_scroll_bar.x = 0
	end
	local remain_height = self._height - height
	if remain_height < 0 then
		self._scroll_view.height = self._height
		if self._bottom_scroll_bar ~= nil then
			self._bottom_scroll_bar.visible = false
			self._bottom_scroll_bar.y = self._height
		end
	else
		self._scroll_view.height = remain_height
		if self._bottom_scroll_bar ~= nil then
			self._bottom_scroll_bar.visible = true
			self._bottom_scroll_bar.y = remain_height
		end
	end
	if self._bottom_scroll_bar ~= nil then
		self._bottom_scroll_bar.total_size = self._content_width
		self._bottom_scroll_bar.show_size = self._scroll_view.width
		self._bottom_scroll_bar.offset_rate = 0
		self._bottom_scroll_bar.offset_step = 0.1
	end
	if self._right_scroll_bar ~= nil then
		local rate = self._right_scroll_bar.offset_rate
		if self._content_height < self._scroll_view.height then
			rate = 0
		end
		self._right_scroll_bar.height = self._scroll_view.height
		self._right_scroll_bar.total_size = self._content_height
		self._right_scroll_bar.show_size = self._scroll_view.height
		self._right_scroll_bar.offset_rate = rate
		self._right_scroll_bar.offset_step = 0.1
	end
end

function ScrollScreen.__getter:bottom_scrollbar()
	return self._bottom_scroll_bar
end

function ScrollScreen:RejustScrollBar()
	self._content_width = self._scroll_content.max_right
	if self._static_object_h ~= nil then
		if self._static_object_h.width > self._content_width then
			self._content_width = self._static_object_h.width
		end
	end
	self._content_height = self._scroll_content.max_bottom
	if self._bottom_scroll_bar ~= nil then
		local rate = self._bottom_scroll_bar.offset_rate
		if self._content_width < self._scroll_view.width then
			rate = 0
		end
		self._bottom_scroll_bar.total_size = self._content_width
		self._bottom_scroll_bar.show_size = self._scroll_view.width
		self._bottom_scroll_bar.offset_rate = rate
		self._bottom_scroll_bar.offset_step = 0.1
		self:HandleBottomScrollBarChange(nil)
	end
	if self._right_scroll_bar ~= nil then
		local rate = self._right_scroll_bar.offset_rate
		if self._content_height < self._scroll_view.height then
			rate = 0
		end
		self._right_scroll_bar.height = self._scroll_view.height
		self._right_scroll_bar.total_size = self._content_height
		self._right_scroll_bar.show_size = self._scroll_view.height
		self._right_scroll_bar.offset_rate = rate
		self._right_scroll_bar.offset_step = 0.1
		self:HandleRightScrollBarChange(nil)
	end
end

function ScrollScreen:HandleRightScrollBarChange(event)
	local rate = self._right_scroll_bar.offset_rate
	local y = 0.0
	local content_height = self._content_height
	if content_height > self._scroll_view.height then
		local total_height = content_height - self._scroll_view.height
		y = -total_height * rate
	end
	self._scroll_content.y = y
	if self._static_object_v ~= nil then
		self._static_object_v.y = y
	end
end

function ScrollScreen:HandleBottomScrollBarChange(event)
	local rate = self._bottom_scroll_bar.offset_rate
	local x = 0.0
	local content_width = self._content_width
	if content_width > self._scroll_view.width then
		local total_width = content_width - self._scroll_view.width
		x = -total_width * rate
	end
	self._scroll_content.x = x
	if self._static_object_h ~= nil then
		self._static_object_h.x = x
	end
end

function ScrollScreen:HandleContainerResize(event)
	self:RejustScrollBar()
end

function ScrollScreen:HandleDragBegin(event)
end

function ScrollScreen:HandleDrag(event)
	self._drag_delta_x = event.delta_x
	self._drag_delta_y = event.delta_y
	self._content_width = self._scroll_content.max_right
	if self._static_object_h ~= nil then
		if self._static_object_h.width > self._content_width then
			self._content_width = self._static_object_h.width
		end
	end
	self._content_height = self._scroll_content.max_bottom
	if event.delta_x ~= 0 and self._bottom_scroll_bar ~= nil then
		if event.delta_x > 0 then
			local min_x = 0.0
			local max_x = self._scroll_view.width * self._drag_rate
			local x = self._scroll_content.x
			if x > min_x then
				x = x + event.delta_x * __sin((1 - x / (self._scroll_view.width * self._drag_rate)) * 1.57)
				if x > max_x then
					x = max_x
				end
			else
				x = x + event.delta_x
			end
			if self._open_extends_drag == false and x > min_x then
				x = min_x
			end
			self._scroll_content.x = x
			if self._static_object_h ~= nil then
				self._static_object_h.x = x
			end
			if self._bottom_scroll_bar ~= nil then
				self._bottom_scroll_bar.offset_rate = -x / (self._content_width - self._scroll_view.width)
			end
		else
			local x = self._scroll_content.x
			if self._content_width < self._scroll_view.width then
				x = x + event.delta_x
				if x < 0 then
					x = 0
				end
			else
				local max_x = -self._content_width + self._scroll_view.width
				local min_x = max_x - self._scroll_view.width * self._drag_rate
				if x < max_x then
					x = x + event.delta_x * __sin((x - min_x) / (self._scroll_view.width * self._drag_rate) * 1.57)
					if x < min_x then
						x = min_x
					end
				else
					x = x + event.delta_x
				end
				if self._open_extends_drag == false and x < max_x then
					x = max_x
				end
			end
			self._scroll_content.x = x
			if self._static_object_h ~= nil then
				self._static_object_h.x = x
			end
			if self._bottom_scroll_bar ~= nil then
				self._bottom_scroll_bar.offset_rate = -x / (self._content_width - self._scroll_view.width)
			end
		end
	end
	if event.delta_y ~= 0 and self._right_scroll_bar ~= nil then
		if event.delta_y > 0 then
			local min_y = 0.0
			local max_y = self._scroll_view.height * self._drag_rate
			local y = self._scroll_content.y
			if y > min_y then
				y = y + event.delta_y * __sin((1 - y / (self._scroll_view.height * self._drag_rate)) * 1.57)
				if y > max_y then
					y = max_y
				end
			else
				y = y + event.delta_y
			end
			if self._open_extends_drag == false and y > min_y then
				y = min_y
			end
			self._scroll_content.y = y
			if self._static_object_v ~= nil then
				self._static_object_v.y = y
			end
			if self._right_scroll_bar ~= nil then
				self._right_scroll_bar.offset_rate = -y / (self._content_height - self._scroll_view.height)
			end
		else
			local y = self._scroll_content.y
			if self._content_height < self._scroll_view.height then
				y = y + event.delta_y
				if y < 0 then
					y = 0
				end
			else
				local max_y = -self._content_height + self._scroll_view.height
				local min_y = max_y - self._scroll_view.height * self._drag_rate
				if y < max_y then
					y = y + event.delta_y * __sin((y - min_y) / (self._scroll_view.height * self._drag_rate) * 1.57)
					if y < min_y then
						y = min_y
					end
				else
					y = y + event.delta_y
				end
				if self._open_extends_drag == false and y < max_y then
					y = max_y
				end
			end
			self._scroll_content.y = y
			if self._static_object_v ~= nil then
				self._static_object_v.y = y
			end
			if self._right_scroll_bar ~= nil then
				self._right_scroll_bar.offset_rate = -y / (self._content_height - self._scroll_view.height)
			end
		end
	end
end

function ScrollScreen:HandleDragEnd(event)
	self._content_width = self._scroll_content.max_right
	if self._static_object_h ~= nil then
		if self._static_object_h.width > self._content_width then
			self._content_width = self._static_object_h.width
		end
	end
	self._content_height = self._scroll_content.max_bottom
	if self._scroll_content.x > 0 then
		if self._scroll_content.x >= self._scroll_view.width * self._drag_rate * 0.9 then
			self:DispatchEvent(___all_struct[-839083637], {})
		end
		local func = nil
		if self._static_object_h ~= nil then
			func = Lua.Bind(ScrollScreen.XStaticObjectChange, self)
		end
		A_LoopSystem:RemoveUpdater(self._drag_loop_x)
		self._drag_loop_x = LoopLinear(self._scroll_content, "x", 0, 200, 0, func)
		A_LoopSystem:AddUpdater(self._drag_loop_x)
	elseif self._scroll_content.x < -self._content_width + self._scroll_view.width then
		if self._scroll_content.x <= -self._content_width + self._scroll_view.width - self._scroll_view.width * self._drag_rate * 0.9 then
			self:DispatchEvent(___all_struct[-567702959], {})
		end
		if self._scroll_content.x < 0 then
			local func = nil
			if self._static_object_h ~= nil then
				func = Lua.Bind(ScrollScreen.XStaticObjectChange, self)
			end
			A_LoopSystem:RemoveUpdater(self._drag_loop_x)
			self._drag_loop_x = LoopLinear(self._scroll_content, "x", -self._content_width + self._scroll_view.width, 200, 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_x)
		end
	elseif self._scroll_content.x ~= 0 and self._scroll_content.x ~= -self._content_width + self._scroll_view.width then
		local target_x = self._scroll_content.x + self._drag_delta_x * 10
		local event_dispatch = nil
		if self._drag_delta_x < 0 then
			local max_x = -self._content_width + self._scroll_view.width
			local min_x = max_x - self._scroll_view.width * self._drag_rate
			if target_x < min_x then
				target_x = min_x
				event_dispatch = Lua.Bind(ScrollScreen.ScrollDispatchDragLeftEvent, self)
			end
			if target_x >= min_x and target_x <= max_x then
				local func = nil
				if self._static_object_h ~= nil then
					func = Lua.Bind(ScrollScreen.XStaticObjectChange, self)
				end
				A_LoopSystem:RemoveUpdater(self._drag_loop_x)
				self._drag_loop_x = LoopLinear(self._scroll_content, "x", -self._content_width + self._scroll_view.width, 200, 300, func)
				A_LoopSystem:AddUpdater(self._drag_loop_x)
			end
		elseif self._drag_delta_x > 0 then
			local max_x = self._scroll_view.width * self._drag_rate
			local min_x = 0
			if target_x > max_x then
				target_x = max_x
				event_dispatch = Lua.Bind(ScrollScreen.ScrollDispatchDragRightEvent, self)
			end
			if target_x >= min_x and target_x <= max_x then
				local func = nil
				if self._static_object_h ~= nil then
					func = Lua.Bind(ScrollScreen.XStaticObjectChange, self)
				end
				A_LoopSystem:RemoveUpdater(self._drag_loop_x)
				self._drag_loop_x = LoopLinear(self._scroll_content, "x", 0, 200, 300, func)
				A_LoopSystem:AddUpdater(self._drag_loop_x)
			end
		end
		local func = nil
		if self._static_object_h ~= nil and self._bottom_scroll_bar == nil then
			func = Lua.Bind(ScrollScreen.XStaticObjectChange, self)
		elseif self._static_object_h == nil and self._bottom_scroll_bar ~= nil then
			func = Lua.Bind(ScrollScreen.XScrollBarChange, self)
		elseif self._static_object_h ~= nil and self._bottom_scroll_bar ~= nil then
			func = Lua.Bind(ScrollScreen.XStaticObjectAndScrollBarChange, self)
		end
		A_LoopSystem:RemoveUpdater(self._x_type_dispatch)
		if event_dispatch ~= nil then
			self._x_type_dispatch = LoopFunction(event_dispatch, 1, 0, 300)
			A_LoopSystem:AddUpdater(self._x_type_dispatch)
		end
		if self._open_extends_drag == false then
			if target_x > 0 then
				target_x = 0
			elseif target_x < -self._content_width + self._scroll_view.width then
				target_x = -self._content_width + self._scroll_view.width
			end
		end
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_x)
		self._drag_delta_loop_x = LoopRit(self._scroll_content, "x", target_x, 300, 0, func)
		A_LoopSystem:AddUpdater(self._drag_delta_loop_x)
	end
	if self._scroll_content.y > 0 then
		if self._scroll_content.y >= self._scroll_view.height * self._drag_rate * 0.9 then
			self:DispatchEvent(___all_struct[1848466169], {})
		end
		local func = nil
		if self._static_object_v ~= nil then
			func = Lua.Bind(ScrollScreen.YStaticObjectChange, self)
		end
		A_LoopSystem:RemoveUpdater(self._drag_loop_y)
		self._drag_loop_y = LoopLinear(self._scroll_content, "y", 0, 200, 0, func)
		A_LoopSystem:AddUpdater(self._drag_loop_y)
	elseif self._scroll_content.y < -self._content_height + self._scroll_view.height then
		if self._scroll_content.y <= -self._content_height + self._scroll_view.height - self._scroll_view.height * self._drag_rate * 0.9 then
			self:DispatchEvent(___all_struct[809518110], {})
		end
		if self._scroll_content.y < 0 then
			local func = nil
			if self._static_object_v ~= nil then
				func = Lua.Bind(ScrollScreen.YStaticObjectChange, self)
			end
			A_LoopSystem:RemoveUpdater(self._drag_loop_y)
			self._drag_loop_y = LoopLinear(self._scroll_content, "y", -self._content_height + self._scroll_view.height, 200, 0, func)
			A_LoopSystem:AddUpdater(self._drag_loop_y)
		end
	elseif self._scroll_content.y ~= 0 and self._scroll_content.y ~= -self._content_height + self._scroll_view.height then
		local event_dispatch = nil
		local target_y = self._scroll_content.y + self._drag_delta_y * 10
		if self._drag_delta_y < 0 then
			local max_y = -self._content_height + self._scroll_view.height
			local min_y = max_y - self._scroll_view.height * self._drag_rate
			if target_y < min_y then
				target_y = min_y
				event_dispatch = Lua.Bind(ScrollScreen.ScrollDispatchDragUpEvent, self)
			end
			if target_y >= min_y and target_y <= max_y then
				local func = nil
				if self._static_object_v ~= nil then
					func = Lua.Bind(ScrollScreen.YStaticObjectChange, self)
				end
				A_LoopSystem:RemoveUpdater(self._drag_loop_y)
				self._drag_loop_y = LoopLinear(self._scroll_content, "y", -self._content_height + self._scroll_view.height, 200, 300, func)
				A_LoopSystem:AddUpdater(self._drag_loop_y)
			end
		elseif self._drag_delta_y > 0 then
			local max_y = self._scroll_view.height * self._drag_rate
			local min_y = 0.0
			if target_y > max_y then
				target_y = max_y
				event_dispatch = Lua.Bind(ScrollScreen.ScrollDispatchDragDownEvent, self)
			end
			if target_y >= min_y and target_y <= max_y then
				local func = nil
				if self._static_object_v ~= nil then
					func = Lua.Bind(ScrollScreen.YStaticObjectChange, self)
				end
				A_LoopSystem:RemoveUpdater(self._drag_loop_y)
				self._drag_loop_y = LoopLinear(self._scroll_content, "y", 0, 200, 300, func)
				A_LoopSystem:AddUpdater(self._drag_loop_y)
			end
		end
		local func = nil
		if self._static_object_v ~= nil and self._right_scroll_bar == nil then
			func = Lua.Bind(ScrollScreen.YStaticObjectChange, self)
		elseif self._static_object_v == nil and self._right_scroll_bar ~= nil then
			func = Lua.Bind(ScrollScreen.YScrollBarChange, self)
		elseif self._static_object_v ~= nil and self._right_scroll_bar ~= nil then
			func = Lua.Bind(ScrollScreen.YStaticObjectAndScrollBarChange, self)
		end
		A_LoopSystem:RemoveUpdater(self._y_type_dispatch)
		if event_dispatch ~= nil then
			self._y_type_dispatch = LoopFunction(event_dispatch, 1, 0, 300)
			A_LoopSystem:AddUpdater(self._y_type_dispatch)
		end
		if self._open_extends_drag == false then
			if target_y > 0 then
				target_y = 0
			elseif target_y < -self._content_height + self._scroll_view.height then
				target_y = -self._content_height + self._scroll_view.height
			end
		end
		A_LoopSystem:RemoveUpdater(self._drag_delta_loop_y)
		self._drag_delta_loop_y = LoopRit(self._scroll_content, "y", target_y, 300, 0, func)
		A_LoopSystem:AddUpdater(self._drag_delta_loop_y)
	end
	self._drag_delta_x = 0
	self._drag_delta_y = 0
end

function ScrollScreen:XStaticObjectAndScrollBarChange()
	self._static_object_h.x = self._scroll_content.x
	self._bottom_scroll_bar.offset_rate = -self._scroll_content.x / (self._content_width - self._scroll_view.width)
end

function ScrollScreen:XStaticObjectChange()
	self._static_object_h.x = self._scroll_content.x
end

function ScrollScreen:YStaticObjectAndScrollBarChange()
	self._static_object_v.y = self._scroll_content.y
	self._right_scroll_bar.offset_rate = -self._scroll_content.y / (self._content_height - self._scroll_view.height)
end

function ScrollScreen:YStaticObjectChange()
	self._static_object_v.y = self._scroll_content.y
end

function ScrollScreen:XScrollBarChange()
	self._bottom_scroll_bar.offset_rate = -self._scroll_content.x / (self._content_width - self._scroll_view.width)
end

function ScrollScreen:YScrollBarChange()
	self._right_scroll_bar.offset_rate = -self._scroll_content.y / (self._content_height - self._scroll_view.height)
end

function ScrollScreen:ScrollDispatchDragDownEvent()
	self:DispatchEvent(___all_struct[1848466169], {})
end

function ScrollScreen:ScrollDispatchDragUpEvent()
	self:DispatchEvent(___all_struct[809518110], {})
end

function ScrollScreen:ScrollDispatchDragLeftEvent()
	self:DispatchEvent(___all_struct[-567702959], {})
end

function ScrollScreen:ScrollDispatchDragRightEvent()
	self:DispatchEvent(___all_struct[-839083637], {})
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
Slider = Lua.Class(ALittle.DisplayLayout, "ALittle.Slider")

function Slider:Ctor(ctrl_sys)
	___rawset(self, "_pickup_rect", false)
	___rawset(self, "_type", UIEnumTypes.TYPE_V)
	___rawset(self, "_offset_rate", 0)
	___rawset(self, "_drag_point_rate", 0)
	___rawset(self, "_fixed", UIEnumTypes.FREE)
	___rawset(self, "_grade", 2)
	___rawset(self, "_grade_list", {})
end

function Slider.__setter:width(value)
	DisplayLayout.__setter.width(self, value)
	self:RejustBarButton()
end

function Slider.__setter:height(value)
	DisplayLayout.__setter.height(self, value)
	self:RejustBarButton()
end

function Slider.__getter:width()
	return self._width
end

function Slider.__getter:height()
	return self._height
end

function Slider.__setter:type(value)
	if self._type == value then
		return
	end
	self._type = value
	self:RejustBarButton()
end

function Slider.__getter:type()
	return self._type
end

function Slider.__setter:offset_rate(value)
	self._offset_rate = value
	if self._offset_rate < 0 then
		self._offset_rate = 0
	elseif self._offset_rate > 1 then
		self._offset_rate = 1
	end
	self:RejustBarButton()
end

function Slider.__getter:offset_rate()
	return self._offset_rate
end

function Slider.__setter:grade_value(value)
	if self._fixed == UIEnumTypes.FREE then
		self.offset_rate = value
		return
	end
	self.offset_rate = (math.floor(value) - 1) / (self.grade - 1)
end

function Slider.__getter:grade_value()
	if self._fixed == UIEnumTypes.FREE then
		return self._offset_rate
	end
	return math.floor(self._offset_rate * (self._grade - 1)) + 1
end

function Slider.__setter:bar_background(value)
	if self._bar_background ~= nil then
		self._bar_background:RemoveEventListener(___all_struct[1883782801], self, self.HandleBarBackgroudLButtonDown)
		self:RemoveChild(self._bar_background)
	end
	self._bar_background = value
	if value ~= nil then
		self:AddChild(value, 1)
		value:AddEventListener(___all_struct[1883782801], self, self.HandleBarBackgroudLButtonDown)
	end
	self:RejustBarButton()
end

function Slider:HandleBarBackgroudLButtonDown(event)
	local rel_x = event.rel_x
	local rel_y = event.rel_y
	local real_width = self.width
	local real_height = self.height
	local bar_width = self._bar_button.width
	local bar_height = self._bar_button.height
	if self._type == UIEnumTypes.TYPE_V then
		local offset = rel_y / real_height
		if offset > 1 then
			offset = 1
		elseif offset < 0 then
			offset = 0
		end
		if self._fixed == UIEnumTypes.FREE then
			if self._offset_rate == offset then
				return
			end
			self._offset_rate = offset
			self._bar_button.y = self._offset_rate * real_height - bar_height / 2
		else
			local offset_grade = (1 / (self._grade - 1)) / 2
			local offset_up = offset + offset_grade
			local offset_down = offset - offset_grade
			for k, v in ___ipairs(self._grade_list) do
				if v > offset_down and v <= offset_up then
					self._offset_rate = v
					self._bar_button.y = self._offset_rate * real_height - bar_height / 2
					break
				end
			end
		end
	else
		local offset = rel_x / real_width
		if offset > 1 then
			offset = 1
		elseif offset < 0 then
			offset = 0
		end
		if self._fixed == UIEnumTypes.FREE then
			if self._offset_rate == offset then
				return
			end
			self._offset_rate = offset
			self._bar_button.x = self._offset_rate * real_width - bar_width / 2
		else
			local offset_grade = (1 / (self._grade - 1)) / 2
			local offset_up = offset + offset_grade
			local offset_down = offset - offset_grade
			for k, v in ___ipairs(self._grade_list) do
				if v > offset_down and v <= offset_up then
					self._offset_rate = v
					self._bar_button.x = self._offset_rate * real_width - bar_width / 2
					break
				end
			end
		end
	end
	self:DispatchEvent(___all_struct[958494922], {})
end

function Slider.__getter:bar_background()
	return self._bar_background
end

function Slider.__setter:bar_button(value)
	if self._bar_button ~= nil then
		self._bar_button:RemoveEventListener(___all_struct[1337289812], self, self.HandleBarButtonDrag)
		self._bar_button:RemoveEventListener(___all_struct[1301789264], self, self.HandleBarButtonDragBegin)
		self._bar_button:RemoveEventListener(___all_struct[-1737121315], self, self.HandleBarButtonScroll)
		self:RemoveChild(self._bar_button)
	end
	self._bar_button = value
	if value ~= nil then
		self:AddChild(value)
		value:AddEventListener(___all_struct[1337289812], self, self.HandleBarButtonDrag)
		value:AddEventListener(___all_struct[1301789264], self, self.HandleBarButtonDragBegin)
		value:AddEventListener(___all_struct[-1737121315], self, self.HandleBarButtonScroll)
		value._can_scroll = true
	end
	self:RejustBarButton()
end

function Slider.__getter:bar_button()
	return self._bar_button
end

function Slider.__setter:fixed(value)
	if self._fixed == value then
		return
	end
	self._fixed = value
	if self._fixed == UIEnumTypes.FIXED and self._grade ~= nil then
		self._grade_list = {}
		self._grade_list[1] = 0
		local dist = 1 / (self._grade - 1)
		local i = 1
		while true do
			if not(i <= self._grade - 2) then break end
			self._grade_list[i + 1] = i * dist
			i = i+(1)
		end
		local num = table.maxn(self._grade_list)
		self._grade_list[num + 1] = 1
	end
	self:RejustBarButton()
end

function Slider.__getter:fixed()
	return self._fixed
end

function Slider.__setter:grade(value)
	if self._grade == value or value < 2 then
		return
	end
	self._grade = value
	if self._fixed == UIEnumTypes.FIXED and value ~= nil then
		self._grade_list = {}
		self._grade_list[1] = 0
		local dist = 1 / (value - 1)
		local i = 1
		while true do
			if not(i <= value - 2) then break end
			self._grade_list[i + 1] = i * dist
			i = i+(1)
		end
		local num = table.maxn(self._grade_list)
		self._grade_list[num + 1] = 1
	end
	self:RejustBarButton()
end

function Slider.__getter:grade()
	return self._grade
end

function Slider:HandleBarButtonDragBegin(event)
	local rel_x
	local rel_y
	rel_x, rel_y = self._bar_button:GlobalToLocalMatrix2D(event.abs_x, event.abs_y)
	if self._type == UIEnumTypes.TYPE_V then
		local height = self._bar_button.height
		self._drag_point_rate = 0
		if height > 0 then
			self._drag_point_rate = rel_y / height
		end
	else
		local width = self._bar_button.width
		self._drag_point_rate = 0
		if width > 0 then
			self._drag_point_rate = rel_x / width
		end
	end
end

function Slider:HandleBarButtonDrag(event)
	local rel_x
	local rel_y
	rel_x, rel_y = self._bar_button:GlobalToLocalMatrix2D(event.abs_x, event.abs_y)
	local abs_x
	local abs_y
	abs_x, abs_y = self._bar_background:GlobalToLocalMatrix2D(event.abs_x, event.abs_y)
	local real_width = self.width
	local real_height = self.height
	local bar_width = self._bar_button.width
	local bar_height = self._bar_button.height
	if self._type == UIEnumTypes.TYPE_V then
		if self._fixed == UIEnumTypes.FREE then
			if (event.delta_y > 0 and rel_y < bar_height * self._drag_point_rate) or (event.delta_y < 0 and rel_y > bar_height * self._drag_point_rate) then
				return
			end
			local offset = (self._bar_button.y + bar_height / 2 + event.delta_y) / real_height
			if offset > 1 then
				offset = 1
			elseif offset < 0 then
				offset = 0
			end
			if self._offset_rate == offset then
				return
			end
			self._offset_rate = offset
			self._bar_button.y = self._offset_rate * real_height - bar_height / 2
		else
			local offset = abs_y / real_height
			if offset > 1 then
				offset = 1
			elseif offset < 0 then
				offset = 0
			end
			local offset_grade = (1 / (self._grade - 1)) / 2
			local offset_up = offset + offset_grade
			local offset_down = offset - offset_grade
			for k, v in ___ipairs(self._grade_list) do
				if v > offset_down and v <= offset_up then
					self._offset_rate = v
					self._bar_button.y = self._offset_rate * real_height - bar_height / 2
					break
				end
			end
		end
	else
		if self._fixed == UIEnumTypes.FREE then
			if (event.delta_x > 0 and rel_x < bar_height * self._drag_point_rate) or (event.delta_x < 0 and rel_x > bar_height * self._drag_point_rate) then
				return
			end
			local offset = (self._bar_button.x + bar_width / 2 + event.delta_x) / real_width
			if offset > 1 then
				offset = 1
			elseif offset < 0 then
				offset = 0
			end
			if self._offset_rate == offset then
				return
			end
			self._offset_rate = offset
			self._bar_button.x = self._offset_rate * real_width - bar_width / 2
		else
			local offset = abs_x / real_width
			if offset > 1 then
				offset = 1
			elseif offset < 0 then
				offset = 0
			end
			local offset_grade = (1 / (self._grade - 1)) / 2
			local offset_up = offset + offset_grade
			local offset_down = offset - offset_grade
			for k, v in ___ipairs(self._grade_list) do
				if v > offset_down and v <= offset_up then
					self._offset_rate = v
					self._bar_button.x = self._offset_rate * real_width - bar_width / 2
					break
				end
			end
		end
	end
	self:DispatchEvent(___all_struct[958494922], {})
end

function Slider:HandleBarButtonScroll(event)
	local step = nil
	if self._fixed == UIEnumTypes.FREE then
		step = 0.01
	else
		step = 1 / (self._grade - 1)
	end
	if self._type == UIEnumTypes.TYPE_V then
		if event.delta_y > 0 then
			self:HandleUpDownButton(-1 * step)
		elseif event.delta_y < 0 then
			self:HandleUpDownButton(step)
		end
	else
		if event.delta_x > 0 then
			self:HandleUpDownButton(-1 * step)
		elseif event.delta_x < 0 then
			self:HandleUpDownButton(step)
		end
	end
end

function Slider:HandleUpDownButton(step)
	self._offset_rate = self._offset_rate + step
	if self._offset_rate < 0 then
		self._offset_rate = 0
	end
	if self._offset_rate > 1 then
		self._offset_rate = 1
	end
	if self._type == UIEnumTypes.TYPE_V then
		self._bar_button.y = self._offset_rate * self.height - self._bar_button.height / 2
	else
		self._bar_button.x = self._offset_rate * self.width - self._bar_button.width / 2
	end
	self:DispatchEvent(___all_struct[958494922], {})
end

function Slider:RejustBarButton()
	if self._bar_background ~= nil then
		self._bar_background.x = 0
		self._bar_background.y = 0
		self._bar_background.width = self.width
		self._bar_background.height = self.height
	end
	if self._bar_button ~= nil then
		if self._type == UIEnumTypes.TYPE_V then
			self._bar_button.x_type = UIEnumTypes.POS_ALIGN_CENTER
			self._bar_button.x_value = 0
			self._bar_button.y_type = UIEnumTypes.POS_ABS
			self._bar_button.y_value = self._offset_rate * self.height - self._bar_button.height / 2
		else
			self._bar_button.x_type = UIEnumTypes.POS_ABS
			self._bar_button.x_value = self._offset_rate * self.width - self._bar_button.width / 2
			self._bar_button.y_type = UIEnumTypes.POS_ALIGN_CENTER
			self._bar_button.y_value = 0
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.Sprite, " extends class:ALittle.Sprite is nil")
SpritePlay = Lua.Class(ALittle.Sprite, "ALittle.SpritePlay")

function SpritePlay:Ctor(ctrl_sys)
	___rawset(self, "_interval", 0)
	___rawset(self, "_play_index", 0)
end

function SpritePlay.__setter:interval(value)
	if self._interval == value then
		return
	end
	self._interval = value
	self:Play()
end

function SpritePlay.__getter:interval()
	return self._interval
end

function SpritePlay:Play()
	if self._play_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._play_loop)
		self._play_loop = nil
	end
	self._play_index = 0
	self._row_index = 1
	self._col_index = 1
	self._play_loop = LoopFunction(Lua.Bind(self.PlayUpdate, self), -1, self._interval, 0)
	A_LoopSystem:AddUpdater(self._play_loop)
end

function SpritePlay:Stop()
	if self._play_loop ~= nil then
		A_LoopSystem:RemoveUpdater(self._play_loop)
		self._play_loop = nil
	end
end

function SpritePlay:PlayUpdate()
	local total_count = self._row_count * self._col_count
	self._play_index = self._play_index + 1
	self._play_index = self._play_index % total_count
	self.row_index = math.floor(self._play_index / self._row_count) + 1
	self.col_index = self._play_index % self._col_count + 1
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(-18570489, "ALittle.UITabCloseEvent", {
name = "ALittle.UITabCloseEvent", ns_name = "ALittle", rl_name = "UITabCloseEvent", hash_code = -18570489,
name_list = {"target"},
type_list = {"ALittle.DisplayObject"},
option_map = {}
})

assert(ALittle.Grid3, " extends class:ALittle.Grid3 is nil")
Tab = Lua.Class(ALittle.Grid3, "ALittle.Tab")

function Tab:Ctor(ctrl_sys)
	___rawset(self, "_button_inner_gap", 8)
	___rawset(self, "_child_id_map", CreateKeyWeakMap())
	___rawset(self, "_group_name", A_TextRadioButtonManager:CreateGroupName())
	self.type = UIEnumTypes.TYPE_V
	___rawset(self, "_view", DisplayView(self._ctrl_sys))
	self._view.height_type = UIEnumTypes.SIZE_MARGIN
	self._view.width_type = UIEnumTypes.SIZE_MARGIN
	___rawset(self, "_linear", Linear(self._ctrl_sys))
	self._linear.type = UIEnumTypes.TYPE_H
	self._linear.height_type = UIEnumTypes.SIZE_MARGIN
	self._linear.y_type = UIEnumTypes.POS_ALIGN_ENDING
	self._view:AddChild(self._linear)
	___rawset(self, "_view_start", 0)
	___rawset(self, "_view_margin", 0)
	local show_up = DisplayLayout(self._ctrl_sys)
	show_up:AddChild(self._view)
	self.show_up = show_up
	self.show_center = DisplayLayout(self._ctrl_sys)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", true)
	___rawset(self, "_tab_index", 0)
	___rawset(self, "_child_width_margin", 0)
end

function Tab:RefreshView()
	if self._radiobutton_style == nil or self._text_style == nil or self._closebutton_style == nil or self._selected_text_style == nil or self._selected_closebutton_style == nil then
		return
	end
	local child_list = self._linear.childs
	for k, v in ___ipairs(child_list) do
		local childs = v.childs
		childs[1]:RemoveEventListener(___all_struct[958494922], self, self.HandleRadioButtonChanged)
		childs[1]:RemoveEventListener(___all_struct[1337289812], self, self.HandleRadioButtonDrag)
		childs[1]:RemoveEventListener(___all_struct[1301789264], self, self.HandleRadioButtonDragBegin)
		childs[1]:RemoveEventListener(___all_struct[150587926], self, self.HandleRadioButtonDragEnd)
		childs[1]:RemoveEventListener(___all_struct[-1330840], self, self.HandleRadioButtonMClick)
		childs[1]:RemoveEventListener(___all_struct[-641444818], self, self.HandleRadioButtonRButtonDown)
		childs[1]:RemoveEventListener(___all_struct[-1604617962], self, self.HandleRadioButtonKeyDown)
		childs[3]:RemoveEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
		childs[5]:RemoveEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
		childs[1].group_name = nil
	end
	self._linear:RemoveAllChild()
	local show_center = self.show_center
	child_list = show_center.childs
	for k, v in ___ipairs(child_list) do
		local radiobutton = self._ctrl_sys:CreateControl(self._radiobutton_style)
		local text = self._ctrl_sys:CreateControl(self._text_style)
		local closebutton = self._ctrl_sys:CreateControl(self._closebutton_style)
		local selected_text = self._ctrl_sys:CreateControl(self._selected_text_style)
		local selected_closebutton = self._ctrl_sys:CreateControl(self._selected_closebutton_style)
		if radiobutton ~= nil and text ~= nil and closebutton ~= nil and selected_text ~= nil and selected_closebutton ~= nil then
			local simplelayout = DisplayLayout(self._ctrl_sys)
			radiobutton.selected = (self._tab_index == k)
			radiobutton:AddEventListener(___all_struct[958494922], self, self.HandleRadioButtonChanged)
			radiobutton:AddEventListener(___all_struct[1337289812], self, self.HandleRadioButtonDrag)
			radiobutton:AddEventListener(___all_struct[1301789264], self, self.HandleRadioButtonDragBegin)
			radiobutton:AddEventListener(___all_struct[150587926], self, self.HandleRadioButtonDragEnd)
			radiobutton:AddEventListener(___all_struct[-1330840], self, self.HandleRadioButtonMClick)
			radiobutton:AddEventListener(___all_struct[-641444818], self, self.HandleRadioButtonRButtonDown)
			radiobutton:AddEventListener(___all_struct[-1604617962], self, self.HandleRadioButtonKeyDown)
			radiobutton.group_name = self._group_name
			radiobutton.width_type = UIEnumTypes.SIZE_MARGIN
			radiobutton.height_type = UIEnumTypes.SIZE_MARGIN
			v.visible = radiobutton.selected
			text.text = self._child_id_map[v]
			text.disabled = true
			text.y_type = UIEnumTypes.POS_ALIGN_CENTER
			text.y_value = 2
			text.x = self._button_inner_gap
			text.visible = not radiobutton.selected
			selected_text.text = self._child_id_map[v]
			selected_text.disabled = true
			selected_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
			selected_text.y_value = 2
			selected_text.x = self._button_inner_gap
			selected_text.visible = radiobutton.selected
			closebutton:AddEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
			closebutton.y_type = UIEnumTypes.POS_ALIGN_CENTER
			closebutton.y_value = 2
			closebutton.x = text.x + text.width + self._button_inner_gap
			closebutton.visible = not radiobutton.selected
			selected_closebutton:AddEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
			selected_closebutton.y_type = UIEnumTypes.POS_ALIGN_CENTER
			selected_closebutton.y_value = 2
			selected_closebutton.x = selected_text.x + selected_text.width + self._button_inner_gap
			selected_closebutton.visible = radiobutton.selected
			simplelayout.width = self._button_inner_gap * 3 + text.width + closebutton.width
			self._linear:AddChild(simplelayout)
			simplelayout:AddChild(radiobutton)
			simplelayout:AddChild(text)
			simplelayout:AddChild(closebutton)
			simplelayout:AddChild(selected_text)
			simplelayout:AddChild(selected_closebutton)
		end
	end
end

function Tab.__setter:radiobutton_style(value)
	if self._radiobutton_style == value then
		return
	end
	self._radiobutton_style = value
	self:RefreshView()
end

function Tab.__getter:radiobutton_style()
	return self._radiobutton_style
end

function Tab.__setter:closebutton_style(value)
	if self._closebutton_style == value then
		return
	end
	self._closebutton_style = value
	self:RefreshView()
end

function Tab.__getter:closebutton_style()
	return self._closebutton_style
end

function Tab.__setter:selected_closebutton_style(value)
	if self._selected_closebutton_style == value then
		return
	end
	self._selected_closebutton_style = value
	self:RefreshView()
end

function Tab.__getter:selected_closebutton_style()
	return self._selected_closebutton_style
end

function Tab.__setter:text_style(value)
	if self._text_style == value then
		return
	end
	self._text_style = value
	self:RefreshView()
end

function Tab.__getter:text_style()
	return self._text_style
end

function Tab.__setter:selected_text_style(value)
	if self._selected_text_style == value then
		return
	end
	self._selected_text_style = value
	self:RefreshView()
end

function Tab.__getter:selected_text_style()
	return self._selected_text_style
end

function Tab.__setter:show_head_background(value)
	if self._head_background ~= nil then
		self._view:RemoveChild(self._head_background)
	end
	self._head_background = value
	if self._head_background ~= nil then
		self._head_background.width_type = UIEnumTypes.SIZE_MARGIN
		self._head_background.width_value = 0
		self._head_background.height_type = UIEnumTypes.SIZE_MARGIN
		self._head_background.height_value = 0
		self._view:AddChild(self._head_background, 1)
	end
end

function Tab.__getter:show_head_background()
	return self._head_background
end

function Tab.__setter:button_gap(value)
	self._linear.gap = value
end

function Tab.__getter:button_gap()
	return self._linear.gap
end

function Tab.__setter:button_start(value)
	self._view.x = value
end

function Tab.__getter:button_start()
	return self._view.x
end

function Tab.__setter:button_margin(value)
	self._linear.height_value = value
end

function Tab.__getter:button_margin()
	return self._linear.height_value
end

function Tab.__setter:child_width_margin(value)
	self._child_width_margin = value
	local show_center = self.show_center
	local childs = show_center.childs
	for k, v in ___ipairs(childs) do
		v.width_value = self._child_width_margin
	end
end

function Tab.__getter:child_width_margin()
	return self._child_width_margin
end

function Tab.__setter:head_size(value)
	self.up_size = value
end

function Tab.__getter:head_size()
	return self.up_size
end

function Tab.__setter:close_callback(value)
	self._close_callback = value
end

function Tab.__getter:close_callback()
	return self._close_callback
end

function Tab.__setter:close_post_callback(value)
	self._close_post_callback = value
end

function Tab.__getter:close_post_callback()
	return self._close_post_callback
end

function Tab.__setter:drag_callback(value)
	self._drag_callback = value
end

function Tab.__getter:drag_callback()
	return self._drag_callback
end

function Tab.__setter:drag_post_callback(value)
	self._drag_post_callback = value
end

function Tab.__getter:drag_post_callback()
	return self._drag_post_callback
end

function Tab.__getter:view_margin()
	return self._view.width_value
end

function Tab.__setter:view_margin(value)
	self._view.width_value = value
end

function Tab.__getter:view()
	return self._view
end

function Tab.__getter:view_linear()
	return self._linear
end

function Tab:GetChildIndex(child)
	return self.show_center:GetChildIndex(child)
end

function Tab:SetChildIndex(child, index)
	local show_center = self.show_center
	local cur_index = show_center:GetChildIndex(child)
	if index > show_center.child_count then
		index = show_center.child_count
	end
	if cur_index == index then
		return true
	end
	local linear = self._linear
	local linear_childs = linear.childs
	local tab_child = self.tab
	local button_child = linear_childs[cur_index]
	if button_child ~= nil then
		linear:SetChildIndex(button_child, index)
	end
	local show_center_childs = show_center.childs
	local body_child = show_center_childs[cur_index]
	show_center:SetChildIndex(body_child, index)
	self._tab_index = show_center:GetChildIndex(tab_child)
	return true
end

function Tab:GetChildByIndex(index)
	return self.show_center:GetChildByIndex(index)
end

function Tab:GetChildIndex(child)
	return self.show_center:GetChildIndex(child)
end

function Tab.__getter:childs()
	local show_center = self.show_center
	return show_center.childs
end

function Tab.__getter:child_count()
	local show_center = self.show_center
	return show_center.child_count
end

function Tab:AddChild(child, index)
	if child == nil or child == self then
		return false
	end
	if child._show_parent == self.show_center or child._logic_parent == self then
		return true
	end
	if child._logic_parent ~= nil then
		child._logic_parent:RemoveChild(child)
	elseif child._show_parent ~= nil then
		child._show_parent:RemoveChild(child)
	end
	local show_center = self.show_center
	show_center:AddChild(child, index)
	child._logic_parent = self
	child.x = 0
	child.y = 0
	child.width_type = UIEnumTypes.SIZE_MARGIN
	child.width_value = self._child_width_margin
	child.height_type = UIEnumTypes.SIZE_MARGIN
	child.height_value = 0
	child.x_type = UIEnumTypes.POS_ALIGN_ENDING
	self._child_id_map[child] = child.description
	if self._child_id_map[child] == nil then
		self._child_id_map[child] = ""
	end
	if self._radiobutton_style == nil or self._text_style == nil or self._closebutton_style == nil or self._selected_text_style == nil or self._selected_closebutton_style == nil then
		return true
	end
	local radiobutton = self._ctrl_sys:CreateControl(self._radiobutton_style)
	local text = self._ctrl_sys:CreateControl(self._text_style)
	local closebutton = self._ctrl_sys:CreateControl(self._closebutton_style)
	local selected_text = self._ctrl_sys:CreateControl(self._selected_text_style)
	local selected_closebutton = self._ctrl_sys:CreateControl(self._selected_closebutton_style)
	if radiobutton ~= nil and text ~= nil and closebutton ~= nil and selected_text ~= nil and selected_closebutton ~= nil then
		local simplelayout = DisplayLayout(self._ctrl_sys)
		radiobutton:AddEventListener(___all_struct[958494922], self, self.HandleRadioButtonChanged)
		radiobutton:AddEventListener(___all_struct[1337289812], self, self.HandleRadioButtonDrag)
		radiobutton:AddEventListener(___all_struct[1301789264], self, self.HandleRadioButtonDragBegin)
		radiobutton:AddEventListener(___all_struct[150587926], self, self.HandleRadioButtonDragEnd)
		radiobutton:AddEventListener(___all_struct[-1330840], self, self.HandleRadioButtonMClick)
		radiobutton:AddEventListener(___all_struct[-641444818], self, self.HandleRadioButtonRButtonDown)
		radiobutton:AddEventListener(___all_struct[-1604617962], self, self.HandleRadioButtonKeyDown)
		radiobutton.group_name = self._group_name
		radiobutton.width_type = UIEnumTypes.SIZE_MARGIN
		radiobutton.width_value = 0
		radiobutton.height_type = UIEnumTypes.SIZE_MARGIN
		radiobutton.height_value = 0
		child.visible = radiobutton.selected
		text.text = self._child_id_map[child]
		text.disabled = true
		text.y_type = UIEnumTypes.POS_ALIGN_CENTER
		text.y_value = 2
		text.x = self._button_inner_gap
		text.visible = not radiobutton.selected
		selected_text.text = self._child_id_map[child]
		selected_text.disabled = true
		selected_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
		selected_text.y_value = 2
		selected_text.x = self._button_inner_gap
		selected_text.visible = radiobutton.selected
		closebutton:AddEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
		closebutton.y_type = UIEnumTypes.POS_ALIGN_CENTER
		closebutton.y_value = 2
		closebutton.x = text.x + text.width + self._button_inner_gap
		closebutton.visible = not radiobutton.selected
		selected_closebutton:AddEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
		selected_closebutton.y_type = UIEnumTypes.POS_ALIGN_CENTER
		selected_closebutton.y_value = 2
		selected_closebutton.x = selected_text.x + selected_text.width + self._button_inner_gap
		selected_closebutton.visible = radiobutton.selected
		simplelayout.width = self._button_inner_gap * 3 + text.width + closebutton.width
		self._linear:AddChild(simplelayout, index)
		simplelayout:AddChild(radiobutton)
		simplelayout:AddChild(text)
		simplelayout:AddChild(closebutton)
		simplelayout:AddChild(selected_text)
		simplelayout:AddChild(selected_closebutton)
	end
	if self._tab_index <= 0 then
		self.tab_index = 1
	elseif index ~= nil and self._tab_index >= index then
		self._tab_index = self._tab_index + 1
	end
	return true
end

function Tab:RemoveChild(child)
	if child == nil then
		return false
	end
	if child._show_parent ~= self.show_center and child._logic_parent ~= self then
		return false
	end
	local show_center = self.show_center
	local index = show_center:GetChildIndex(child)
	if index == 0 then
		return false
	end
	show_center:RemoveChild(child)
	child.visible = true
	self._child_id_map[child] = nil
	local simplelayout = self._linear:GetChildByIndex(index)
	if simplelayout ~= nil then
		local layout_childs = simplelayout.childs
		layout_childs[1]:RemoveEventListener(___all_struct[958494922], self, self.HandleRadioButtonChanged)
		layout_childs[1]:RemoveEventListener(___all_struct[1337289812], self, self.HandleRadioButtonDrag)
		layout_childs[1]:RemoveEventListener(___all_struct[1301789264], self, self.HandleRadioButtonDragBegin)
		layout_childs[1]:RemoveEventListener(___all_struct[150587926], self, self.HandleRadioButtonDragEnd)
		layout_childs[1]:RemoveEventListener(___all_struct[-1330840], self, self.HandleRadioButtonMClick)
		layout_childs[1]:RemoveEventListener(___all_struct[-641444818], self, self.HandleRadioButtonRButtonDown)
		layout_childs[1]:RemoveEventListener(___all_struct[-1604617962], self, self.HandleRadioButtonKeyDown)
		layout_childs[3]:RemoveEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
		layout_childs[5]:RemoveEventListener(___all_struct[-449066808], self, self.HandleCloseButtonClick)
		layout_childs[1].group_name = nil
		self._linear:RemoveChild(simplelayout)
	end
	local new_index = 0
	if self._tab_index == index then
		new_index = index
	elseif self._tab_index > index then
		new_index = self._tab_index - 1
	else
		new_index = self._tab_index
	end
	if new_index > show_center.child_count then
		new_index = show_center.child_count
	elseif new_index < 0 then
		new_index = 0
	end
	self.tab_index = new_index
	return true
end

function Tab:HasChild(child)
	local show_center = self.show_center
	return show_center:HasChild(child)
end

function Tab:RemoveAllChild()
	self._linear:RemoveAllChild()
	local show_center = self.show_center
	local childs = show_center.childs
	for k, v in ___ipairs(childs) do
		v.visible = true
	end
	show_center:RemoveAllChild()
	self._child_id_map = {}
	self._tab_index = 0
end

function Tab:HandleRadioButtonChanged(event)
	local button = event.target
	if button.selected then
		local show_center = self.show_center
		local childs = show_center.childs
		for k, v in ___ipairs(childs) do
			v.visible = false
		end
		local simplelayout = button.parent
		local index = self._linear:GetChildIndex(simplelayout)
		local show_center_childs = show_center.childs
		show_center_childs[index].visible = true
		local layout_childs = simplelayout.childs
		layout_childs[3].visible = false
		layout_childs[2].visible = false
		if layout_childs[5].disabled == false then
			layout_childs[5].visible = true
		end
		layout_childs[4].visible = true
		self._tab_index = index
		self:DispatchEvent(___all_struct[444989011], {})
	else
		local simplelayout = button.parent
		local layout_childs = simplelayout.childs
		if layout_childs[3].disabled == false then
			layout_childs[3].visible = true
		end
		layout_childs[2].visible = true
		layout_childs[5].visible = false
		layout_childs[4].visible = false
	end
end

function Tab:HandleCloseButtonClick(event)
	local simplelayout = event.target._show_parent
	local index = self._linear:GetChildIndex(simplelayout)
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	local child = show_center_childs[index]
	if self._close_callback ~= nil and self._close_callback(child) == false then
		return
	end
	self:RemoveChild(child)
	self:DispatchEvent(___all_struct[-18570489], {})
	if self._close_post_callback ~= nil then
		self._close_post_callback(child)
	end
end

function Tab:HandleRadioButtonDragBegin(event)
	local simplelayout = event.target._show_parent
	local control_x
	local control_y
	control_x, control_y = simplelayout:LocalToGlobal()
	self._tab_image = EffectImage(self._ctrl_sys)
	self._tab_image:Action(simplelayout)
	A_LayerManager:AddToTip(self._tab_image)
	self._tab_image.x = control_x
	self._tab_image.y = control_y
	self._tab_image.alpha = 0.9
end

function Tab:HandleRadioButtonDrag(event)
	if self._tab_image == nil then
		return
	end
	self._tab_image.x = self._tab_image.x + event.delta_x
	self._tab_image.y = self._tab_image.y + event.delta_y
end

function Tab:HandleRadioButtonDragEnd(event)
	local target_index = self._linear.child_count
	if self._scale_x > 0 then
		local linear_x
		local linear_y
		linear_x, linear_y = self._linear:LocalToGlobal()
		local delta_x = (event.abs_x - linear_x) / self._scale_x
		local child_list = self._linear.childs
		for k, v in ___ipairs(child_list) do
			if delta_x < v.x + v.width / 2 then
				target_index = k
				break
			end
		end
	end
	local simplelayout = event.target._show_parent
	local index = self._linear:GetChildIndex(simplelayout)
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	local child = show_center_childs[index]
	if self._drag_callback ~= nil and self._drag_callback(child, target_index) == false then
		return
	end
	self._linear:SetChildIndex(simplelayout, target_index)
	show_center:SetChildIndex(child, target_index)
	if self._drag_post_callback ~= nil then
		self._drag_post_callback(child)
	end
	if self._tab_image ~= nil then
		A_LayerManager:RemoveFromTip(self._tab_image)
		self._tab_image:Clear()
		self._tab_image = nil
	end
end

function Tab:HandleRadioButtonMClick(event)
	local simplelayout = event.target._show_parent
	local layout_childs = simplelayout.childs
	if layout_childs[3].disabled and layout_childs[5].disabled then
		return
	end
	local index = self._linear:GetChildIndex(simplelayout)
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	local child = show_center_childs[index]
	if self._close_callback ~= nil and self._close_callback(child) == false then
		return
	end
	self:RemoveChild(child)
	self:DispatchEvent(___all_struct[-18570489], {})
	if self._close_post_callback ~= nil then
		self._close_post_callback(child)
	end
end

function Tab:HandleRadioButtonRButtonDown(event)
	local simplelayout = event.target._show_parent
	local index = self._linear:GetChildIndex(simplelayout)
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	local child = show_center_childs[index]
	local e = {}
	e.target = child
	self:DispatchEvent(___all_struct[-641444818], e)
end

function Tab:HandleRadioButtonKeyDown(event)
	local simplelayout = event.target._show_parent
	local index = self._linear:GetChildIndex(simplelayout)
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	local child = show_center_childs[index]
	local e = {}
	e.target = child
	e.mod = event.mod
	e.sym = event.sym
	e.scancode = event.scancode
	self:DispatchEvent(___all_struct[-1604617962], e)
	event.handled = e.handled
end

function Tab:SetChildText(child, text)
	if self._radiobutton_style == nil then
		return
	end
	local show_center = self.show_center
	local index = show_center:GetChildIndex(child)
	if index == 0 then
		return
	end
	local simplelayout = self._linear:GetChildByIndex(index)
	if simplelayout ~= nil then
		local childs = simplelayout.childs
		local text_control = childs[2]
		local closebutton = childs[3]
		local selected_text_control = childs[4]
		local selected_closebutton = childs[5]
		text_control.text = text
		selected_text_control.text = text
		closebutton.x = text_control.x + text_control.width + self._button_inner_gap
		selected_closebutton.x = selected_text_control.x + selected_text_control.width + self._button_inner_gap
		simplelayout.width = self._button_inner_gap * 3 + text_control.width + closebutton.width
		self._child_id_map[child] = text
		self._linear:Layout(1)
	end
end

function Tab:GetChildText(child)
	return self._child_id_map[child]
end

function Tab:HasChildText(text)
	for k, v in ___pairs(self._child_id_map) do
		if v == text then
			return true
		end
	end
	return false
end

function Tab:GetChildByText(text)
	for k, v in ___pairs(self._child_id_map) do
		if v == text then
			return k
		end
	end
	return nil
end

function Tab.__setter:tab(child)
	local show_center = self.show_center
	local index = show_center:GetChildIndex(child)
	if index == 0 then
		return
	end
	self.tab_index = index
end

function Tab.__getter:tab()
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	return show_center_childs[self._tab_index]
end

function Tab.__setter:tab_index(index)
	local show_center = self.show_center
	local show_center_childs = show_center.childs
	if self._tab_index ~= 0 then
		local cur_child = show_center_childs[self._tab_index]
		if cur_child ~= nil then
			cur_child.visible = false
		end
		local simplelayout = self._linear:GetChildByIndex(self._tab_index)
		if simplelayout ~= nil then
			local childs = simplelayout.childs
			childs[1].selected = false
			childs[2].visible = true
			if childs[3].disabled == false then
				childs[3].visible = true
			end
			childs[4].visible = false
			childs[5].visible = false
		end
		self._tab_index = 0
	end
	self._tab_index = index
	if self._tab_index ~= 0 then
		local child = show_center_childs[self._tab_index]
		if child == nil then
			return
		end
		child.visible = true
		local simplelayout = self._linear:GetChildByIndex(self._tab_index)
		if simplelayout ~= nil then
			local childs = simplelayout.childs
			childs[1].selected = true
			childs[2].visible = false
			childs[3].visible = false
			childs[4].visible = true
			if childs[5].disabled == false then
				childs[5].visible = true
			end
		end
	end
	if self._tab_index < 1 or self._tab_index > show_center.child_count then
		self._tab_index = 0
	end
end

function Tab.__getter:tab_index()
	return self._tab_index
end

function Tab:DisableCloseButton(child)
	local show_center = self.show_center
	local index = show_center:GetChildIndex(child)
	if index == 0 then
		return
	end
	local linear_childs = self._linear.childs
	local simplelayout = linear_childs[index]
	if simplelayout == nil then
		return
	end
	local layout_childs = simplelayout.childs
	layout_childs[3].visible = false
	layout_childs[3].disabled = true
	layout_childs[2].x_type = UIEnumTypes.POS_ALIGN_CENTER
	layout_childs[2].x_value = 0
	layout_childs[5].visible = false
	layout_childs[5].disabled = true
	layout_childs[4].x_type = UIEnumTypes.POS_ALIGN_CENTER
	layout_childs[4].x_value = 0
end

function Tab:DisableAllCloseButton()
	local show_center = self.show_center
	local count = show_center.child_count
	local linear_childs = self._linear.childs
	local index = 1
	while true do
		if not(index <= count) then break end
		local simplelayout = linear_childs[index]
		if simplelayout == nil then
			return
		end
		local layout_childs = simplelayout.childs
		layout_childs[3].visible = false
		layout_childs[3].disabled = true
		layout_childs[2].x_type = UIEnumTypes.POS_ALIGN_CENTER
		layout_childs[2].x_value = 0
		layout_childs[5].visible = false
		layout_childs[5].disabled = true
		layout_childs[4].x_type = UIEnumTypes.POS_ALIGN_CENTER
		layout_childs[4].x_value = 0
		index = index+(1)
	end
end

function Tab:EnableCloseButton(child)
	local show_center = self.show_center
	local index = show_center:GetChildIndex(child)
	if index == 0 then
		return
	end
	local linear_childs = self._linear.childs
	local simplelayout = linear_childs[index]
	if simplelayout == nil then
		return
	end
	local layout_childs = simplelayout.childs
	layout_childs[3].visible = not layout_childs[1].selected
	layout_childs[3].disabled = false
	layout_childs[2].x_type = UIEnumTypes.POS_ABS
	layout_childs[2].x = self._button_inner_gap
	layout_childs[5].visible = layout_childs[1].selected
	layout_childs[5].disabled = false
	layout_childs[4].x_type = UIEnumTypes.POS_ABS
	layout_childs[4].x = self._button_inner_gap
end

function Tab:GetChildHead(child)
	local show_center = self.show_center
	local index = show_center:GetChildIndex(child)
	if index == 0 then
		return nil
	end
	local linear_childs = self._linear.childs
	return linear_childs[index]
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
TextButton = Lua.Class(ALittle.DisplayLayout, "ALittle.TextButton")

function TextButton:Ctor(ctrl_sys)
	___rawset(self, "_show_text", ({}))
	self._show_text.width = 0
	self._show_text.height = 0
	self._show_text.text = ""
	self._show_text.visible = true
	___rawset(self, "_show_down_text", ({}))
	self._show_down_text.width = 0
	self._show_down_text.height = 0
	self._show_down_text.text = ""
	self._show_down_text.visible = false
	___rawset(self, "_show_over_text", ({}))
	self._show_over_text.width = 0
	self._show_over_text.height = 0
	self._show_over_text.text = ""
	self._show_over_text.visible = false
	___rawset(self, "_show_disabled_text", ({}))
	self._show_disabled_text.width = 0
	self._show_disabled_text.height = 0
	self._show_disabled_text.text = ""
	self._show_disabled_text.visible = false
	___rawset(self, "_file_select", false)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[349963892], self, self.HandleMButtonDown)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[292776509], self, self.ShowUp)
	self:AddEventListener(___all_struct[-1233353463], self, self.HandleFButtonDown)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFButtonUp)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
end

function TextButton.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if value then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function TextButton:HandleMoveIn(event)
	self:ShowOver()
end

function TextButton:HandleMoveOut(event)
	self:ShowUp(nil)
end

function TextButton:HandleLButtonDown(event)
	self:ShowDown()
end

function TextButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		if self._file_select then
			A_OtherSystem:SystemSelectFile(self)
		end
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
end

function TextButton:HandleMButtonDown(event)
	self:ShowDown()
end

function TextButton:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
end

function TextButton:HandleFButtonDown(event)
	if event.is_sfc == false then
		self:ShowDown()
	end
end

function TextButton:HandleFButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], e)
	end
	if event.is_sfc == false then
		self:ShowUp(nil)
	end
end

function TextButton.__setter:text(value)
	self._show_text.text = value
	self._show_over_text.text = value
	self._show_disabled_text.text = value
	self._show_down_text.text = value
end

function TextButton.__getter:text()
	return self._show_text.text
end

function TextButton:ShowUp(event)
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 1
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self._show_text.visible = true
	self._show_down_text.visible = false
	self._show_over_text.visible = false
	self._show_disabled_text.visible = false
end

function TextButton:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 1
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self._show_text.visible = true
	if self._show_down_text._show ~= nil then
		self._show_text.visible = false
	end
	self._show_down_text.visible = true
	self._show_over_text.visible = false
	self._show_disabled_text.visible = false
end

function TextButton:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 1
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self._show_text.visible = true
	if self._show_over_text._show ~= nil then
		self._show_text.visible = false
	end
	self._show_down_text.visible = false
	self._show_over_text.visible = true
	self._show_disabled_text.visible = false
end

function TextButton:ShowDisabled()
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 1
	end
	self._show_text.visible = true
	if self._show_disabled_text._show ~= nil then
		self._show_text.visible = false
	end
	self._show_disabled_text.visible = true
	self._show_over_text.visible = false
	self._show_down_text.visible = false
end

function TextButton.__setter:show_text(value)
	if value == nil then
		local show = self._show_text
		self:RemoveChild(show)
		self._show_text = ({})
		self._show_text.width = 0
		self._show_text.height = 0
		self._show_text.text = show.text
		self._show_text.visible = show.visible
		return
	end
	value.text = self._show_text.text
	value.visible = self._show_text.visible
	self:RemoveChild(self._show_text)
	self._show_text = value
	self._show_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_text, 6)
end

function TextButton.__getter:show_text()
	if self._show_text._show == nil then
		return nil
	end
	return self._show_text
end

function TextButton.__setter:show_over_text(value)
	if value == nil then
		local show = self._show_over_text
		self:RemoveChild(show)
		self._show_over_text = ({})
		self._show_over_text.width = 0
		self._show_over_text.height = 0
		self._show_over_text.text = show.text
		self._show_over_text.visible = show.visible
		return
	end
	value.text = self._show_over_text.text
	value.visible = self._show_over_text.visible
	self:RemoveChild(self._show_over_text)
	self._show_over_text = value
	self._show_over_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_over_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_over_text, 6)
end

function TextButton.__getter:show_over_text()
	if self._show_over_text._show == nil then
		return nil
	end
	return self._show_over_text
end

function TextButton.__setter:show_down_text(value)
	if value == nil then
		local show = self.show_down_text
		self:RemoveChild(show)
		self._show_down_text = ({})
		self._show_down_text.width = 0
		self._show_down_text.height = 0
		self._show_down_text.text = show.text
		self._show_down_text.visible = show.visible
		return
	end
	value.text = self._show_down_text.text
	value.visible = self._show_down_text.visible
	self:RemoveChild(self._show_down_text)
	self._show_down_text = value
	self._show_down_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_down_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_down_text, 6)
end

function TextButton.__getter:show_down_text()
	if self._show_down_text._show == nil then
		return nil
	end
	return self._show_down_text
end

function TextButton.__setter:show_disabled_text(value)
	if value == nil then
		local show = self._show_disabled_text
		self:RemoveChild(show)
		self._show_disabled_text = ({})
		self._show_disabled_text.width = 0
		self._show_disabled_text.height = 0
		self._show_disabled_text.text = show.text
		self._show_disabled_text.visible = show.visible
		return
	end
	value.text = self._show_disabled_text.text
	value.visible = self._show_disabled_text.visible
	self:RemoveChild(self._show_disabled_text)
	self._show_disabled_text = value
	self._show_disabled_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_disabled_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_disabled_text, 6)
end

function TextButton.__getter:show_disabled_text()
	if self._show_disabled_text._show == nil then
		return nil
	end
	return self._show_disabled_text
end

function TextButton.__setter:show_up(value)
	self:RemoveChild(self._show_up)
	self._show_up = value
	if self._show_up ~= nil then
		self._show_up.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.width_value = 0
		self._show_up.height_value = 0
		self:AddChild(self._show_up, 1)
	end
	if self._abs_disabled or self._disabled then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function TextButton.__getter:show_up()
	return self._show_up
end

function TextButton.__setter:show_down(value)
	self:RemoveChild(self._show_down)
	self._show_down = value
	if self._show_down ~= nil then
		self._show_down.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.width_value = 0
		self._show_down.height_value = 0
		self:AddChild(self._show_down, 1)
	end
	if self._abs_disabled or self._disabled then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function TextButton.__getter:show_down()
	return self._show_down
end

function TextButton.__setter:show_over(value)
	self:RemoveChild(self._show_over)
	self._show_over = value
	if self._show_over ~= nil then
		self._show_over.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.width_value = 0
		self._show_over.height_value = 0
		self:AddChild(self._show_over, 1)
	end
	if self._abs_disabled or self._disabled then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function TextButton.__getter:show_over()
	return self._show_over
end

function TextButton.__setter:show_disabled(value)
	self:RemoveChild(self._show_disabled)
	self._show_disabled = value
	if self._show_disabled ~= nil then
		self._show_disabled.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.width_value = 0
		self._show_disabled.height_value = 0
		self:AddChild(self._show_disabled, 1)
	end
	if self._abs_disabled or self._disabled then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function TextButton.__getter:show_disabled()
	return self._show_disabled
end

function TextButton.__setter:file_select(value)
	self._file_select = value
end

function TextButton.__getter:file_select()
	return self._file_select
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
TextCheckButton = Lua.Class(ALittle.DisplayLayout, "ALittle.TextCheckButton")

function TextCheckButton:Ctor(ctrl_sys)
	___rawset(self, "_show_text", ({}))
	self._show_text.width = 0
	self._show_text.height = 0
	self._show_text.text = ""
	self._show_text.visible = true
	___rawset(self, "_show_over_text", ({}))
	self._show_over_text.width = 0
	self._show_over_text.height = 0
	self._show_over_text.text = ""
	self._show_over_text.visible = false
	___rawset(self, "_show_down_text", ({}))
	self._show_down_text.width = 0
	self._show_down_text.height = 0
	self._show_down_text.text = ""
	self._show_down_text.visible = false
	___rawset(self, "_show_disabled_text", ({}))
	self._show_disabled_text.width = 0
	self._show_disabled_text.height = 0
	self._show_disabled_text.text = ""
	self._show_disabled_text.visible = false
	___rawset(self, "_show_selected_text", ({}))
	self._show_selected_text.width = 0
	self._show_selected_text.height = 0
	self._show_selected_text.text = ""
	self._show_selected_text.visible = false
	___rawset(self, "_show_selected_over_text", ({}))
	self._show_selected_over_text.width = 0
	self._show_selected_over_text.height = 0
	self._show_selected_over_text.text = ""
	self._show_selected_over_text.visible = false
	___rawset(self, "_show_selected_down_text", ({}))
	self._show_selected_down_text.width = 0
	self._show_selected_down_text.height = 0
	self._show_selected_down_text.text = ""
	self._show_selected_down_text.visible = false
	___rawset(self, "_show_selected_disabled_text", ({}))
	self._show_selected_disabled_text.width = 0
	self._show_selected_disabled_text.height = 0
	self._show_selected_disabled_text.text = ""
	self._show_selected_disabled_text.visible = false
	___rawset(self, "_selected", false)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[349963892], self, self.HandleMButtonDown)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
end

function TextCheckButton.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if self._abs_disabled then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
end

function TextCheckButton:HandleMoveIn(event)
	self:ShowOver()
end

function TextCheckButton:HandleMoveOut(event)
	self:ShowUp()
end

function TextCheckButton:HandleLButtonDown(event)
	self:ShowDown()
end

function TextCheckButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		self._selected = (self._selected == false)
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		self:DispatchEvent(___all_struct[958494922], {})
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp()
		end
	else
		self:ShowUp()
	end
end

function TextCheckButton:HandleMButtonDown(event)
	self:ShowDown()
end

function TextCheckButton:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp()
		end
	else
		self:ShowUp()
	end
end

function TextCheckButton.__setter:text(value)
	self._show_text.text = value
	self._show_over_text.text = value
	self._show_down_text.text = value
	self._show_disabled_text.text = value
	self._show_selected_text.text = value
	self._show_selected_over_text.text = value
	self._show_selected_down_text.text = value
	self._show_selected_disabled_text.text = value
end

function TextCheckButton.__getter:text()
	return self._show_text.text
end

function TextCheckButton.__setter:selected(value)
	if self._selected == value then
		return
	end
	self._selected = value
	if self._abs_disabled then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
end

function TextCheckButton.__getter:selected()
	return self._selected
end

function TextCheckButton:HideAllShow()
	if self._show_selected_up ~= nil then
		self._show_selected_up.alpha = 0
	end
	if self._show_selected_over ~= nil then
		self._show_selected_over.alpha = 0
	end
	if self._show_selected_down ~= nil then
		self._show_selected_down.alpha = 0
	end
	if self._show_selected_disabled ~= nil then
		self._show_selected_disabled.alpha = 0
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_over ~= nil then
		self._show_over.alpha = 0
	end
	if self._show_down ~= nil then
		self._show_down.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
end

function TextCheckButton:ShowUp()
	if self._abs_disabled or self._disabled then
		return
	end
	self:HideAllShow()
	if self._selected then
		if self._show_selected_up ~= nil then
			self._show_selected_up.alpha = 1
		end
		if self._show_up ~= nil then
			self._show_up.alpha = 0
		end
	else
		if self._show_selected_up ~= nil then
			self._show_selected_up.alpha = 0
		end
		if self._show_up ~= nil then
			self._show_up.alpha = 1
		end
	end
	if self._selected then
		self._show_text.visible = true
		self._show_down_text.visible = false
		self._show_over_text.visible = false
		self._show_disabled_text.visible = false
		if self._show_selected_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_selected_text.visible = true
		self._show_selected_down_text.visible = false
		self._show_selected_over_text.visible = false
		self._show_selected_disabled_text.visible = false
	else
		self._show_text.visible = true
		self._show_down_text.visible = false
		self._show_over_text.visible = false
		self._show_disabled_text.visible = false
		self._show_selected_text.visible = false
		self._show_selected_down_text.visible = false
		self._show_selected_over_text.visible = false
		self._show_selected_disabled_text.visible = false
	end
end

function TextCheckButton:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	self:HideAllShow()
	if self._selected then
		if self._show_selected_down ~= nil then
			self._show_selected_down.alpha = 1
		end
		if self._show_down ~= nil then
			self._show_down.alpha = 0
		end
	else
		if self._show_selected_down ~= nil then
			self._show_selected_down.alpha = 0
		end
		if self._show_down ~= nil then
			self._show_down.alpha = 1
		end
	end
	if self._selected then
		self._show_text.visible = true
		self._show_down_text.visible = false
		self._show_over_text.visible = false
		self._show_disabled_text.visible = false
		self._show_selected_text.visible = false
		if self._show_selected_down_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_selected_down_text.visible = true
		self._show_selected_over_text.visible = false
		self._show_selected_disabled_text.visible = false
	else
		self._show_text.visible = true
		if self._show_down_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_down_text.visible = true
		self._show_over_text.visible = false
		self._show_disabled_text.visible = false
		self._show_selected_text.visible = false
		self._show_selected_down_text.visible = false
		self._show_selected_over_text.visible = false
		self._show_selected_disabled_text.visible = false
	end
end

function TextCheckButton:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	self:HideAllShow()
	if self._selected then
		if self._show_selected_over ~= nil then
			self._show_selected_over.alpha = 1
		end
		if self._show_over ~= nil then
			self._show_over.alpha = 0
		end
	else
		if self._show_selected_over ~= nil then
			self._show_selected_over.alpha = 0
		end
		if self._show_over ~= nil then
			self._show_over.alpha = 1
		end
	end
	if self._selected then
		self._show_text.visible = true
		self._show_down_text.visible = false
		self._show_over_text.visible = false
		self._show_disabled_text.visible = false
		self._show_selected_text.visible = false
		self._show_selected_down_text.visible = false
		if self._show_selected_over_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_selected_over_text.visible = true
		self._show_selected_disabled_text.visible = false
	else
		self._show_text.visible = true
		self._show_down_text.visible = false
		if self._show_over_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_over_text.visible = true
		self._show_disabled_text.visible = false
		self._show_selected_text.visible = false
		self._show_selected_down_text.visible = false
		self._show_selected_over_text.visible = false
		self._show_selected_disabled_text.visible = false
	end
end

function TextCheckButton:ShowDisabled()
	self:HideAllShow()
	if self._selected then
		if self._show_selected_disabled ~= nil then
			self._show_selected_disabled.alpha = 1
		end
		if self._show_disabled ~= nil then
			self._show_disabled.alpha = 0
		end
	else
		if self._show_selected_disabled ~= nil then
			self._show_selected_disabled.alpha = 0
		end
		if self._show_disabled ~= nil then
			self._show_disabled.alpha = 1
		end
	end
	if self._selected then
		self._show_text.visible = true
		self._show_down_text.visible = false
		self._show_over_text.visible = false
		self._show_disabled_text.visible = false
		self._show_selected_text.visible = false
		self._show_selected_down_text.visible = false
		self._show_selected_over_text.visible = false
		if self._show_selected_disabled_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_selected_disabled_text.visible = true
	else
		self._show_text.visible = true
		self._show_down_text.visible = false
		self._show_over_text.visible = false
		if self._show_disabled_text._show ~= nil then
			self._show_text.visible = false
		end
		self._show_disabled_text.visible = true
		self._show_selected_text.visible = false
		self._show_selected_down_text.visible = false
		self._show_selected_over_text.visible = false
		self._show_selected_disabled_text.visible = false
	end
end

function TextCheckButton.__setter:show_text(value)
	if value == nil then
		local show = self._show_text
		self:RemoveChild(show)
		self._show_text = ({})
		self._show_text.width = 0
		self._show_text.height = 0
		self._show_text.text = show.text
		self._show_text.visible = show.visible
		return
	end
	if self._show_text ~= nil and self._show_text.text ~= "" then
		value.text = self._show_text.text
	end
	value.visible = self._show_text.visible
	self:RemoveChild(self._show_text)
	self._show_text = value
	self._show_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_text, 10)
end

function TextCheckButton.__getter:show_text()
	if self._show_text._show == nil then
		return nil
	end
	return self._show_text
end

function TextCheckButton.__setter:show_over_text(value)
	if value == nil then
		local show = self._show_over_text
		self:RemoveChild(show)
		self._show_over_text = ({})
		self._show_over_text.width = 0
		self._show_over_text.height = 0
		self._show_over_text.text = show.text
		self._show_over_text.visible = show.visible
		return
	end
	if self._show_over_text ~= nil and self._show_over_text.text ~= "" then
		value.text = self._show_over_text.text
	end
	value.visible = self._show_over_text.visible
	self:RemoveChild(self._show_over_text)
	self._show_over_text = value
	self._show_over_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_over_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_over_text, 10)
end

function TextCheckButton.__getter:show_over_text()
	if self._show_over_text._show == nil then
		return nil
	end
	return self._show_over_text
end

function TextCheckButton.__setter:show_down_text(value)
	if value == nil then
		local show = self._show_down_text
		self:RemoveChild(show)
		self._show_down_text = ({})
		self._show_down_text.width = 0
		self._show_down_text.height = 0
		self._show_down_text.text = show.text
		self._show_down_text.visible = show.visible
		return
	end
	if self._show_down_text ~= nil and self._show_down_text.text ~= "" then
		value.text = self._show_down_text.text
	end
	value.visible = self._show_down_text.visible
	self:RemoveChild(self._show_down_text)
	self._show_down_text = value
	self._show_down_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_down_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_down_text, 10)
end

function TextCheckButton.__getter:show_down_text()
	if self._show_down_text._show == nil then
		return nil
	end
	return self._show_down_text
end

function TextCheckButton.__setter:show_disabled_text(value)
	if value == nil then
		local show = self._show_disabled_text
		self:RemoveChild(show)
		self._show_disabled_text = ({})
		self._show_disabled_text.width = 0
		self._show_disabled_text.height = 0
		self._show_disabled_text.text = show.text
		self._show_disabled_text.visible = show.visible
		return
	end
	if self._show_disabled_text ~= nil and self._show_disabled_text.text ~= "" then
		value.text = self._show_disabled_text.text
	end
	value.visible = self._show_disabled_text.visible
	self:RemoveChild(self._show_disabled_text)
	self._show_disabled_text = value
	self._show_disabled_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_disabled_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_disabled_text, 10)
end

function TextCheckButton.__getter:show_disabled_text()
	if self._show_disabled_text._show == nil then
		return nil
	end
	return self._show_disabled_text
end

function TextCheckButton.__setter:show_selected_text(value)
	if value == nil then
		local show = self._show_selected_text
		self:RemoveChild(show)
		self._show_selected_text = ({})
		self._show_selected_text.width = 0
		self._show_selected_text.height = 0
		self._show_selected_text.text = show.text
		self._show_selected_text.visible = show.visible
		return
	end
	if self._show_selected_text ~= nil and self._show_selected_text.text ~= "" then
		value.text = self._show_selected_text.text
	end
	value.visible = self._show_selected_text.visible
	self:RemoveChild(self._show_selected_text)
	self._show_selected_text = value
	self._show_selected_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_selected_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_selected_text, 10)
end

function TextCheckButton.__getter:show_selected_text()
	if self._show_selected_text._show == nil then
		return nil
	end
	return self._show_selected_text
end

function TextCheckButton.__setter:show_selected_over_text(value)
	if value == nil then
		local show = self._show_selected_over_text
		self:RemoveChild(show)
		self._show_selected_over_text = ({})
		self._show_selected_over_text.width = 0
		self._show_selected_over_text.height = 0
		self._show_selected_over_text.text = show.text
		self._show_selected_over_text.visible = show.visible
		return
	end
	if self._show_selected_over_text ~= nil and self._show_selected_over_text.text ~= "" then
		value.text = self._show_selected_over_text.text
	end
	value.visible = self._show_selected_over_text.visible
	self:RemoveChild(self._show_selected_over_text)
	self._show_selected_over_text = value
	self._show_selected_over_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_selected_over_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_selected_over_text, 10)
end

function TextCheckButton.__getter:show_selected_over_text()
	if self._show_selected_over_text._show == nil then
		return nil
	end
	return self._show_selected_over_text
end

function TextCheckButton.__setter:show_selected_down_text(value)
	if value == nil then
		local show = self._show_selected_down_text
		self:RemoveChild(show)
		self._show_selected_down_text = ({})
		self._show_selected_down_text.width = 0
		self._show_selected_down_text.height = 0
		self._show_selected_down_text.text = show.text
		self._show_selected_down_text.visible = show.visible
		return
	end
	if self._show_selected_down_text ~= nil and self._show_selected_down_text.text ~= "" then
		value.text = self._show_selected_down_text.text
	end
	value.visible = self._show_selected_down_text.visible
	self:RemoveChild(self._show_selected_down_text)
	self._show_selected_down_text = value
	self._show_selected_down_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_selected_down_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_selected_down_text, 10)
end

function TextCheckButton.__getter:show_selected_down_text()
	if self._show_selected_down_text._show == nil then
		return nil
	end
	return self._show_selected_down_text
end

function TextCheckButton.__setter:show_selected_disabled_text(value)
	if value == nil then
		local show = self._show_selected_disabled_text
		self:RemoveChild(show)
		self._show_selected_disabled_text = ({})
		self._show_selected_disabled_text.width = 0
		self._show_selected_disabled_text.height = 0
		self._show_selected_disabled_text.text = show.text
		self._show_selected_disabled_text.visible = show.visible
		return
	end
	if self._show_selected_disabled_text ~= nil and self._show_selected_disabled_text.text ~= "" then
		value.text = self._show_selected_disabled_text.text
	end
	value.visible = self._show_selected_disabled_text.visible
	self:RemoveChild(self._show_selected_disabled_text)
	self._show_selected_disabled_text = value
	self._show_selected_disabled_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_selected_disabled_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_selected_disabled_text, 10)
end

function TextCheckButton.__getter:show_selected_disabled_text()
	if self._show_selected_disabled_text._show == nil then
		return nil
	end
	return self._show_selected_disabled_text
end

function TextCheckButton.__setter:show_up(value)
	self:RemoveChild(self._show_up)
	self._show_up = value
	if self._show_up ~= nil then
		self._show_up.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.width_value = 0
		self._show_up.height_value = 0
		self:AddChild(self._show_up, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_up()
	return self._show_up
end

function TextCheckButton.__setter:show_down(value)
	self:RemoveChild(self._show_down)
	self._show_down = value
	if self._show_down ~= nil then
		self._show_down.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_down.width_value = 0
		self._show_down.height_value = 0
		self:AddChild(self._show_down, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_down()
	return self._show_down
end

function TextCheckButton.__setter:show_over(value)
	self:RemoveChild(self._show_over)
	self._show_over = value
	if self._show_over ~= nil then
		self._show_over.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_over.width_value = 0
		self._show_over.height_value = 0
		self:AddChild(self._show_over, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_over()
	return self._show_over
end

function TextCheckButton.__setter:show_disabled(value)
	self:RemoveChild(self._show_disabled)
	self._show_disabled = value
	if self._show_disabled ~= nil then
		self._show_disabled.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.width_value = 0
		self._show_disabled.height_value = 0
		self:AddChild(self._show_disabled, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_disabled()
	return self._show_disabled
end

function TextCheckButton.__setter:show_selected_up(value)
	self:RemoveChild(self._show_selected_up)
	self._show_selected_up = value
	if self._show_selected_up ~= nil then
		self._show_selected_up.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_up.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_up.width_value = 0
		self._show_selected_up.height_value = 0
		self:AddChild(self._show_selected_up, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_selected_up()
	return self._show_selected_up
end

function TextCheckButton.__setter:show_selected_down(value)
	self:RemoveChild(self._show_selected_down)
	self._show_selected_down = value
	if self._show_selected_down ~= nil then
		self._show_selected_down.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_down.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_down.width_value = 0
		self._show_selected_down.height_value = 0
		self:AddChild(self._show_selected_down, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_selected_down()
	return self._show_selected_down
end

function TextCheckButton.__setter:show_selected_over(value)
	self:RemoveChild(self._show_selected_over)
	self._show_selected_over = value
	if self._show_selected_over ~= nil then
		self._show_selected_over.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_over.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_over.width_value = 0
		self._show_selected_over.height_value = 0
		self:AddChild(self._show_selected_over, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_selected_over()
	return self._show_selected_over
end

function TextCheckButton.__setter:show_selected_disabled(value)
	self:RemoveChild(self._show_selected_disabled)
	self._show_selected_disabled = value
	if self._show_selected_disabled ~= nil then
		self._show_selected_disabled.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_disabled.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_selected_disabled.width_value = 0
		self._show_selected_disabled.height_value = 0
		self:AddChild(self._show_selected_disabled, 1)
	end
	self:ShowUp()
end

function TextCheckButton.__getter:show_selected_disabled()
	return self._show_selected_disabled
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


TextRadioButtonManager = Lua.Class(nil, "ALittle.TextRadioButtonManager")

function TextRadioButtonManager:Ctor()
	___rawset(self, "_name_map_group", {})
	___rawset(self, "_group_id", 0)
end

function TextRadioButtonManager:CreateGroupName()
	self._group_id = self._group_id + 1
	return "__TextRadioButtonManager_" .. self._group_id
end

function TextRadioButtonManager:SetGroupName(object, old_name, new_name)
	if old_name ~= nil then
		local group = self._name_map_group[old_name]
		if group ~= nil then
			group[object] = nil
		end
	end
	if new_name ~= nil then
		local group = self._name_map_group[new_name]
		if group == nil then
			group = CreateKeyWeakMap()
			self._name_map_group[new_name] = group
		end
		group[object] = true
	end
end

function TextRadioButtonManager:GetGroupByName(name)
	return self._name_map_group[name]
end

_G.A_TextRadioButtonManager = TextRadioButtonManager()
assert(ALittle.TextCheckButton, " extends class:ALittle.TextCheckButton is nil")
TextRadioButton = Lua.Class(ALittle.TextCheckButton, "ALittle.TextRadioButton")

function TextRadioButton:Ctor(ctrl_sys)
	___rawset(self, "_group_name", nil)
end

function TextRadioButton.__setter:group_name(name)
	A_TextRadioButtonManager:SetGroupName(self, self._group_name, name)
	self._group_name = name
end

function TextRadioButton.__getter:group_name()
	return self._group_name
end

function TextRadioButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		if self._selected == false then
			self._selected = true
			local group = A_TextRadioButtonManager:GetGroupByName(self._group_name)
			if group ~= nil then
				for k, _ in ___pairs(group) do
					if k ~= self and k._selected == true then
						k._selected = false
						k:ShowUp()
						k:DispatchEvent(___all_struct[958494922], {})
					end
				end
			end
			self:DispatchEvent(___all_struct[958494922], {})
		end
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp()
		end
	else
		self:ShowUp()
	end
end

function TextRadioButton.__setter:selected(value)
	if self._selected == value then
		return
	end
	self._selected = value
	if self._abs_disabled then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
	if self._selected == false then
		return
	end
	local group = A_TextRadioButtonManager:GetGroupByName(self._group_name)
	if group ~= nil then
		for k, _ in ___pairs(group) do
			if k ~= self and k._selected == true then
				k._selected = false
				k:ShowUp()
			end
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


local __ceil = Math_Ceil
assert(ALittle.DisplayGroup, " extends class:ALittle.DisplayGroup is nil")
TileTable = Lua.Class(ALittle.DisplayGroup, "ALittle.TileTable")

function TileTable:Ctor(ctrl_sys)
	___rawset(self, "_x_gap", 0)
	___rawset(self, "_y_gap", 0)
	___rawset(self, "_x_start_gap", 0)
	___rawset(self, "_y_start_gap", 0)
	___rawset(self, "_col_count", 1)
	___rawset(self, "_clip_left_index", 0)
	___rawset(self, "_clip_right_index", 0)
	___rawset(self, "_clip_top_index", 0)
	___rawset(self, "_clip_bottom_index", 0)
	___rawset(self, "_show_child_map", CreateKeyWeakMap())
	___rawset(self, "_pickup_rect", false)
	___rawset(self, "_pickup_child", true)
	___rawset(self, "_width", 0)
	___rawset(self, "_height", 0)
end

function TileTable.__getter:width()
	return self._width
end

function TileTable.__getter:height()
	return self._height
end

function TileTable.__setter:x_start_gap(value)
	if self._x_start_gap == value then
		return
	end
	self._x_start_gap = value
	self:Layout(1)
end

function TileTable.__getter:x_start_gap()
	return self._x_start_gap
end

function TileTable.__setter:y_start_gap(value)
	if self._y_start_gap == value then
		return
	end
	self._y_start_gap = value
	self:Layout(1)
end

function TileTable.__getter:y_start_gap()
	return self._y_start_gap
end

function TileTable.__setter:x_gap(value)
	if self._x_gap == value then
		return
	end
	self._x_gap = value
	self:Layout(1)
end

function TileTable.__getter:x_gap()
	return self._x_gap
end

function TileTable.__setter:y_gap(value)
	if self._y_gap == value then
		return
	end
	self._y_gap = value
	self:Layout(1)
end

function TileTable.__getter:y_gap()
	return self._y_gap
end

function TileTable.__setter:col_count(value)
	if value <= 0 or self._col_count == value then
		return
	end
	self._col_count = value
	self:Layout(1)
end

function TileTable.__getter:col_count()
	return self._col_count
end

function TileTable:AddChild(child, index)
	local result = DisplayGroup.AddChild(self, child, index)
	if result == false then
		return false
	end
	if index == nil then
		self:Layout(self.child_count)
	else
		self:Layout(index)
	end
	child:AddEventListener(___all_struct[-431205740], self, self.HandleChildResize)
	return true
end

function TileTable:RemoveChild(child)
	local child_index = self:GetChildIndex(child)
	if child_index == 0 then
		return false
	end
	local result = DisplayGroup.RemoveChild(self, child)
	if result == false then
		return false
	end
	self._show_child_map[child] = nil
	child:RemoveEventListener(___all_struct[-431205740], self)
	self:Layout(child_index)
	return true
end

function TileTable:RemoveAllChild()
	for k, child in ___ipairs(self._childs) do
		child:RemoveEventListener(___all_struct[-431205740], self)
	end
	self._show_child_map = CreateKeyWeakMap()
	self._clip_left_index = 0
	self._clip_right_index = 0
	self._clip_top_index = 0
	self._clip_bottom_index = 0
	DisplayGroup.RemoveAllChild(self)
end

function TileTable:SetChildIndex(child, index)
	local result = DisplayGroup.SetChildIndex(self, child, index)
	self:Layout(1)
	return result
end

function TileTable:Layout(index)
	local child_count = self.child_count
	if child_count == 0 then
		self._width = 0
		self._height = 0
		return
	end
	if index > child_count then
		index = child_count
	end
	local child_list = self.childs
	local start_index = 1
	local start_x = self._x_start_gap
	local start_y = self._y_start_gap
	if index > 1 then
		start_index = index
		local current_child = child_list[index - 1]
		if (index - 1) % self._col_count == 0 then
			start_x = self._x_start_gap
			start_y = current_child.y + current_child.height + self._y_gap
		else
			start_x = current_child.x + current_child.width + self._x_gap
			start_y = current_child.y
		end
	end
	local i = start_index
	while true do
		if not(i <= child_count) then break end
		child_list[i].x = start_x
		child_list[i].y = start_y
		if i % self._col_count == 0 then
			start_x = self._x_start_gap
			start_y = start_y + child_list[i].height + self._y_gap
		else
			start_x = start_x + child_list[i].width + self._x_gap
		end
		i = i+(1)
	end
	self._width = 0
	self._height = 0
	for k, child in ___ipairs(child_list) do
		local width = child.x + child.width + self._x_start_gap
		if width > self._width then
			self._width = width
		end
		local height = child.y + child.height + self._y_start_gap
		if height > self._height then
			self._height = height
		end
	end
end

function TileTable:HandleChildResize(event)
	self:Layout(self:GetChildIndex(event.target))
	self:DispatchEvent(___all_struct[-431205740], {})
end

function TileTable:ClipRect(left, top, right, bottom, h_move, v_move)
	left = left - self._x
	if left < 0 then
		left = 0
	end
	top = top - self._y
	if top < 0 then
		top = 0
	end
	right = right - self._x
	if right > self.width then
		right = self.width
	end
	bottom = bottom - self._y
	if bottom > self.height then
		bottom = self.height
	end
	if left >= right or top >= bottom then
		self.clip = true
		return
	end
	self.clip = false
	local child_count = self.child_count
	if child_count == 0 then
		return
	end
	local childs = self.childs
	local new_show_map = CreateKeyWeakMap()
	self._show:RemoveAllChild()
	local max_index = self._col_count
	if self._child_count < max_index then
		max_index = self._child_count
	end
	local min_index = 1
	local index = min_index
	if h_move == nil or self._clip_left_index == 0 then
		repeat
			if childs[index].x > left then
				max_index = index
				index = __ceil((max_index + min_index) / 2)
			elseif childs[index].x + childs[index].width < left then
				min_index = index
				index = __ceil((max_index + min_index) / 2)
			else
				break
			end
		until not(index ~= min_index and index ~= max_index)
	else
		index = self._clip_left_index
		if h_move < 0 then
			while index < max_index do
				if childs[index].x + childs[index].width >= left then
					break
				end
				index = index + 1
			end
		elseif h_move > 0 then
			while index > min_index do
				if childs[index].x <= left then
					break
				end
				index = index - 1
			end
		end
	end
	self._clip_left_index = index
	max_index = self._col_count
	if self._child_count < max_index then
		max_index = self._child_count
	end
	local i = index
	while true do
		if not(i <= max_index) then break end
		if childs[i].x < right then
			self._clip_right_index = i
		else
			break
		end
		i = i+(1)
	end
	max_index = __ceil(self._child_count / self._col_count)
	min_index = 1
	index = min_index
	if v_move == nil or self._clip_top_index == 0 then
		repeat
			local child_index = self._col_count * (index - 1) + 1
			if childs[child_index].y > top then
				max_index = index
				index = __ceil((max_index + min_index) / 2)
			elseif childs[child_index].y + childs[child_index].height < top then
				min_index = index
				index = __ceil((max_index + min_index) / 2)
			else
				break
			end
		until not(index ~= min_index and index ~= max_index)
	else
		index = self._clip_top_index
		if v_move < 0 then
			while index < max_index do
				local child_index = self._col_count * (index - 1) + 1
				if childs[child_index].y + childs[child_index].height >= top then
					break
				end
				index = index + 1
			end
		elseif v_move > 0 then
			while index > min_index do
				local child_index = self._col_count * (index - 1) + 1
				if childs[child_index].y <= top then
					break
				end
				index = index - 1
			end
		end
	end
	self._clip_top_index = index
	max_index = __ceil(self._child_count / self._col_count)
	local child_index = self._col_count * (index - 1) + 1
	local i = index
	while true do
		if not(i <= max_index) then break end
		if childs[child_index].y < bottom then
			self._clip_bottom_index = i
		else
			break
		end
		child_index = child_index + (self._col_count)
		i = i+(1)
	end
	local base_index = self._col_count * (self._clip_top_index - 1)
	local i = self._clip_top_index
	while true do
		if not(i <= self._clip_bottom_index) then break end
		local j = self._clip_left_index
		while true do
			if not(j <= self._clip_right_index) then break end
			local child = childs[base_index + j]
			if child ~= nil then
				self._show:AddChild(child._show)
				new_show_map[child] = true
				if child.ClipRect ~= nil then
					child:ClipRect(left, top, right, bottom, h_move, v_move)
				end
			end
			j = j+(1)
		end
		base_index = base_index + (self._col_count)
		i = i+(1)
	end
	for child, v in ___pairs(new_show_map) do
		if self._show_child_map[child] == nil then
			local e = {}
			e.target = child
			child:DispatchEvent(___all_struct[1862557463], e)
		else
			self._show_child_map[child] = nil
		end
	end
	for child, v in ___pairs(self._show_child_map) do
		local e = {}
		e.target = child
		child:DispatchEvent(___all_struct[348388800], e)
	end
	self._show_child_map = new_show_map
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayObject, " extends class:ALittle.DisplayObject is nil")
EffectImage = Lua.Class(ALittle.DisplayObject, "ALittle.EffectImage")

function EffectImage:Ctor(ctrl_sys)
end

function EffectImage:Action(control)
	if control == nil then
		return
	end
	self._show = __CPPAPIImage()
	self._texture = __CPPAPIRenderTexture()
	self.x = control.x
	self.y = control.y
	self.width = control.width
	self.height = control.height
	control._show:SetX(0)
	control._show:SetY(0)
	control.visible = true
	control.clip = false
	local result = self._texture:Draw(control._show, math.floor(self.width), math.floor(self.height), 1)
	control._show:SetX(self._x)
	control._show:SetY(self._y)
	if result then
		self._show:SetTexture(self._texture)
	end
	self._show:SetTextureCoord(0, 1, 0, 1)
	self.disabled = true
end

function EffectImage:Clear()
	if self._texture == nil then
		return
	end
	self._texture:Clear()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
SpringButton = Lua.Class(ALittle.DisplayLayout, "ALittle.SpringButton")

function SpringButton:Ctor(ctrl_sys)
	___rawset(self, "_big_or_small", false)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[349963892], self, self.HandleMButtonDown)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[292776509], self, self.ShowUp)
	self:AddEventListener(___all_struct[-1233353463], self, self.HandleFButtonDown)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFButtonUp)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
end

function SpringButton.__getter:text()
	if self._show_text == nil then
		return ""
	end
	return self._show_text.text
end

function SpringButton.__setter:text(text)
	if self._show_text == nil then
		return
	end
	self._show_text.text = text
end

function SpringButton.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if value then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function SpringButton:HandleMoveIn(event)
	self:ShowOver()
end

function SpringButton:HandleMoveOut(event)
	self:ShowUp(nil)
end

function SpringButton:HandleLButtonDown(event)
	self:ShowDown()
end

function SpringButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
end

function SpringButton:HandleMButtonDown(event)
	self:ShowDown()
end

function SpringButton:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
end

function SpringButton:HandleFButtonDown(event)
	if event.is_sfc == false then
		self:ShowDown()
	end
end

function SpringButton:HandleFButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], e)
	end
	if event.is_sfc == false then
		self:ShowUp(nil)
	end
end

function SpringButton:ScaleTo(big_or_small, time_in_ms)
	if self._big_or_small == big_or_small then
		return
	end
	self._big_or_small = big_or_small
	local scale = 1.0
	if self._big_or_small then
		scale = 1.2
	end
	if self._anti_loop ~= nil then
		self._anti_loop:Stop()
		self._anti_loop = nil
	end
	self._anti_loop = LoopGroup()
	self._anti_loop:AddUpdater(LoopLinear(self, "scale_x", scale, time_in_ms, 1))
	self._anti_loop:AddUpdater(LoopLinear(self, "scale_y", scale, time_in_ms, 1))
	self._anti_loop:Start()
end

function SpringButton:ShowUp(event)
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.visible = true
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = false
	end
	self:ScaleTo(false, 200)
end

function SpringButton:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.visible = true
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = false
	end
	self:ScaleTo(true, 200)
end

function SpringButton:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.visible = true
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = false
	end
	self:ScaleTo(false, 200)
end

function SpringButton:ShowDisabled()
	self:ScaleTo(false, 200)
	if self._show_up ~= nil then
		self._show_up.visible = false
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = true
	else
		self._show_up.visible = true
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
SpringCheckButton = Lua.Class(ALittle.DisplayLayout, "ALittle.SpringCheckButton")

function SpringCheckButton:Ctor(ctrl_sys)
	___rawset(self, "_big_or_small", false)
	___rawset(self, "_selected", false)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[349963892], self, self.HandleMButtonDown)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
end

function SpringCheckButton.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if self._abs_disabled then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
end

function SpringCheckButton:HandleMoveIn(event)
	self:ShowOver()
end

function SpringCheckButton:HandleMoveOut(event)
	self:ShowUp()
end

function SpringCheckButton:HandleLButtonDown(event)
	self:ShowDown()
end

function SpringCheckButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		self._selected = (self._selected == false)
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		self:DispatchEvent(___all_struct[958494922], {})
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp()
		end
	else
		self:ShowUp()
	end
end

function SpringCheckButton:HandleMButtonDown(event)
	self:ShowDown()
end

function SpringCheckButton:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp()
		end
	else
		self:ShowUp()
	end
end

function SpringCheckButton.__setter:selected(value)
	if self._selected == value then
		return
	end
	self._selected = value
	if self._abs_disabled then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
end

function SpringCheckButton.__getter:selected()
	return self._selected
end

function SpringCheckButton:ScaleTo(big_or_small, time_in_ms)
	if self._big_or_small == big_or_small then
		return
	end
	self._big_or_small = big_or_small
	local scale = 1.0
	if self._big_or_small then
		scale = 1.2
	end
	if self._anti_loop ~= nil then
		self._anti_loop:Stop()
		self._anti_loop = nil
	end
	self._anti_loop = LoopGroup()
	self._anti_loop:AddUpdater(LoopLinear(self, "scale_x", scale, time_in_ms, 1))
	self._anti_loop:AddUpdater(LoopLinear(self, "scale_y", scale, time_in_ms, 1))
	self._anti_loop:Start()
end

function SpringCheckButton:ShowUp()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._selected then
		if self._show_selected_up ~= nil then
			self._show_selected_up.visible = true
		end
		if self._show_up ~= nil then
			self._show_up.visible = false
		end
	else
		if self._show_selected_up ~= nil then
			self._show_selected_up.visible = false
		end
		if self._show_up ~= nil then
			self._show_up.visible = true
		end
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = false
	end
	self:ScaleTo(false, 200)
end

function SpringCheckButton:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._selected then
		if self._show_selected_up ~= nil then
			self._show_selected_up.visible = true
		end
		if self._show_up ~= nil then
			self._show_up.visible = false
		end
	else
		if self._show_selected_up ~= nil then
			self._show_selected_up.visible = false
		end
		if self._show_up ~= nil then
			self._show_up.visible = true
		end
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = false
	end
	self:ScaleTo(true, 200)
end

function SpringCheckButton:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._selected then
		if self._show_selected_up ~= nil then
			self._show_selected_up.visible = true
		end
		if self._show_up ~= nil then
			self._show_up.visible = false
		end
	else
		if self._show_selected_up ~= nil then
			self._show_selected_up.visible = false
		end
		if self._show_up ~= nil then
			self._show_up.visible = true
		end
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self:ScaleTo(false, 200)
end

function SpringCheckButton:ShowDisabled()
	self:ScaleTo(false, 200)
	if self._show_up ~= nil then
		self._show_up.visible = false
	end
	if self._show_selected_up ~= nil then
		self._show_selected_up.visible = false
	end
	if self._show_disabled ~= nil then
		self._show_disabled.visible = true
	else
		if self._selected then
			self._show_selected_up.visible = true
		else
			self._show_up.visible = true
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
SpringDialog = Lua.Class(ALittle.DisplayLayout, "ALittle.SpringDialog")

function SpringDialog:Ctor(ctrl_sys)
	___rawset(self, "_is_show", false)
	self.visible = false
end

function SpringDialog.__getter:show()
	return self._is_show
end

function SpringDialog.__setter:show(value)
	if self._is_show == value then
		return
	end
	self._is_show = value
	if self._anti_loop ~= nil then
		self._anti_loop:SetCompleted()
		self._anti_loop:Stop()
		self._anti_loop = nil
	end
	if value then
		self:ShowAnti(1.1, 200, 200)
	else
		self:HideAnti(1.1, 200)
	end
end

function SpringDialog:ShowAnti(scale, scale_big_ms, scale_return_ms)
	if self._show_dialog == nil then
		return
	end
	self.visible = true
	self.alpha = 0
	self._show_dialog.scale_x = 1
	self._show_dialog.scale_y = 1
	self._anti_loop = LoopList()
	local group = LoopGroup()
	group:AddUpdater(LoopLinear(self._show_dialog, "scale_x", scale, scale_big_ms, 1))
	group:AddUpdater(LoopLinear(self._show_dialog, "scale_y", scale, scale_big_ms, 1))
	group:AddUpdater(LoopLinear(self, "alpha", 1, scale_big_ms, 1))
	self._anti_loop:AddUpdater(group)
	group = LoopGroup()
	group:AddUpdater(LoopLinear(self._show_dialog, "scale_x", 1, scale_return_ms, 1))
	group:AddUpdater(LoopLinear(self._show_dialog, "scale_y", 1, scale_return_ms, 1))
	self._anti_loop:AddUpdater(group)
	self._anti_loop:Start()
end

function SpringDialog:HideAnti(scale, scale_big_ms)
	if self._show_dialog == nil then
		return
	end
	self._anti_loop = LoopList()
	local group = LoopGroup()
	group:AddUpdater(LoopLinear(self._show_dialog, "scale_x", scale, scale_big_ms, 1))
	group:AddUpdater(LoopLinear(self._show_dialog, "scale_y", scale, scale_big_ms, 1))
	group:AddUpdater(LoopLinear(self, "alpha", 0, scale_big_ms, 1))
	self._anti_loop:AddUpdater(group)
	self._anti_loop:AddUpdater(LoopAttribute(self, "visible", false, 1))
	self._anti_loop:Start()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.SpringCheckButton, " extends class:ALittle.SpringCheckButton is nil")
SpringRadioButton = Lua.Class(ALittle.SpringCheckButton, "ALittle.SpringRadioButton")

function SpringRadioButton:Ctor(ctrl_sys)
	___rawset(self, "_cancel_select", false)
end

function SpringRadioButton.__setter:group_name(value)
	A_TextRadioButtonManager:SetGroupName(self, self._group_name, value)
	self._group_name = value
end

function SpringRadioButton.__getter:group_name()
	return self._group_name
end

function SpringRadioButton.__setter:cancel_select(value)
	self._cancel_select = value
end

function SpringRadioButton.__getter:cancel_select()
	return self._cancel_select
end

function SpringRadioButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		if self._selected == false then
			self._selected = true
			local group = A_TextRadioButtonManager:GetGroupByName(self._group_name)
			if group ~= nil then
				for k, _ in ___pairs(group) do
					if k ~= self and k._selected == true then
						k._selected = false
						k:ShowUp()
						k:DispatchEvent(___all_struct[958494922], {})
					end
				end
			end
			self:DispatchEvent(___all_struct[958494922], {})
		elseif self._cancel_select then
			self._selected = false
			self:DispatchEvent(___all_struct[958494922], {})
		end
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp()
		end
	else
		self:ShowUp()
	end
end

function SpringRadioButton.__setter:selected(value)
	if self._selected == value then
		return
	end
	self._selected = value
	if self._abs_disabled then
		self:ShowDisabled()
	else
		self:ShowUp()
	end
	if self._selected == false then
		return
	end
	local group = A_TextRadioButtonManager:GetGroupByName(self._group_name)
	if group ~= nil then
		for k, _ in ___pairs(group) do
			if k ~= self and k._selected == true then
				k._selected = false
				k:ShowUp()
			end
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()


assert(ALittle.DisplayLayout, " extends class:ALittle.DisplayLayout is nil")
SpringTextButton = Lua.Class(ALittle.DisplayLayout, "ALittle.SpringTextButton")

function SpringTextButton:Ctor(ctrl_sys)
	___rawset(self, "_show_text", ({}))
	self._show_text.width = 0
	self._show_text.height = 0
	self._show_text.text = ""
	self._show_text.visible = true
	___rawset(self, "_show_disabled_text", ({}))
	self._show_disabled_text.width = 0
	self._show_disabled_text.height = 0
	self._show_disabled_text.text = ""
	self._show_disabled_text.visible = false
	___rawset(self, "_big_or_small", false)
	___rawset(self, "_file_select", false)
	self:AddEventListener(___all_struct[544684311], self, self.HandleMoveIn)
	self:AddEventListener(___all_struct[-1202439334], self, self.HandleMoveOut)
	self:AddEventListener(___all_struct[1883782801], self, self.HandleLButtonDown)
	self:AddEventListener(___all_struct[40651933], self, self.HandleLButtonUp)
	self:AddEventListener(___all_struct[349963892], self, self.HandleMButtonDown)
	self:AddEventListener(___all_struct[683647260], self, self.HandleMButtonUp)
	self:AddEventListener(___all_struct[292776509], self, self.ShowUp)
	self:AddEventListener(___all_struct[-1233353463], self, self.HandleFButtonDown)
	self:AddEventListener(___all_struct[734860930], self, self.HandleFButtonUp)
	___rawset(self, "_pickup_rect", true)
	___rawset(self, "_pickup_child", false)
end

function SpringTextButton.__setter:disabled(value)
	DisplayObject.__setter.disabled(self, value)
	if value then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function SpringTextButton:HandleMoveIn(event)
	self:ShowOver()
end

function SpringTextButton:HandleMoveOut(event)
	self:ShowUp(nil)
end

function SpringTextButton:HandleLButtonDown(event)
	self:ShowDown()
end

function SpringTextButton:HandleLButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-449066808], e)
		if self._file_select then
			A_OtherSystem:SystemSelectFile(self)
		end
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
end

function SpringTextButton:HandleMButtonDown(event)
	self:ShowDown()
end

function SpringTextButton:HandleMButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[-1330840], e)
		if System_IsPhone == false then
			self:ShowOver()
		else
			self:ShowUp(nil)
		end
	else
		self:ShowUp(nil)
	end
end

function SpringTextButton:HandleFButtonDown(event)
	if event.is_sfc == false then
		self:ShowDown()
	end
end

function SpringTextButton:HandleFButtonUp(event)
	if event.rel_x >= 0 and event.rel_y >= 0 and event.rel_x < event.target._width and event.rel_y < event.target._height then
		local e = {}
		e.is_drag = event.is_drag
		self:DispatchEvent(___all_struct[286797479], e)
	end
	if event.is_sfc == false then
		self:ShowUp(nil)
	end
end

function SpringTextButton.__setter:text(value)
	self._show_text.text = value
	self._show_disabled_text.text = value
end

function SpringTextButton.__getter:text()
	return self._show_text.text
end

function SpringTextButton:ShowUp(event)
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 1
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self._show_text.visible = true
	self._show_disabled_text.visible = false
	self:ScaleTo(false, 200)
end

function SpringTextButton:ShowDown()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 1
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self._show_text.visible = true
	self._show_disabled_text.visible = false
	self:ScaleTo(true, 200)
end

function SpringTextButton:ScaleTo(big_or_small, time_in_ms)
	if self._big_or_small == big_or_small then
		return
	end
	self._big_or_small = big_or_small
	local scale = 1.0
	if self._big_or_small then
		scale = 1.2
	end
	if self._anti_loop ~= nil then
		self._anti_loop:Stop()
		self._anti_loop = nil
	end
	self._anti_loop = LoopGroup()
	self._anti_loop:AddUpdater(LoopLinear(self, "scale_x", scale, time_in_ms, 1))
	self._anti_loop:AddUpdater(LoopLinear(self, "scale_y", scale, time_in_ms, 1))
	self._anti_loop:Start()
end

function SpringTextButton:ShowOver()
	if self._abs_disabled or self._disabled then
		return
	end
	if self._show_up ~= nil then
		self._show_up.alpha = 1
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 0
	end
	self._show_text.visible = true
	self._show_disabled_text.visible = false
	self:ScaleTo(false, 200)
end

function SpringTextButton:ShowDisabled()
	self:ScaleTo(false, 200)
	if self._show_up ~= nil then
		self._show_up.alpha = 0
	end
	if self._show_disabled ~= nil then
		self._show_disabled.alpha = 1
	end
	self._show_text.visible = false
	self._show_disabled_text.visible = true
end

function SpringTextButton.__setter:show_text(value)
	if value == nil then
		local show = self._show_text
		self:RemoveChild(show)
		self._show_text = ({})
		self._show_text.width = 0
		self._show_text.height = 0
		self._show_text.text = show.text
		self._show_text.visible = show.visible
		return
	end
	value.text = self._show_text.text
	value.visible = self._show_text.visible
	self:RemoveChild(self._show_text)
	self._show_text = value
	self._show_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_text, 6)
end

function SpringTextButton.__getter:show_text()
	if self._show_text._show == nil then
		return nil
	end
	return self._show_text
end

function SpringTextButton.__setter:show_disabled_text(value)
	if value == nil then
		local show = self._show_disabled_text
		self:RemoveChild(show)
		self._show_disabled_text = ({})
		self._show_disabled_text.width = 0
		self._show_disabled_text.height = 0
		self._show_disabled_text.text = show.text
		self._show_disabled_text.visible = show.visible
		return
	end
	value.text = self._show_disabled_text.text
	value.visible = self._show_disabled_text.visible
	self:RemoveChild(self._show_disabled_text)
	self._show_disabled_text = value
	self._show_disabled_text.x_type = UIEnumTypes.POS_ALIGN_CENTER
	self._show_disabled_text.y_type = UIEnumTypes.POS_ALIGN_CENTER
	self:AddChild(self._show_disabled_text, 6)
end

function SpringTextButton.__getter:show_disabled_text()
	if self._show_disabled_text._show == nil then
		return nil
	end
	return self._show_disabled_text
end

function SpringTextButton.__setter:show_up(value)
	self:RemoveChild(self._show_up)
	self._show_up = value
	if self._show_up ~= nil then
		self._show_up.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_up.width_value = 0
		self._show_up.height_value = 0
		self:AddChild(self._show_up, 1)
	end
	if self._abs_disabled or self._disabled then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function SpringTextButton.__getter:show_up()
	return self._show_up
end

function SpringTextButton.__setter:show_disabled(value)
	self:RemoveChild(self._show_disabled)
	self._show_disabled = value
	if self._show_disabled ~= nil then
		self._show_disabled.width_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.height_type = UIEnumTypes.SIZE_MARGIN
		self._show_disabled.width_value = 0
		self._show_disabled.height_value = 0
		self:AddChild(self._show_disabled, 1)
	end
	if self._abs_disabled or self._disabled then
		self:ShowDisabled()
	else
		self:ShowUp(nil)
	end
end

function SpringTextButton.__getter:show_disabled()
	return self._show_disabled
end

function SpringTextButton.__setter:file_select(value)
	self._file_select = value
end

function SpringTextButton.__getter:file_select()
	return self._file_select
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(384201948, "ALittle.ChunkInfo", {
name = "ALittle.ChunkInfo", ns_name = "ALittle", rl_name = "ChunkInfo", hash_code = 384201948,
name_list = {"file_path","callback","channel","volume","mute"},
type_list = {"string","Functor<(string,int)>","int","double","bool"},
option_map = {}
})
RegStruct(1715346212, "ALittle.Event", {
name = "ALittle.Event", ns_name = "ALittle", rl_name = "Event", hash_code = 1715346212,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})

AudioSystem = Lua.Class(nil, "ALittle.AudioSystem")

function AudioSystem:Ctor()
	___rawset(self, "_chunk_map", {})
	___rawset(self, "_app_background", false)
	___rawset(self, "_all_chunk_mute", false)
	___rawset(self, "_music_mute", false)
	___rawset(self, "_music_valume", 1)
end

function AudioSystem:Setup()
	A_OtherSystem:AddEventListener(___all_struct[521107426], self, self.HandleDidEnterBackground)
	A_OtherSystem:AddEventListener(___all_struct[760325696], self, self.HandleDidEnterForeground)
end

function AudioSystem:Shutdown()
end

function AudioSystem:HandleDidEnterBackground(event)
	self._app_background = true
	self:UpdateAllChunkVolume()
	self:UpdateMusicVolume()
end

function AudioSystem:HandleDidEnterForeground(event)
	self._app_background = false
	self:UpdateAllChunkVolume()
	self:UpdateMusicVolume()
end

function AudioSystem:UpdateChunkVolume(info)
	local real_volume = info.volume
	if info.mute or self._app_background or self._all_chunk_mute then
		real_volume = 0
	end
	__CPPAPI_AudioSystem:SetChunkVolume(info.channel, real_volume)
end

function AudioSystem:UpdateMusicVolume()
	local real_volume = self._music_valume
	if self._music_mute or self._app_background then
		real_volume = 0
	end
	__CPPAPI_AudioSystem:SetMusicVolume(real_volume)
end

function AudioSystem:UpdateAllChunkVolume()
	for k, v in ___pairs(self._chunk_map) do
		self:UpdateChunkVolume(v)
	end
end

function AudioSystem:SetAllChunkMute(mute)
	if self._all_chunk_mute == mute then
		return
	end
	self._all_chunk_mute = mute
	self:UpdateAllChunkVolume()
end

function AudioSystem:SetMusicMute(mute)
	if self._music_mute == mute then
		return
	end
	self._music_mute = mute
	self:UpdateMusicVolume()
end

function AudioSystem:GetAllChunkMute()
	return self._all_chunk_mute
end

function AudioSystem:GetMusicMute()
	return self._music_mute
end

function AudioSystem:AddChunkCache(file_path)
	__CPPAPI_AudioSystem:AddChunkCache(file_path)
end

function AudioSystem:RemoveChunkCache(file_path)
	__CPPAPI_AudioSystem:RemoveChunkCache(file_path)
end

function AudioSystem:StartChunk(file_path, loop, callback)
	if loop == nil then
		loop = 1
	end
	local channel = __CPPAPI_AudioSystem:StartChunk(file_path, loop)
	if channel < 0 then
		return -1
	end
	local info = {}
	info.file_path = file_path
	info.callback = callback
	info.channel = channel
	info.volume = __CPPAPI_AudioSystem:GetChunkVolume(channel)
	info.mute = false
	self._chunk_map[channel] = info
	self:UpdateChunkVolume(info)
	return channel
end

function AudioSystem:StopChunk(channel)
	local info = self._chunk_map[channel]
	if info == nil then
		return
	end
	self._chunk_map[channel] = nil
	__CPPAPI_AudioSystem:StopChunk(channel)
end

function AudioSystem:SetChunkMute(channel, mute)
	local info = self._chunk_map[channel]
	if info == nil then
		return
	end
	if info.mute == mute then
		return
	end
	info.mute = mute
	self:UpdateChunkVolume(info)
end

function AudioSystem:GetChunkMute(channel)
	local info = self._chunk_map[channel]
	if info == nil then
		return false
	end
	return info.mute
end

function AudioSystem:SetChunkVolume(channel, volume)
	local info = self._chunk_map[channel]
	if info == nil then
		return
	end
	info.volume = volume
	self:UpdateChunkVolume(info)
end

function AudioSystem:GetChunkVolume(channel)
	local info = self._chunk_map[channel]
	if info == nil then
		return 0
	end
	return info.volume
end

function AudioSystem:HandleAudioChunkStopedEvent(channel)
	local info = self._chunk_map[channel]
	if info == nil then
		return
	end
	self._chunk_map[channel] = nil
	if info.callback == nil then
		return
	end
	info.callback(info.file_path, info.channel)
end

function AudioSystem:StartMusic(file_path, loop)
	if loop == nil then
		loop = 1
	end
	local result = __CPPAPI_AudioSystem:StartMusic(file_path, loop)
	if result then
		return false
	end
	self._music_valume = __CPPAPI_AudioSystem:GetMusicVolume()
	self:UpdateMusicVolume()
	return result
end

function AudioSystem:StopMusic()
	__CPPAPI_AudioSystem:StopMusic()
end

function AudioSystem:StartRecord(file_path)
	return __CPPAPI_AudioSystem:StartRecord(file_path)
end

function AudioSystem:IsRecording()
	return __CPPAPI_AudioSystem:IsRecording()
end

function AudioSystem:StopRecord()
	__CPPAPI_AudioSystem:StopRecord()
end

_G.A_AudioSystem = AudioSystem()

module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.IFileLoader, " extends class:ALittle.IFileLoader is nil")
LuaClientFileLoader = Lua.Class(ALittle.IFileLoader, "ALittle.LuaClientFileLoader")

function LuaClientFileLoader:Load(file_path)
	local file = __CPPAPILocalFile()
	file:SetPath(file_path)
	if not file:Load() then
		return nil
	end
	local content = file:GetContent()
	file:Clear()
	return content
end

assert(ALittle.IFileSaver, " extends class:ALittle.IFileSaver is nil")
LuaClientFileSaver = Lua.Class(ALittle.IFileSaver, "ALittle.LuaClientFileSaver")

function LuaClientFileSaver:Save(file_path, content)
	return File_SaveFile(file_path, content, -1)
end

function CreateConfigSystem(file_path, print_error)
	return Lua.Template(JsonConfig, "ALittle.JsonConfig<ALittle.LuaClientFileLoader, ALittle.LuaClientFileSaver>", LuaClientFileLoader, LuaClientFileSaver)(file_path, print_error)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(332955965, "ALittle.CsvPreloadInfoDetail", {
name = "ALittle.CsvPreloadInfoDetail", ns_name = "ALittle", rl_name = "CsvPreloadInfoDetail", hash_code = 332955965,
name_list = {"loader","config"},
type_list = {"ALittle.ICsvFileLoader","ALittle.CsvConfig"},
option_map = {}
})
RegStruct(-1040774381, "ALittle.CsvPreloadInfo", {
name = "ALittle.CsvPreloadInfo", ns_name = "ALittle", rl_name = "CsvPreloadInfo", hash_code = -1040774381,
name_list = {"total","succeed","failed","loader_map","callback"},
type_list = {"int","int","int","Map<int,ALittle.CsvPreloadInfoDetail>","Functor<(int,int,int)>"},
option_map = {}
})

CsvConfigManager = Lua.Class(nil, "ALittle.CsvConfigManager")

function CsvConfigManager:Ctor()
	___rawset(self, "_preload_map", {})
end

function CsvConfigManager:PrepareCsv(csv_map, callback)
	local preload_info = {}
	preload_info.total = 0
	preload_info.succeed = 0
	preload_info.failed = 0
	preload_info.loader_map = {}
	preload_info.callback = callback
	for file_path, config in ___pairs(csv_map) do
		local loader
		loader = __CPPAPICsvFileLoader()
		loader:SetPath(file_path, false)
		local detail = {}
		detail.loader = loader
		detail.config = config
		preload_info.loader_map[loader:GetID()] = detail
		loader:Start()
		preload_info.total = preload_info.total + 1
	end
	if preload_info.total > preload_info.succeed + preload_info.failed then
		self._preload_map[preload_info] = true
	end
	if callback ~= nil then
		callback(preload_info.total, preload_info.succeed, preload_info.failed)
	end
end

function CsvConfigManager:HandleCsvFileLoadSucceed(loader, file)
	local id = loader:GetID()
	for info, value in ___pairs(self._preload_map) do
		local detail = info.loader_map[id]
		if detail ~= nil then
			info.succeed = info.succeed + 1
			if detail.config ~= nil then
				local wrap = __CPPAPICsvFileWrap()
				wrap:SetCsvFile(file)
				detail.config:Init(wrap)
			end
			if info.callback ~= nil then
				info.callback(info.total, info.succeed, info.failed)
			end
			if info.total == info.succeed + info.failed then
				self._preload_map[info] = nil
			end
			return
		end
	end
end

function CsvConfigManager:HandleCsvFileLoadFailed(loader)
	Error("csv load failed! path:" .. loader:GetPath())
	local id = loader:GetID()
	for info, value in ___pairs(self._preload_map) do
		local detail = info.loader_map[id]
		if detail ~= nil then
			info.failed = info.failed + 1
			if detail.config ~= nil then
				detail.config:Init(nil)
			end
			if info.callback ~= nil then
				info.callback(info.total, info.succeed, info.failed)
			end
			if info.total == info.succeed + info.failed then
				self._preload_map[info] = nil
			end
			return
		end
	end
end

_G.A_CsvConfigManager = CsvConfigManager()

module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function File_BaseFilePath()
	return __CPPAPI_ScriptSystemEx:BaseFilePath()
end

function File_ExternalFilePath()
	return __CPPAPI_ScriptSystemEx:ExternalFilePath()
end

function File_CopyFile(src_path, dst_path)
	return __CPPAPI_CopyFile(src_path, dst_path, false)
end

function File_CopyFileFromAsset(src_path, dst_path)
	return __CPPAPI_CopyFile(src_path, dst_path, true)
end

function File_SaveFile(target_path, content, size)
	return __CPPAPI_SaveFile(target_path, content, size)
end

function File_CopyDeepDir(src_path, dest_path, ext, log)
	do
		local upper_ext = nil
		if ext ~= nil then
			upper_ext = string.upper(ext)
		end
		for file in lfs.dir(src_path) do
			if file ~= "." and file ~= ".." then
				local src_file_path = src_path .. "/" .. file
				local dest_file_path = dest_path .. "/" .. file
				local attr = lfs.attributes(src_file_path)
				if attr.mode == "directory" then
					lfs.mkdir(dest_file_path)
					File_CopyDeepDir(src_file_path, dest_file_path, upper_ext, log)
				else
					if upper_ext == nil or File_GetFileExtByPathAndUpper(src_file_path) == upper_ext then
						File_CopyFile(src_file_path, dest_file_path)
						if log then
							Log("copy file:", src_file_path, dest_file_path)
						end
					end
				end
			end
		end
	end
end

function File_ReadTextFromFile(file_path, crypt_mode)
	do
		local file = __CPPAPILocalFile()
		file:SetPath(file_path)
		if file:Load() == false then
			return nil
		end
		if crypt_mode then
			file:Decrypt(nil)
		end
		local content = file:GetContent()
		file:Clear()
		return content
	end
end

function File_WriteTextToFile(content, file_path)
	return File_SaveFile(file_path, content, -1)
end

function File_ReadJsonFromFile(file_path, crypt_mode)
	do
		local file = __CPPAPILocalFile()
		file:SetPath(file_path)
		if file:Load() == false then
			return nil, file_path .. " load failed"
		end
		if crypt_mode then
			file:Decrypt(nil)
		end
		local content = file:GetContent()
		file:Clear()
		local error, new_content = Lua.TCall(json.decode, content)
		if error == nil then
			return new_content, content
		end
		return nil, new_content
	end
end

function File_ReadJsonFromAsset(file_path, crypt_mode)
	do
		local file = __CPPAPILocalFile()
		file:SetPath(file_path)
		if file:LoadBySDL() == false then
			return nil, file_path .. " load failed!"
		end
		if crypt_mode then
			file:Decrypt(nil)
		end
		local content = file:GetContent()
		file:Clear()
		local error, new_content = Lua.TCall(json.decode, content)
		if error == nil then
			return new_content, content
		end
		return nil, new_content
	end
end

function File_WriteJsonToFile(content, file_path)
	return File_SaveFile(file_path, json.encode(content), -1)
end

function DeleteLog(day_count_before)
	do
		if day_count_before <= 0 then
			return
		end
		local log_path = File_ExternalFilePath() .. "Log"
		if File_GetFileAttr(log_path) == nil then
			return
		end
		local time_table = os.date("*t")
		time_table.day = time_table.day - day_count_before
		local time_string = os.date("%Y-%m-%d", os.time(time_table)) .. ".log"
		local delete_list = {}
		local delete_count = 0
		for file in lfs.dir(log_path) do
			if file ~= "." and file ~= ".." then
				if file <= time_string then
					delete_count = delete_count + 1
					delete_list[delete_count] = file
				end
			end
		end
		for k, v in ___ipairs(delete_list) do
			File_DeleteFile(File_ExternalFilePath() .. "Log/" .. v)
		end
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(1376035901, "ALittle.ModuleInfo", {
name = "ALittle.ModuleInfo", ns_name = "ALittle", rl_name = "ModuleInfo", hash_code = 1376035901,
name_list = {"name","crypt_mode","control","module","plugin_loaded","module_loaded","browser_loaded","layer_group","browser_setup","browser_addmodule","browser_shutdown","module_setup","module_shutdown","module_getinfo","plugin_setup","plugin_shutdown"},
type_list = {"string","bool","ALittle.ControlSystem","any","bool","bool","bool","ALittle.DisplayLayout","Functor<(ALittle.DisplayLayout,ALittle.ControlSystem,string,string,string)>","Functor<(string,ALittle.DisplayLayout,ALittle.ModuleShortInfo):bool>","Functor<()>","Functor<(ALittle.DisplayLayout,ALittle.ControlSystem,string,string,string)>","Functor<()>","Functor<(ALittle.ControlSystem,string):ALittle.ModuleShortInfo>","Functor<(ALittle.ControlSystem,string,string,string)>","Functor<()>"},
option_map = {}
})
RegStruct(-1652314301, "ALittle.ModuleShortInfo", {
name = "ALittle.ModuleShortInfo", ns_name = "ALittle", rl_name = "ModuleShortInfo", hash_code = -1652314301,
name_list = {"title","icon","width_type","width_value","height_type","height_value"},
type_list = {"string","string","int","int","int","int"},
option_map = {}
})

ModuleSystem = Lua.Class(nil, "ALittle.ModuleSystem")

function ModuleSystem:Ctor()
	___rawset(self, "_name_module_map", {})
	___rawset(self, "_main_module", nil)
	___rawset(self, "_debug", nil)
end

function ModuleSystem.__getter:debug()
	return self._debug
end

function ModuleSystem:GetMainModuleName()
	if self._main_module == nil then
		return nil
	end
	return self._main_module.name
end

function ModuleSystem:LoadModuleImpl(module_base_path, name)
local ___COROUTINE = coroutine.running()
	if package.loaded[name] ~= nil then
		return nil
	end
	local version_system = VersionSystem.CreateVersionSystem("", name)
	if version_system ~= nil then
		version_system:UpdateModule()
	end
	local info = {}
	info.name = name
	info.crypt_mode = (File_ReadTextFromFile("Module/" .. name .. "/NoCrypt.ali", false) == nil)
	info.control = ControlSystem(name, info.crypt_mode)
	Require(module_base_path .. "Main")
	info.module = package.loaded[name]
	if info.module == nil then
		return nil
	end
	self._name_module_map[name] = info
	info.browser_setup = info.module["__Browser_Setup"]
	info.browser_addmodule = info.module["__Browser_AddModule"]
	info.browser_shutdown = info.module["__Browser_Shutdown"]
	info.module_setup = info.module["__Module_Setup"]
	info.module_shutdown = info.module["__Module_Shutdown"]
	info.module_getinfo = info.module["__Module_GetInfo"]
	info.plugin_setup = info.module["__Plugin_Setup"]
	info.plugin_shutdown = info.module["__Plugin_Shutdown"]
	local control = info.control
	if self._main_module ~= nil then
		control = self._main_module.control
	end
	info.layer_group = DisplayLayout(control)
	return info
end

function ModuleSystem:RemoveModule(name)
	if self._main_module ~= nil and self._main_module.name == name then
		return false
	end
	local info = self._name_module_map[name]
	if info == nil then
		return false
	end
	local module_shutdown = info.module_shutdown
	if module_shutdown ~= nil then
		module_shutdown()
	end
	self._name_module_map[name] = nil
	A_LayerManager:RemoveChild(info.layer_group)
	package.loaded[name] = nil
	_G[name] = nil
	collectgarbage("collect")
	return true
end

function ModuleSystem:LoadPlugin(module_base_path, module_name)
local ___COROUTINE = coroutine.running()
	if module_name == nil then
		Log("module_name is null!")
		return false
	end
	local info = self._name_module_map[module_name]
	if info == nil then
		info = self:LoadModuleImpl(module_base_path, module_name)
		if info == nil then
			Log("Module:" .. module_name .. " load failed!")
			return false
		end
	end
	if info.plugin_loaded then
		Log(module_name .. ":__Plugin_Setup already invoked!")
		return false
	end
	local setup_func = info.plugin_setup
	if setup_func == nil then
		Log("can't find Plugin_Setup funciton in Module:" .. module_name)
		return false
	end
	info.plugin_loaded = true
	setup_func(info.control, module_base_path, module_base_path .. "Script/", self._debug)
	return true
end

function ModuleSystem:LoadModule(module_base_path, module_name)
local ___COROUTINE = coroutine.running()
	if module_name == nil then
		Log("module_name is null!")
		return false
	end
	local info = self._name_module_map[module_name]
	if info == nil then
		info = self:LoadModuleImpl(module_base_path, module_name)
		if info == nil then
			Log("Module:" .. module_name .. " load failed!")
			return false
		end
	end
	if info.module_loaded then
		Log(module_name .. ":__Module_Setup already invoked!")
		return false
	end
	local setup_func = info.module_setup
	if setup_func == nil then
		Log("can't find Module_Setup funciton in Module:" .. module_name)
		return false
	end
	info.module_loaded = true
	if self._main_module.name ~= module_name then
		local result = false
		if self._main_module ~= nil and self._main_module.browser_addmodule ~= nil then
			local module_info = nil
			if info.module_getinfo ~= nil then
				module_info = info.module_getinfo(info.control, module_base_path)
			end
			result = self._main_module.browser_addmodule(module_name, info.layer_group, module_info)
		end
		if not result then
			A_LayerManager:AddChild(info.layer_group, A_LayerManager.group_count - 1)
		end
	end
	setup_func(info.layer_group, info.control, module_base_path, module_base_path .. "Script/", self._debug)
	return true
end

function ModuleSystem:MainSetup(base_path, debug, module_name)
	if self._main_module ~= nil then
		return
	end
	if module_name == nil then
		module_name = File_ReadTextFromFile("Module/Enter.ali", false)
	end
	if module_name == nil then
		Log("Load Enter.ali failed!")
		return
	end
	local info = self:LoadModuleImpl(base_path, module_name)
	if info == nil then
		Log("Module:" .. module_name .. " load failed!")
		return
	end
	A_LayerManager:AddChild(info.layer_group, A_LayerManager.group_count - 1)
	self._main_module = info
	self._debug = debug
	local module_base_path = "Module/" .. module_name .. "/"
	self._main_module.browser_loaded = true
	local setup_func = self._main_module.browser_setup
	if setup_func == nil then
		self:LoadModule(module_base_path, self._main_module.name)
		return
	end
	setup_func(self._main_module.layer_group, self._main_module.control, module_base_path, module_base_path .. "Script/", self._debug)
end
ModuleSystem.MainSetup = Lua.CoWrap(ModuleSystem.MainSetup)

function ModuleSystem:MainShutdown()
	if self._main_module == nil then
		return
	end
	for name, info in ___pairs(self._name_module_map) do
		local shutdown_func = info.module_shutdown
		if shutdown_func ~= nil and info.module_loaded then
			local error = Lua.TCall(shutdown_func)
			if error ~= nil then
				Log("ModuleSystem:MainShutdown invoke __Module_Shutdown error:", error)
			end
		end
		shutdown_func = info.plugin_shutdown
		if shutdown_func ~= nil and info.plugin_loaded then
			local error = Lua.TCall(shutdown_func)
			if error ~= nil then
				Log("ModuleSystem:MainShutdown invoke __Plugin_Shutdown error:", error)
			end
		end
	end
	local shutdown_func = self._main_module.browser_shutdown
	if shutdown_func == nil then
		return
	end
	shutdown_func()
end

_G.A_ModuleSystem = ModuleSystem()

module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(1715346212, "ALittle.Event", {
name = "ALittle.Event", ns_name = "ALittle", rl_name = "Event", hash_code = 1715346212,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})
RegStruct(-1440165311, "ALittle.AppWillEnterBackground", {
name = "ALittle.AppWillEnterBackground", ns_name = "ALittle", rl_name = "AppWillEnterBackground", hash_code = -1440165311,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})
RegStruct(521107426, "ALittle.AppDidEnterBackground", {
name = "ALittle.AppDidEnterBackground", ns_name = "ALittle", rl_name = "AppDidEnterBackground", hash_code = 521107426,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})
RegStruct(812594882, "ALittle.AppWillEnterForeground", {
name = "ALittle.AppWillEnterForeground", ns_name = "ALittle", rl_name = "AppWillEnterForeground", hash_code = 812594882,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})
RegStruct(760325696, "ALittle.AppDidEnterForeground", {
name = "ALittle.AppDidEnterForeground", ns_name = "ALittle", rl_name = "AppDidEnterForeground", hash_code = 760325696,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})
RegStruct(1452333751, "ALittle.AppLowMemory", {
name = "ALittle.AppLowMemory", ns_name = "ALittle", rl_name = "AppLowMemory", hash_code = 1452333751,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})
RegStruct(708183011, "ALittle.NetChangeEvent", {
name = "ALittle.NetChangeEvent", ns_name = "ALittle", rl_name = "NetChangeEvent", hash_code = 708183011,
name_list = {"target","net_type"},
type_list = {"ALittle.EventDispatcher","int"},
option_map = {}
})
RegStruct(1720966934, "ALittle.NewIntentEvent", {
name = "ALittle.NewIntentEvent", ns_name = "ALittle", rl_name = "NewIntentEvent", hash_code = 1720966934,
name_list = {"target","url"},
type_list = {"ALittle.EventDispatcher","string"},
option_map = {}
})
RegStruct(-840570937, "ALittle.NotifyJsonRPCEvent", {
name = "ALittle.NotifyJsonRPCEvent", ns_name = "ALittle", rl_name = "NotifyJsonRPCEvent", hash_code = -840570937,
name_list = {"target","method","param"},
type_list = {"ALittle.EventDispatcher","string","any"},
option_map = {}
})
RegStruct(1755750412, "ALittle.ALittleJsonRPCInfo", {
name = "ALittle.ALittleJsonRPCInfo", ns_name = "ALittle", rl_name = "ALittleJsonRPCInfo", hash_code = 1755750412,
name_list = {"method","param"},
type_list = {"string","any"},
option_map = {}
})

NetworkType = {
	NONE = "OtherSystem_NotifyNetwork_none",
	WIFI = "OtherSystem_NotifyNetwork_wifi",
	LINE = "OtherSystem_NotifyNetwork_line",
}

assert(ALittle.EventDispatcher, " extends class:ALittle.EventDispatcher is nil")
OtherSystem = Lua.Class(ALittle.EventDispatcher, "ALittle.OtherSystem")

function OtherSystem:Ctor()
	___rawset(self, "_network_started", false)
	___rawset(self, "_system_select_file", nil)
	___rawset(self, "_system_select_ing", false)
	___rawset(self, "_system_save_file", nil)
	___rawset(self, "_system_save_ing", false)
	___rawset(self, "_third_share_callback", nil)
	___rawset(self, "_third_login_callback", nil)
	___rawset(self, "_third_login_ing", false)
end

function OtherSystem:HandleWillEnterBackground()
	self:DispatchEvent(___all_struct[-1440165311], {})
end

function OtherSystem:HandleDidEnterBackground()
	self:DispatchEvent(___all_struct[521107426], {})
end

function OtherSystem:HandleWillEnterForeground()
	self:DispatchEvent(___all_struct[812594882], {})
end

function OtherSystem:HandleDidEnterForeground()
	self:DispatchEvent(___all_struct[760325696], {})
end

function OtherSystem:HandleLowMemory()
	self:DispatchEvent(___all_struct[1452333751], {})
end

function OtherSystem:HandleNewIntent(url)
	local event = {}
	event.url = url
	self:DispatchEvent(___all_struct[1720966934], event)
end

function OtherSystem:AddEventListener(T, object, callback)
	do
		local rflt = T
		local net_rflt = ___all_struct[708183011]
		if rflt.hash_code == net_rflt.hash_code then
			if self._network_started == false then
				__CPPAPI_StartNetworkListener()
				self._network_started = true
			end
		end
	end
	return EventDispatcher.AddEventListener(self, T, object, callback)
end

function OtherSystem:HandleNetworkChanged(net_type)
	local event = {}
	event.net_type = net_type
	self:DispatchEvent(___all_struct[708183011], event)
end

function OtherSystem:GetNetworkType()
	return __CPPAPI_GetNetworkType()
end

function OtherSystem:HandleALittleJsonRPC(json)
	local error, content = Lua.TCall(String_JsonDecode, json)
	if error ~= nil then
		Log("OtherSystem:HandleALittleJsonRPC:", error, json)
		return
	end
	if content.method == nil then
		return
	end
	if content.param == nil then
		return
	end
	local event = {}
	event.target = self
	event.method = content.method
	event.param = content.param
	self:DispatchEvent(___all_struct[-840570937], event)
end

function OtherSystem:SystemSelectFile(target, init_dir)
	self._system_select_file = target
	__CPPAPI_SystemSelectFile(init_dir)
end

function OtherSystem:HandleSystemSelectFile(path)
	if self._system_select_file == nil then
		return
	end
	local tmp = self._system_select_file
	self._system_select_file = nil
	local event = {}
	event.target = tmp
	event.path = path
	tmp:DispatchEvent(___all_struct[124598654], event)
end

function OtherSystem:SystemSaveFile(target, file_name, path)
	self._system_save_file = target
	__CPPAPI_SystemSaveFile(file_name, path)
end

function OtherSystem:HandleSystemSaveFile(path)
	if self._system_save_file == nil then
		return
	end
	local tmp = self._system_save_file
	self._system_save_file = nil
	local event = {}
	event.target = tmp
	event.path = path
	tmp:DispatchEvent(___all_struct[-1676610185], event)
end

_G.A_OtherSystem = OtherSystem()

module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function String_CryptPassword(account_name, pwd)
	local device_id_md5 = String_MD5(System_GetDeviceID())
	local account_name_md5 = String_MD5(account_name)
	local device_id_md5_ex = String_MD5("ALittle" .. System_GetDeviceID() .. "ALittle")
	local account_name_md5_ex = String_MD5("ALittle" .. account_name .. "ALittle")
	local device_id_md5_base64 = String_Base64Encode(device_id_md5)
	local account_name_md5_base64 = String_Base64Encode(account_name_md5)
	return String_Base64Encode(device_id_md5_base64 .. String_Base64Encode(device_id_md5_ex .. pwd .. account_name_md5_ex) .. account_name_md5_base64)
end

function String_DecryptPassword(account_name, pwd)
	pwd = String_Base64Decode(pwd)
	local device_id_md5 = String_MD5(System_GetDeviceID())
	local account_name_md5 = String_MD5(account_name)
	local device_id_md5_ex = String_MD5("ALittle" .. System_GetDeviceID() .. "ALittle")
	local account_name_md5_ex = String_MD5("ALittle" .. account_name .. "ALittle")
	local device_id_md5_base64 = String_Base64Encode(device_id_md5)
	local account_name_md5_base64 = String_Base64Encode(account_name_md5)
	local start_index = String_Find(pwd, device_id_md5_base64)
	if start_index == nil then
		return nil
	end
	pwd = String_Sub(pwd, start_index + string.len(device_id_md5_base64))
	start_index = String_Find(pwd, account_name_md5_base64)
	if start_index == nil then
		return nil
	end
	pwd = String_Sub(pwd, 1, start_index - 1)
	pwd = String_Base64Decode(pwd)
	start_index = String_Find(pwd, device_id_md5_ex)
	if start_index == nil then
		return nil
	end
	pwd = String_Sub(pwd, start_index + string.len(device_id_md5_ex))
	start_index = String_Find(pwd, account_name_md5_ex)
	if start_index == nil then
		return nil
	end
	pwd = String_Sub(pwd, 1, start_index - 1)
	return pwd
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function System_GetPlatform()
	return __CPPAPI_GetPlatform()
end

function System_GetDeviceID()
	return __CPPAPI_GetDeviceID()
end

function System_GetLocalIPList()
	return __CPPAPI_GetLocalIPList()
end

function System_IsPhone()
	local platform = __CPPAPI_GetPlatform()
	return platform ~= "Windows" and platform ~= "Emscripten"
end

function System_InstallProgram(file_path)
	__CPPAPI_InstallProgram(file_path)
end

function System_ClearAIFamily()
	__CPPAPI_ClearAIFamily()
end

function System_StartProgram(package_name)
	__CPPAPI_StartProgram(package_name)
end

function System_BackProgram()
	__CPPAPI_BackProgram()
end

function System_GetScreenWidth()
	return __CPPAPI_GetScreenWidth()
end

function System_GetScreenHeight()
	return __CPPAPI_GetScreenHeight()
end

function System_GetStatusBarHeight()
	return __CPPAPI_GetStatusBarHeight()
end

function System_ForceExit()
	__CPPAPI_ScheduleSystem:ForceExit()
end

function System_Exit()
	__CPPAPI_ScheduleSystem:Exit()
end

function System_Restart()
	__CPPAPI_ScheduleSystem:Restart()
end

function System_SetFPS(fps)
	__CPPAPI_ScheduleSystem:SetFPS(fps)
end

function System_SetAppPauseInterval(interval)
	__CPPAPI_ScheduleSystem:SetAppPauseInterval(interval)
end

function System_GetAppPauseInterval()
	return __CPPAPI_ScheduleSystem:GetAppPauseInterval()
end

SystemThreadType = {
	FAST = 0,
	MIDDLE = 1,
	SLOW = 2,
}

function System_SetThreadCount(count, thread_type)
	if thread_type == nil then
		thread_type = SystemThreadType.SLOW
	end
	__CPPAPI_ThreadSystem:SetThreadCount(count, thread_type)
end

function System_GetThreadCount(thread_type)
	if thread_type == nil then
		thread_type = SystemThreadType.SLOW
	end
	return __CPPAPI_ThreadSystem:GetThreadCount(thread_type)
end

function System_GetIMESelectList()
	return __CPPAPI_GetIMESelectList()
end

function System_SetIMEPos(x, y)
	__CPPAPI_SetIMSPos(x, y)
end

function System_SetIMERect(x, y, w, h)
	__CPPAPI_SetIMSRect(x, y, w, h)
end

function System_OpenIME()
	__CPPAPI_OpenIME()
end

function System_CloseIME()
	__CPPAPI_CloseIME()
end

function System_GetCursorX()
	return __CPPAPI_GetCursorX()
end

function System_GetCursorY()
	return __CPPAPI_GetCursorY()
end

function System_SetEditCursor()
	__CPPAPI_SetEditCursor()
end

function System_SetNormalCursor()
	__CPPAPI_SetNormalCursor()
end

function System_SetHandCursor()
	__CPPAPI_SetHandCursor()
end

function System_SetHDragCursor()
	__CPPAPI_SetHDragCursor()
end

function System_SetVDragCursor()
	__CPPAPI_SetVDragCursor()
end

function System_SetHVDragCursor()
	__CPPAPI_SetHVDragCursor()
end

function System_SetHV2DragCursor()
	__CPPAPI_SetHV2DragCursor()
end

function System_SetCrossDragCursor()
	__CPPAPI_SetCrossDragCursor()
end

function System_CreateView(title, width, height, flag, scale)
	return __CPPAPI_RenderSystem:CreateView(title, width, height, flag, scale)
end

function System_SetViewTitle(title)
	return __CPPAPI_RenderSystem:SetViewTitle(title)
end

function System_SetViewIcon(path)
	return __CPPAPI_RenderSystem:SetViewIcon(path)
end

function System_SetViewShape(path)
	return __CPPAPI_RenderSystem:SetViewShape(path)
end

function System_SetViewSize(width, height)
	__CPPAPI_RenderSystem:SetViewSize(width, height)
end

function System_SetMaxViewSize()
	__CPPAPI_RenderSystem:SetMaxViewSize()
end

function System_SetMinViewSize()
	__CPPAPI_RenderSystem:SetMinViewSize()
end

function System_SetRestoreViewSize()
	__CPPAPI_RenderSystem:SetRestoreViewSize()
end

function System_RaiseView()
	__CPPAPI_RenderSystem:RaiseView()
end

function System_ShowView()
	__CPPAPI_RenderSystem:ShowView()
end

function System_HideView()
	__CPPAPI_RenderSystem:HideView()
end

function System_GetViewX()
	return __CPPAPI_RenderSystem:GetViewX()
end

function System_GetViewY()
	return __CPPAPI_RenderSystem:GetViewY()
end

function System_SetViewPosition(x, y)
	__CPPAPI_RenderSystem:SetViewPosition(x, y)
end

function System_GetMaxTextureWidth()
	return __CPPAPI_RenderSystem:GetMaxTextureWidth()
end

function System_GetMaxTextureHeight()
	return __CPPAPI_RenderSystem:GetMaxTextureHeight()
end

function System_Render()
	return __CPPAPI_RenderSystem:Render()
end

function System_GetClipboardText()
	return __CPPAPI_GetClipboardText()
end

function System_SetClipboardText(content)
	__CPPAPI_SetClipboardText(content)
end

function System_HasClipboardText()
	return __CPPAPI_HasClipboardText()
end

function System_GetClipboardImage()
	return __CPPAPI_GetClipboardImage()
end

function System_SetClipboardImage(surface)
	__CPPAPI_SetClipboardImage(surface)
end

function System_HasClipboardImage()
	return __CPPAPI_HasClipboardImage()
end

SystemOrientationType = {
	SDL_ORIENTATION_UNKNOWN = 0,
	SDL_ORIENTATION_LANDSCAPE = 1,
	SDL_ORIENTATION_LANDSCAPE_FLIPPED = 2,
	SDL_ORIENTATION_PORTRAIT = 3,
	SDL_ORIENTATION_PORTRAIT_FLIPPED = 4,
}

function System_GetDisplayOrientation()
	return __CPPAPI_GetDisplayOrientation()
end

function System_EnableScreenSaver()
	__CPPAPI_EnableScreenSaver()
end

function System_DisableScreenSaver()
	__CPPAPI_DisableScreenSaver()
end

function System_OpenUrlBySystemBrowser(url)
	__CPPAPI_OpenUrlBySystemBrowser(url)
end

function System_Alert(msg)
	__CPPAPI_Alert(msg)
end

function System_LoadSurface(path)
	return __CPPAPI_LoadSurface(path)
end

function System_CreateSurface(width, height)
	return __CPPAPI_CreateSurface(width, height)
end

function System_SaveSurface(surface, path)
	return __CPPAPI_SaveSurface(surface, path)
end

function System_FreeSurface(surface)
	__CPPAPI_FreeSurface(surface)
end

function System_GetSurfaceWidth(surface)
	return __CPPAPI_GetSurfaceWidth(surface)
end

function System_GetSurfaceHeight(surface)
	return __CPPAPI_GetSurfaceHeight(surface)
end

function System_CutBlitSurface(new_surface, surface, to, from)
	return __CPPAPI_CutBlitSurface(new_surface, surface, to, from)
end

function System_SetSurfacePixel(surface, x, y, color)
	return __CPPAPI_SetSurfacePixel(surface, x, y, color)
end

function System_GetSurfacePixel(surface, x, y)
	return __CPPAPI_GetSurfacePixel(surface, x, y)
end

function System_GetPixelAlpha(color)
	return __CPPAPI_GetPixelAlpha(color)
end

function System_SetPixelAlpha(color, alpha)
	return __CPPAPI_SetPixelAlpha(color, alpha)
end

function System_GetSurfaceGrid9(surface, type)
	return __CPPAPI_GetSurfaceGrid9(surface, type)
end

function CreateMsgSender(heartbeat, check_heartbeat, callback)
	return Lua.Template(MsgSenderTemplate, "ALittle.MsgSenderTemplate<lua.__CPPAPIMsgInterface, lua.__CPPAPIMessageWriteFactory>", __CPPAPIMsgInterface, __CPPAPIMessageWriteFactory)(heartbeat, check_heartbeat, A_LuaLoopSystem, callback)
end

function CreateHttpSender(ip, port)
	return Lua.Template(HttpSenderTemplate, "ALittle.HttpSenderTemplate<lua.__CPPAPIHttpInterface>", __CPPAPIHttpInterface)(ip, port)
end

function HttpRequest(ip, port, method)
local ___COROUTINE = coroutine.running()
	local sender = CreateHttpSender(ip, port)
	if ___COROUTINE == nil then
		return "当前不是协程", nil
	end
	sender:SendRPC(___COROUTINE, method, nil)
	return coroutine.yield()
end

function CreateHttpFileSender(ip, port, file_path, start_size, callback)
	return Lua.Template(HttpFileSenderTemplate, "ALittle.HttpFileSenderTemplate<lua.__CPPAPIHttpFileInterface>", __CPPAPIHttpFileInterface)(ip, port, file_path, start_size, callback)
end

function HttpDownloadRequest(ip, port, file_path, method, callback)
local ___COROUTINE = coroutine.running()
	local sender = CreateHttpFileSender(ip, port, file_path, 0, callback)
	if ___COROUTINE == nil then
		return "当前不是协程"
	end
	sender:SendDownloadRPC(___COROUTINE, method, nil)
	return coroutine.yield()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(2129851601, "ALittle.VersionInstallInfo", {
name = "ALittle.VersionInstallInfo", ns_name = "ALittle", rl_name = "VersionInstallInfo", hash_code = 2129851601,
name_list = {"c_file_path","c_file_size","start_size"},
type_list = {"string","int","int"},
option_map = {}
})
RegStruct(-600814285, "ALittle.SmallVersionInfo", {
name = "ALittle.SmallVersionInfo", ns_name = "ALittle", rl_name = "SmallVersionInfo", hash_code = -600814285,
name_list = {"c_file_path","c_file_size","c_type","c_width","c_height","c_md5","c_update_time","c_update_index","c_is_delete"},
type_list = {"string","int","string","int","int","string","int","int","int"},
option_map = {}
})
RegStruct(-245594234, "ALittle.VersionDownloadInfo", {
name = "ALittle.VersionDownloadInfo", ns_name = "ALittle", rl_name = "VersionDownloadInfo", hash_code = -245594234,
name_list = {"c_file_path","c_file_size","c_type","c_width","c_height","c_md5","c_update_time","c_update_index","c_is_delete","start_size"},
type_list = {"string","int","string","int","int","string","int","int","int","int"},
option_map = {}
})
RegStruct(1916591200, "ALittle.BigVersionInfo", {
name = "ALittle.BigVersionInfo", ns_name = "ALittle", rl_name = "BigVersionInfo", hash_code = 1916591200,
name_list = {"c_big_version","c_install_version","c_db_version"},
type_list = {"string","string","string"},
option_map = {}
})
RegStruct(-1881042933, "ALittle.VersionLogInfo", {
name = "ALittle.VersionLogInfo", ns_name = "ALittle", rl_name = "VersionLogInfo", hash_code = -1881042933,
name_list = {"c_content","c_create_time","c_create_index"},
type_list = {"string","int","int"},
option_map = {}
})

local HttpSender = Lua.Template(HttpSenderTemplate, "ALittle.HttpSenderTemplate<lua.__CPPAPIHttpInterface>", __CPPAPIHttpInterface);
local HttpFileSender = Lua.Template(HttpFileSenderTemplate, "ALittle.HttpFileSenderTemplate<lua.__CPPAPIHttpFileInterface>", __CPPAPIHttpFileInterface);
VersionProcess = {
	VERSION_NONEED_UPDATE = 1,
	VERSION_NEED_UPDATE_ADD = 2,
	VERSION_NEED_UPDATE_FORCE = 3,
	UPDATE_VERSION_FAILED = 11,
	UPDATE_VERSION_SUCCEED = 12,
	UPDATE_VERSION_INSTALL = 13,
}

VersionSystem = Lua.Class(nil, "ALittle.VersionSystem")

function VersionSystem.UpdateTimeIndexComp(a, b)
	if a == nil and b == nil then
		return 0
	end
	if b == nil then
		return 1
	end
	if a == nil then
		return -1
	end
	if a.c_update_time > b.c_update_time then
		return 1
	end
	if a.c_update_time < b.c_update_time then
		return -1
	end
	if a.c_update_index > b.c_update_index then
		return 1
	end
	if a.c_update_index < b.c_update_index then
		return -1
	end
	return 0
end

function VersionSystem:Ctor(account_name, module_name)
	___rawset(self, "_account_name", account_name)
	___rawset(self, "_module_name", module_name)
	___rawset(self, "_install_name", "install.xxx")
	___rawset(self, "_module_path", "Module/" .. module_name .. "/")
	___rawset(self, "_update_path", "Update/" .. module_name .. "/")
	___rawset(self, "_check", nil)
	___rawset(self, "_callback", nil)
	___rawset(self, "_cur_in_version", "CurVersion.db")
	___rawset(self, "_cur_in_version_tmp", "CurVersionTmp.db")
	___rawset(self, "_tmp_in_version", "TmpVersion.db")
	___rawset(self, "_new_in_version", "NewVersion.db")
	___rawset(self, "_new_version_tmp", "NewVersionTmp.db")
	___rawset(self, "_doing", false)
	___rawset(self, "_big_version", false)
	___rawset(self, "_install_info", nil)
	___rawset(self, "_download_list", {})
	___rawset(self, "_download_list_count", 0)
	___rawset(self, "_total_repeat_count", 0)
	___rawset(self, "_remain_repeat_count", 0)
	___rawset(self, "_cur_file_index", 0)
	___rawset(self, "_file_count", 0)
	___rawset(self, "_total_update_size", 0)
	___rawset(self, "_current_update_size", 0)
	___rawset(self, "_current_file_size", 0)
	___rawset(self, "_current_request", nil)
	___rawset(self, "_ask_update_request", nil)
end

function VersionSystem.CreateVersionSystem(account_name, module_name)
	local platform = System_GetPlatform()
	if platform == "Android" then
		return VersionSystemAndroid(account_name, module_name)
	elseif platform == "iOS" then
		return VersionSystemIOS(account_name, module_name)
	elseif platform == "Windows" then
		return VersionSystemWindows(account_name, module_name)
	end
	return nil
end

function VersionSystem.RefreshVersion()
	local platform = System_GetPlatform()
	if platform == "Android" then
		VersionSystemAndroid.RefreshVersion()
	elseif platform == "iOS" then
		VersionSystemIOS.RefreshVersion()
	elseif platform == "Windows" then
		VersionSystemWindows.RefreshVersion()
	end
end

function VersionSystem:GetVersionInfo(db_path, get_log_count)
	if File_GetFileAttr(db_path) == nil then
		return nil, nil, nil
	end
	local big_version
	local small_version
	local sqlite = sqlite3.open(db_path)
	local stmt = sqlite:prepare("SELECT * FROM BigVersion")
	for row in stmt:nrows() do
		big_version = row
	end
	stmt:reset()
	stmt = sqlite:prepare("SELECT * FROM SmallVersion ORDER BY c_update_time DESC,c_update_index DESC LIMIT 1")
	for row in stmt:nrows() do
		small_version = row
	end
	stmt:reset()
	if get_log_count == nil then
		get_log_count = 1
	end
	stmt = sqlite:prepare("SELECT * FROM VersionLog ORDER BY c_create_time DESC,c_create_index DESC LIMIT ?")
	stmt:bind_values(get_log_count)
	local log_list = {}
	local log_list_count = 0
	for row in stmt:nrows() do
		log_list_count = log_list_count + 1
		log_list[log_list_count] = row.c_content
	end
	stmt:reset()
	sqlite:close()
	return big_version, small_version, log_list
end

function VersionSystem:GetCurVersion(get_log_count)
	return self:GetVersionInfo(File_BaseFilePath() .. self._module_path .. self._cur_in_version, get_log_count)
end

function VersionSystem:GetNewVersion(get_log_count)
	return self:GetVersionInfo(File_BaseFilePath() .. self._update_path .. self._new_in_version, get_log_count)
end

function VersionSystem:GetNewLogList()
	if self._update_info == nil then
		return nil
	end
	return self._update_info.log_list
end

function VersionSystem.__getter:doing()
	return self._doing
end

function VersionSystem.__getter:total_update_size()
	return self._total_update_size
end

function VersionSystem.__getter:current_update_size()
	return self._current_update_size + self._current_file_size
end

function VersionSystem:UpdateModule()
	local update_path = File_BaseFilePath() .. "Update/" .. self._module_name
	local module_path = File_BaseFilePath() .. "Module/" .. self._module_name
	if File_GetFileAttr(module_path .. "/CurVersion.db") == nil then
		File_MakeDeepDir(module_path)
		File_CopyFileFromAsset("Module/" .. self._module_name .. "/CurVersion.db", module_path .. "/CurVersionInstall.db")
		File_RenameFile(module_path .. "/CurVersionInstall.db", module_path .. "/CurVersion.db")
	end
	if File_GetFileAttr(update_path) == nil then
		return
	end
	local tmp_version = update_path .. "/" .. self._tmp_in_version
	if File_GetFileAttr(tmp_version) ~= nil then
		return
	end
	local cur_big_version, cur_small_version = self:GetCurVersion()
	local new_big_version, new_small_version = self:GetNewVersion()
	if VersionSystem.UpdateTimeIndexComp(cur_small_version, new_small_version) >= 0 then
		File_DeleteDeepDir(update_path, false)
		return
	end
	local install_path = update_path .. "/" .. self._install_name
	if File_GetFileAttr(install_path) ~= nil then
		File_CopyFile(update_path .. "/" .. self._new_in_version, update_path .. "/" .. self._tmp_in_version)
	else
		File_MakeDeepDir(module_path)
		Log("Update目录的文件全部复制到Module中.", update_path, module_path)
		File_CopyDeepDir(update_path, module_path, nil, true)
		local sqlite_new = sqlite3.open(update_path .. "/" .. self._new_in_version)
		local stmt = sqlite_new:prepare("SELECT * FROM SmallVersion WHERE (c_update_time>? OR (c_update_time=? AND c_update_index>?)) AND c_is_delete=1")
		if cur_small_version == nil then
			stmt:bind_values(0, 0, 0)
		else
			stmt:bind_values(cur_small_version.c_update_time, cur_small_version.c_update_time, cur_small_version.c_update_index)
		end
		for row in stmt:nrows() do
			Log("删掉残留文件.", module_path .. "/" .. row.c_file_path)
			File_DeleteFile(module_path .. "/" .. row.c_file_path)
		end
		stmt:reset()
		if cur_big_version ~= nil and cur_big_version.c_db_version ~= new_big_version.c_db_version then
			local sqlite_cur = sqlite3.open(module_path .. "/" .. self._cur_in_version)
			if sqlite_cur ~= nil then
				local stmt_cur = sqlite_cur:prepare("SELECT * FROM SmallVersion WHERE c_is_delete=0")
				local stmt_new = sqlite_new:prepare("SELECT * FROM SmallVersion WHERE c_is_delete=0 AND c_file_path=?")
				for row in stmt_cur:nrows() do
					stmt_new:bind_values(row.c_file_path)
					local has = false
					for _ in stmt_new:nrows() do
						has = true
						break
					end
					stmt_new:reset()
					if has == false then
						Log("删掉残留文件.", module_path .. "/" .. row.c_file_path)
						File_DeleteFile(module_path .. "/" .. row.c_file_path)
					end
				end
				stmt_cur:reset()
				sqlite_cur:close()
			end
		end
		sqlite_new:close()
		File_CopyFile(update_path .. "/" .. self._new_in_version, module_path .. "/" .. self._cur_in_version_tmp)
		File_DeleteFile(module_path .. "/" .. self._cur_in_version)
		File_RenameFile(module_path .. "/" .. self._cur_in_version_tmp, module_path .. "/" .. self._cur_in_version)
		Log("删除Update目录的全部文件", update_path)
		File_DeleteDeepDir(update_path, true)
	end
end

function VersionSystem:UpdateVersion(ip, port, callback, check, repeat_count)
local ___COROUTINE = coroutine.running()
	if self._doing == true then
		Log("VersionSystem.UpdateVersion, already in updating!")
		return VersionProcess.UPDATE_VERSION_FAILED
	end
	if ip == nil then
		Log("VersionSystem.UpdateVersion, ip must not be null!")
		return VersionProcess.UPDATE_VERSION_FAILED
	end
	if port == nil then
		Log("VersionSystem.UpdateVersion, port must not be null!")
		return VersionProcess.UPDATE_VERSION_FAILED
	end
	self._callback = callback
	self._check = check
	self._ip = ip
	self._port = port
	self._install_info = nil
	self._update_info = nil
	self._download_list = {}
	self._download_list_count = 0
	if repeat_count == nil then
		repeat_count = 0
	end
	self._total_repeat_count = repeat_count
	if self._total_repeat_count < 0 then
		self._total_repeat_count = 0
	end
	self._remain_repeat_count = self._total_repeat_count
	self._cur_file_index = 0
	self._file_count = 0
	self._total_update_size = 0
	self._current_update_size = 0
	self._current_file_size = 0
	self._cur_big_version, self._cur_small_version = self:GetCurVersion()
	do
		local param = {}
		if self._cur_big_version ~= nil then
			param.big_version = self._cur_big_version.c_big_version
			param.install_version = self._cur_big_version.c_install_version
		end
		if self._cur_small_version ~= nil then
			param.small_version_time = self._cur_small_version.c_update_time
			param.small_version_index = self._cur_small_version.c_update_index
		end
		param.platform = System_GetPlatform()
		param.module_name = self._module_name
		param.account_name = self._account_name
		self._ask_update_request = HttpSender(self._ip, self._port)
		self._doing = true
		local error, result = ALittle.IHttpSender.Invoke("VersionServer.QUpdateVersion", self._ask_update_request, param)
		self._ask_update_request = nil
		if error ~= nil then
			Log("VersionSystem.UpdateVersion" .. error)
			self._doing = false
			return VersionProcess.UPDATE_VERSION_FAILED
		end
		self._ask_update_request = nil
		if error ~= nil then
			Log("VersionSystem error:" .. error)
			self._doing = false
			return VersionProcess.UPDATE_VERSION_FAILED
		end
		if result.result == false then
			self._doing = false
			return VersionProcess.VERSION_NONEED_UPDATE
		end
		self._update_info = result
		if self._check then
			self._doing = false
			if self._cur_big_version == nil or result.version_info.big_version ~= self._cur_big_version.c_big_version then
				return VersionProcess.VERSION_NEED_UPDATE_FORCE
			else
				return VersionProcess.VERSION_NEED_UPDATE_ADD
			end
		end
		if self._cur_big_version == nil or self._update_info.version_info.install_version ~= self._cur_big_version.c_install_version then
			self._install_info = {}
			self._install_info.c_file_path = self._install_name
			self._install_info.c_file_size = self._update_info.version_info.install_size
			self._install_info.start_size = 0
		else
			self._install_info = nil
		end
		File_MakeDeepDir(File_BaseFilePath() .. "Update/" .. self._module_name)
	end
	do
		local param = {}
		param.platform = System_GetPlatform()
		param.version_id = self._update_info.version_info.version_id
		param.file_path = "CurVersion.db"
		self._current_request = HttpFileSender(self._ip, self._port, File_BaseFilePath() .. self._update_path .. self._new_version_tmp, 0, nil)
		local error = ALittle.IHttpFileSender.InvokeDownload("VersionServer.QDownloadVersionFile", self._current_request, param)
		self._current_request = nil
		if error ~= nil then
			self._doing = false
			return VersionProcess.UPDATE_VERSION_FAILED
		end
		File_RenameFile(File_BaseFilePath() .. self._update_path .. self._new_version_tmp, File_BaseFilePath() .. self._update_path .. self._new_in_version)
		local sqlite_new = sqlite3.open(File_BaseFilePath() .. self._update_path .. self._new_in_version)
		if sqlite_new ~= nil then
			local stmt = sqlite_new:prepare("SELECT * FROM SmallVersion WHERE (c_update_time>? OR (c_update_time=? AND c_update_index>?)) AND c_is_delete=0")
			if self._cur_small_version == nil then
				stmt:bind_values(0, 0, 0)
			else
				stmt:bind_values(self._cur_small_version.c_update_time, self._cur_small_version.c_update_time, self._cur_small_version.c_update_index)
			end
			for row in stmt:nrows() do
				row.start_size = 0
				self._download_list_count = self._download_list_count + 1
				self._download_list[self._download_list_count] = row
			end
			stmt:reset()
			sqlite_new:close()
		else
			Log("VersionSystem error. new_version_db open failed!")
			File_DeleteDeepDir(File_BaseFilePath() .. "Update/" .. self._module_name, false)
			self._doing = false
			return VersionProcess.UPDATE_VERSION_FAILED
		end
		if self._module_name ~= A_ModuleSystem:GetMainModuleName() then
			self._install_info = nil
		end
		if self._install_info ~= nil then
			self._download_list = {}
			self._download_list_count = 1
			local download_info = {}
			download_info.c_file_path = self._install_info.c_file_path
			download_info.c_file_size = self._install_info.c_file_size
			download_info.start_size = self._install_info.start_size
			self._download_list[self._download_list_count] = download_info
		end
		self._file_count = self._download_list_count
		self._cur_file_index = 0
		if self._file_count > 0 then
			for k, v in ___ipairs(self._download_list) do
				self._total_update_size = self._total_update_size + v.c_file_size
			end
			local new_md5 = __CPPAPI_ScriptSystemEx:FileMD5(File_BaseFilePath() .. self._update_path .. self._new_in_version)
			local tmp_md5 = nil
			if File_GetFileAttr(File_BaseFilePath() .. self._update_path .. self._tmp_in_version) ~= nil then
				tmp_md5 = __CPPAPI_ScriptSystemEx:FileMD5(File_BaseFilePath() .. self._update_path .. self._tmp_in_version)
			end
			if new_md5 == tmp_md5 then
				local new_download_list = {}
				local new_download_list_count = 0
				for k, v in ___ipairs(self._download_list) do
					local file_attr = File_GetFileAttr(File_BaseFilePath() .. self._update_path .. v.c_file_path)
					if file_attr == nil then
						new_download_list_count = new_download_list_count + 1
						new_download_list[new_download_list_count] = v
					elseif file_attr.size < v.c_file_size then
						v.start_size = file_attr.size
						new_download_list_count = new_download_list_count + 1
						table.insert(new_download_list, 1, v)
					else
						self._current_update_size = self._current_update_size + file_attr.size
					end
				end
				self._download_list = new_download_list
				self._download_list_count = new_download_list_count
			else
				File_CopyFile(File_BaseFilePath() .. self._update_path .. self._new_in_version, File_BaseFilePath() .. self._update_path .. self._tmp_in_version)
			end
			self._remain_repeat_count = self._total_repeat_count
			self:DownloadNext()
		else
			self._doing = false
			return VersionProcess.VERSION_NONEED_UPDATE
		end
	end
	return nil
end

function VersionSystem:DownloadNext()
local ___COROUTINE = coroutine.running()
	local count = self._download_list_count
	if count == 0 then
		self._doing = false
		File_DeleteFile(File_BaseFilePath() .. self._update_path .. self._tmp_in_version)
		if self._install_info ~= nil then
			return VersionProcess.UPDATE_VERSION_INSTALL
		end
		if File_GetFileAttr(File_BaseFilePath() .. self._update_path .. "Engine") ~= nil then
			File_MakeDir(File_BaseFilePath() .. self._module_path .. "Engine")
			File_CopyDeepDir(File_BaseFilePath() .. self._update_path .. "Engine", File_BaseFilePath() .. self._module_path .. "Engine", nil, false)
		end
		return VersionProcess.UPDATE_VERSION_SUCCEED
	end
	self._cur_file_index = self._cur_file_index + 1
	local file_info = self._download_list[1]
	table.remove(self._download_list, 1)
	self._download_list_count = self._download_list_count - 1
	local file_full_path = File_BaseFilePath() .. self._update_path .. file_info.c_file_path
	local file_path = File_GetFilePathByPath(file_info.c_file_path)
	Log("begin download remain_count(" .. self._remain_repeat_count .. ")." .. file_full_path, "start size." .. file_info.start_size)
	if file_path ~= "" then
		File_MakeDeepDir(File_BaseFilePath() .. self._update_path .. file_path)
	end
	self._current_file_size = file_info.start_size
	local param = {}
	param.platform = System_GetPlatform()
	param.start_size = file_info.start_size
	param.version_id = self._update_info.version_info.version_id
	param.file_path = file_info.c_file_path
	self._current_request = HttpFileSender(self._ip, self._port, file_full_path, file_info.start_size, Lua.Bind(self.DownloadUpdateFileCallback, self, file_info, self._current_request))
	local error = ALittle.IHttpFileSender.InvokeDownload("VersionServer.QDownloadVersionFile", self._current_request, param)
	self._current_request = nil
	if error ~= nil then
		if self._remain_repeat_count <= 0 then
			self._doing = false
			return VersionProcess.UPDATE_VERSION_FAILED
		end
		self._remain_repeat_count = self._remain_repeat_count - 1
		self._cur_file_index = self._cur_file_index - 1
		table.insert(self._download_list, 1, file_info)
		self._download_list_count = self._download_list_count + 1
		file_info.start_size = 0
		local file_attr = File_GetFileAttr(file_full_path)
		if file_attr ~= nil then
			file_info.start_size = file_attr.size
		end
		self._current_file_size = file_info.start_size
	else
		Log("download succeed." .. file_full_path)
		self._current_update_size = self._current_update_size + self._current_request:GetTotalSize()
		self._remain_repeat_count = self._total_repeat_count
		self._current_file_size = 0
	end
	return self:DownloadNext()
end

function VersionSystem:DownloadUpdateFileCallback(file_info, file)
	local file_name = file:GetFilePath()
	local cur_size = file:GetCurSize()
	local total_size = file:GetTotalSize()
	self._callback(file_name, cur_size, total_size, self._cur_file_index, self._file_count)
	self._current_file_size = cur_size
end

function VersionSystem:StopUpdate()
	if self._doing ~= true then
		return
	end
	if self._ask_update_request ~= nil then
		self._ask_update_request:Stop()
		self._ask_update_request = nil
	end
	if self._current_request ~= nil then
		self._current_request:Stop()
		self._current_request = nil
	end
end

function VersionSystem:Install(install_name)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.VersionSystem, " extends class:ALittle.VersionSystem is nil")
VersionSystemAndroid = Lua.Class(ALittle.VersionSystem, "ALittle.VersionSystemAndroid")

function VersionSystemAndroid:Ctor(account_name, module_name)
	___rawset(self, "_install_name", "Install.apk")
end

function VersionSystemAndroid.RefreshVersion()
	if File_GetFileAttr(File_BaseFilePath() .. "Module") == nil then
		return
	end
	for file in lfs.dir(File_BaseFilePath() .. "Module") do
		if file ~= "." and file ~= ".." then
			local module_path = "Module/" .. file
			File_MakeDir(File_BaseFilePath() .. module_path)
			if File_GetFileAttr(File_BaseFilePath() .. module_path .. "/CurVersion.db") ~= nil then
				local change = false
				local succeed = File_CopyFileFromAsset(module_path .. "/CurVersion.db", File_BaseFilePath() .. module_path .. "/CurVersionInstall.db")
				if succeed then
					local sqlite_out = sqlite3.open(File_BaseFilePath() .. module_path .. "/CurVersion.db")
					if sqlite_out ~= nil then
						local sqlite_in = sqlite3.open(File_BaseFilePath() .. module_path .. "/CurVersionInstall.db")
						if sqlite_in ~= nil then
							local sql = "SELECT c_update_time,c_update_index FROM SmallVersion ORDER BY c_update_time DESC,c_update_index DESC LIMIT 1"
							local stmt_in = sqlite_in:prepare(sql)
							local update_time_in = nil
							for row in stmt_in:nrows() do
								update_time_in = row
							end
							stmt_in:reset()
							local stmt_out = sqlite_out:prepare(sql)
							local update_time_out = nil
							for row in stmt_out:nrows() do
								update_time_out = row
							end
							stmt_out:reset()
							local comp = VersionSystem.UpdateTimeIndexComp(update_time_in, update_time_out)
							if comp > 0 then
								local stmt = sqlite_in:prepare("SELECT * FROM SmallVersion WHERE c_update_time>? OR (c_update_time=? AND c_update_index>?)")
								stmt:bind_values(update_time_out.c_update_time, update_time_out.c_update_time, update_time_out.c_update_index)
								for row in stmt:nrows() do
									Log("安装包的版本比热更新版本高，删掉热更新文件:", File_BaseFilePath() .. module_path .. "/" .. row.c_file_path)
									File_DeleteFile(File_BaseFilePath() .. module_path .. "/" .. row.c_file_path)
									change = true
								end
								stmt:reset()
							end
							sql = "SELECT * FROM BigVersion"
							stmt_in = sqlite_in:prepare(sql)
							local big_version_in = nil
							for row in stmt_in:nrows() do
								big_version_in = row
							end
							stmt_in:reset()
							stmt_out = sqlite_out:prepare(sql)
							local big_version_out = nil
							for row in stmt_out:nrows() do
								big_version_out = row
							end
							stmt_out:reset()
							if big_version_in ~= nil and big_version_out ~= nil and big_version_in.c_db_version > big_version_out.c_db_version then
								change = true
							end
							if big_version_in ~= nil and big_version_out ~= nil and big_version_in.c_db_version ~= big_version_out.c_db_version then
								change = true
								stmt_out = sqlite_out:prepare("SELECT * FROM SmallVersion WHERE c_is_delete=0")
								stmt_in = sqlite_in:prepare("SELECT * FROM SmallVersion WHERE c_is_delete=0 AND c_file_path=?")
								for row in stmt_out:nrows() do
									stmt_in:bind_values(row.c_file_path)
									local has = false
									for _ in stmt_in:nrows() do
										has = true
										break
									end
									stmt_in:reset()
									if has == false then
										Log("删掉残留文件:", File_BaseFilePath() .. module_path .. "/" .. row.c_file_path)
										File_DeleteFile(File_BaseFilePath() .. module_path .. "/" .. row.c_file_path)
									end
								end
								stmt_out:reset()
							end
							sqlite_in:close()
						end
						sqlite_out:close()
					end
				end
				if change == true then
					File_DeleteFile(File_BaseFilePath() .. module_path .. "/CurVersion.db")
					File_RenameFile(File_BaseFilePath() .. module_path .. "/CurVersionInstall.db", File_BaseFilePath() .. module_path .. "/CurVersion.db")
				else
					File_DeleteFile(File_BaseFilePath() .. module_path .. "/CurVersionInstall.db")
				end
			end
		end
	end
end

function VersionSystemAndroid.InstallImpl(install_name)
	System_InstallProgram(install_name)
	System_ForceExit()
end

function VersionSystemAndroid:Install(install_name)
	if install_name == nil then
		install_name = File_BaseFilePath() .. self._update_path .. self._install_name
	end
	os.execute("chmod 777 " .. File_BaseFilePath() .. "Update")
	os.execute("chmod 777 " .. File_BaseFilePath() .. "Update/" .. self._module_name)
	os.execute("chmod 777 " .. File_BaseFilePath() .. "Update/" .. self._module_name .. "/" .. self._install_name)
	local updater = LoopFunction(Lua.Bind(VersionSystemAndroid.InstallImpl, install_name), 1, 0, 1)
	updater:Start()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.VersionSystem, " extends class:ALittle.VersionSystem is nil")
VersionSystemIOS = Lua.Class(ALittle.VersionSystem, "ALittle.VersionSystemIOS")

function VersionSystemIOS:Ctor(account_name, module_name)
	___rawset(self, "_install_name", "Install.ipa")
end

function VersionSystemIOS.RefreshVersion()
	VersionSystemAndroid.RefreshVersion()
end

function VersionSystemIOS:Install(install_name)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.VersionSystem, " extends class:ALittle.VersionSystem is nil")
VersionSystemWindows = Lua.Class(ALittle.VersionSystem, "ALittle.VersionSystemWindows")

function VersionSystemWindows:Ctor(account_name, module_name)
	___rawset(self, "_install_name", "Install.exe")
end

function VersionSystemWindows.RefreshVersion()
end

function VersionSystemWindows.InstallImpl(install_name)
	System_InstallProgram(install_name .. " /silent /norestart")
	System_ForceExit()
end

function VersionSystemWindows:Install(install_name)
	if install_name == nil then
		install_name = File_BaseFilePath() .. self._update_path .. self._install_name
	end
	local updater = LoopFunction(Lua.Bind(VersionSystemWindows.InstallImpl, install_name), 1, 0, 1)
	updater:Start()
end


local ___pairs = pairs
local ___ipairs = ipairs


local LuaRequire
LuaRequire = function(path)
	require(path)
end

function Require(url)
local ___COROUTINE = coroutine.running()
	require(url)
	return nil
end

function __ALITTLEAPI_Core_Init(base_path)
local ___COROUTINE = coroutine.running()
	Require(base_path .. "Core/Reflect/ReflectRegister")
	Require(base_path .. "Core/Reflect/ReflectDefine")
	do
		Require(base_path .. "Core/Lua/LuaBind")
		Require(base_path .. "Core/Lua/LuaClass")
		Require(base_path .. "Core/Lua/LuaException")
		if _G["bit"] == nil then
			_G["bit"] = _G["bit32"]
		end
	end
	Require(base_path .. "Core/Utility/Log")
	Require(base_path .. "Core/Utility/List")
	Require(base_path .. "Core/Utility/Math")
	Require(base_path .. "Core/Utility/String")
	Require(base_path .. "Core/Utility/Time")
	Require(base_path .. "Core/Utility/Coroutine")
	Require(base_path .. "Core/Net/HttpFileReceiver")
	Require(base_path .. "Core/Net/HttpFileSender")
	Require(base_path .. "Core/Net/HttpReceiver")
	Require(base_path .. "Core/Net/HttpSender")
	Require(base_path .. "Core/Net/MsgCommon")
end


module("Lua", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

ALittle.RegStruct(1453939213, "Lua.FunctorMetatable", {
name = "Lua.FunctorMetatable", ns_name = "Lua", rl_name = "FunctorMetatable", hash_code = 1453939213,
name_list = {"__call","__tostring"},
type_list = {"any","Functor<(Lua.FunctorObject):string>"},
option_map = {}
})
ALittle.RegStruct(-1456681653, "Lua.FunctorObject", {
name = "Lua.FunctorObject", ns_name = "Lua", rl_name = "FunctorObject", hash_code = -1456681653,
name_list = {"_arg","_arg_count","_func"},
type_list = {"List<any>","int","Functor<(any):any>"},
option_map = {}
})
ALittle.RegStruct(-2114130826, "Lua.CoFunctorMetatable", {
name = "Lua.CoFunctorMetatable", ns_name = "Lua", rl_name = "CoFunctorMetatable", hash_code = -2114130826,
name_list = {"__call","__tostring"},
type_list = {"any","Functor<(Lua.CoFunctorObject):string>"},
option_map = {}
})
ALittle.RegStruct(1817653851, "Lua.CoFunctorObject", {
name = "Lua.CoFunctorObject", ns_name = "Lua", rl_name = "CoFunctorObject", hash_code = 1817653851,
name_list = {"_func"},
type_list = {"Functor<(any):any>"},
option_map = {}
})

local select = select
local unpack = unpack
local tostring = tostring
local setmetatable = setmetatable
local getmetatable = getmetatable
local coroutine = coroutine
local type = type
local __functor_mt = {}
local __functor_mt__call
__functor_mt__call = function(caller, ...)
	local new_arg_list = {}
	local arg_list = caller._arg
	local arg_count = caller._arg_count
	local i = 1
	while true do
		if not(i <= arg_count) then break end
		new_arg_list[i] = arg_list[i]
		i = i+(1)
	end
	local add_count = select("#", ...)
	local i = 1
	while true do
		if not(i <= add_count) then break end
		new_arg_list[arg_count + i] = select(i, ...)
		i = i+(1)
	end
	return caller._func(unpack(new_arg_list, 1, arg_count + add_count))
end

__functor_mt.__call = __functor_mt__call
local __functor_mt__tostring
__functor_mt__tostring = function(caller)
	return "[ALittle Functor:" .. tostring(caller) .. "]"
end

__functor_mt.__tostring = __functor_mt__tostring
function Bind(func, ...)
	Lua.Assert(func, "func == null")
	if select("#", ...) == 0 then
		return func
	end
	local object = {}
	object._func = func
	object._arg = {...}
	object._arg_count = select("#", ...)
	setmetatable(object, __functor_mt)
	return object
end

local __co_functor_mt = {}
local __co_functor_mt__call
__co_functor_mt__call = function(caller, ...)
	return coroutine.wrap(caller._func)(...)
end

__co_functor_mt.__call = __co_functor_mt__call
local __co_functor_mt__tostring
__co_functor_mt__tostring = function(caller)
	return "[ALittle CoWrap:" .. tostring(caller) .. "]"
end

__co_functor_mt.__tostring = __co_functor_mt__tostring
function CoWrap(func)
	local object = {}
	object._func = func
	setmetatable(object, __co_functor_mt)
	return object
end

function IsCoWrap(value)
	return type(value) == "table" and getmetatable(value) == __co_functor_mt
end


module("Lua", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

ALittle.RegStruct(1652320227, "Lua.ObjectInfo", {
name = "Lua.ObjectInfo", ns_name = "Lua", rl_name = "ObjectInfo", hash_code = 1652320227,
name_list = {"__class"},
type_list = {"ALittle.ClassInfo"},
option_map = {}
})
ALittle.RegStruct(1620637943, "Lua.ObjectMetatable", {
name = "Lua.ObjectMetatable", ns_name = "Lua", rl_name = "ObjectMetatable", hash_code = 1620637943,
name_list = {"__index","__newindex","__tostring"},
type_list = {"Functor<(Lua.ObjectInfo,string):any>","Functor<(Lua.ObjectInfo,string,any)>","Functor<(Lua.ObjectInfo):string>"},
option_map = {}
})
ALittle.RegStruct(-1535459145, "Lua.ClassMetatable", {
name = "Lua.ClassMetatable", ns_name = "Lua", rl_name = "ClassMetatable", hash_code = -1535459145,
name_list = {"__index","__call","__tostring"},
type_list = {"Functor<(ALittle.ClassInfo,string):any>","any","Functor<(ALittle.ClassInfo):string>"},
option_map = {}
})

local rawget = rawget
local rawset = rawset
local tostring = tostring
local setmetatable = setmetatable
local type = type
local select = select
local __object_index_function
__object_index_function = function(object, key)
	local clazz = rawget(object, "__class")
	local getter = clazz.__getter[key]
	if getter ~= nil then
		return getter(object)
	end
	local value = clazz[key]
	if value ~= nil then
		rawset(object, key, value)
		return value
	end
	return nil
end

local __object_newindex_function
__object_newindex_function = function(object, key, value)
	local clazz = rawget(object, "__class")
	local setter = clazz.__setter[key]
	if setter ~= nil then
		setter(object, value)
		return
	end
	rawset(object, key, value)
end

local __object_tostring_function
__object_tostring_function = function(object)
	local clazz = rawget(object, "__class")
	return "[ALittle Object instance of " .. tostring(clazz.__name) .. "]"
end

local __object_mt = {}
__object_mt.__index = __object_index_function
__object_mt.__newindex = __object_newindex_function
__object_mt.__tostring = __object_tostring_function
local __class_create_function
__class_create_function = function(clazz, object, ...)
	local super = rawget(clazz, "__super")
	if super ~= nil then
		__class_create_function(super, object, ...)
	end
	local fctor = rawget(clazz, "Ctor")
	if fctor ~= nil then
		fctor(object, ...)
	end
end

local __class_index_function
__class_index_function = function(clazz, key)
	local super = rawget(clazz, "__super")
	if super == nil then
		return nil
	end
	local value = super[key]
	rawset(clazz, key, value)
	return value
end

local __class_call_function
__class_call_function = function(clazz, ...)
	local object = {}
	object.__class = clazz
	setmetatable(object, __object_mt)
	__class_create_function(clazz, object, ...)
	return object
end

local __class_tostring_function
__class_tostring_function = function(clazz)
	return "[ALittle Class:" .. tostring(clazz.__name) .. "]"
end

local __class_mt = {}
__class_mt.__index = __class_index_function
__class_mt.__call = __class_call_function
__class_mt.__tostring = __class_tostring_function
function Class(super, name)
	local clazz = {}
	clazz.__super = super
	clazz.__name = name
	local setter = {}
	local getter = {}
	if super ~= nil then
		for k, v in ___pairs(super.__setter) do
			setter[k] = v
		end
		for k, v in ___pairs(super.__getter) do
			getter[k] = v
		end
	end
	clazz.__setter = setter
	clazz.__getter = getter
	setmetatable(clazz, __class_mt)
	return clazz
end

function Template(clazz, name, ...)
	local child = clazz.__child
	if child == nil then
		child = {}
		clazz.__child = child
	end
	local template = child[name]
	if template ~= nil then
		return template
	end
	template = {}
	child[name] = template
	for key, value in ___pairs(clazz) do
		if type(value) == "function" or IsCoWrap(value) then
			template[key] = value
		end
	end
	template.__super = clazz.__super
	template.__name = name
	template.__setter = clazz.__setter
	template.__getter = clazz.__getter
	template.__element = {...}
	setmetatable(template, __class_mt)
	return template
end


module("Lua", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local error = error
function TCall(...)
	local out_list = {pcall(...)}
	if out_list[1] ~= true then
		if out_list[2] == nil then
			return "nil"
		end
		return out_list[2]
	end
	local l = table.maxn(out_list)
	out_list[1] = nil
	return unpack(out_list, 1, l)
end

function Throw(msg)
	error(msg)
end

function Assert(value, msg)
	if value ~= nil and value ~= false then
		return
	end
	if msg == nil then
		msg = "Assert failed"
	end
	error(msg)
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IHttpFileReceiver = Lua.Class(nil, "ALittle.IHttpFileReceiver")

function IHttpFileReceiver:StartReceiveFile(file_path, start_size)
local ___COROUTINE = coroutine.running()
	return "not impl"
end

local __all_callback = {}
function RegHttpFileCallback(method, callback)
	if __all_callback[method] ~= nil then
		Error("RegHttpFileCallback消息回调函数注册失败，名字为" .. method .. "已存在")
		return
	end
	__all_callback[method] = callback
end

function FindHttpFileReceiverCallback(method)
	return __all_callback[method]
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IHttpFileSender = Lua.Class(nil, "ALittle.IHttpFileSender")

function IHttpFileSender:HandleSucceed()
end

function IHttpFileSender:HandleProcess(cur_size, total_size)
end

function IHttpFileSender:HandleFailed(reason)
end

function IHttpFileSender:Stop()
end

function IHttpFileSender:GetFilePath()
	return nil
end

function IHttpFileSender:GetTotalSize()
	return 0
end

function IHttpFileSender:GetCurSize()
	return 0
end

function IHttpFileSender:SendDownloadRPC(thread, method, content)
	Lua.Throw("not impl")
end

function IHttpFileSender:SendUploadRPC(thread, method, content)
	Lua.Throw("not impl")
end

function IHttpFileSender.InvokeDownload(method, client, content)
local ___COROUTINE = coroutine.running()
	if ___COROUTINE == nil then
		return "当前不是协程"
	end
	client:SendDownloadRPC(___COROUTINE, method, content)
	return coroutine.yield()
end

function IHttpFileSender.InvokeUpload(method, client, content)
local ___COROUTINE = coroutine.running()
	if ___COROUTINE == nil then
		return "当前不是协程"
	end
	client:SendUploadRPC(___COROUTINE, method, content)
	return coroutine.yield()
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IHttpReceiver = Lua.Class(nil, "ALittle.IHttpReceiver")

local __all_callback = {}
function RegHttpCallback(method, callback)
	if __all_callback[method] ~= nil then
		Error("RegHttpCallback消息回调函数注册失败，名字为" .. method .. "已存在")
		return
	end
	__all_callback[method] = callback
end

function FindHttpCallback(method)
	return __all_callback[method]
end

local __all_download_callback = {}
function RegHttpDownloadCallback(method, callback)
	if __all_download_callback[method] ~= nil then
		Error("RegHttpDownloadCallback消息回调函数注册失败，名字为" .. method .. "已存在")
		return
	end
	__all_download_callback[method] = callback
end

function FindHttpDownloadCallback(method)
	return __all_download_callback[method]
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IHttpSender = Lua.Class(nil, "ALittle.IHttpSender")

function IHttpSender:HandleSucceed()
end

function IHttpSender:HandleFailed(reason)
end

function IHttpSender:SendRPC(thread, method, content)
	Lua.Throw("not impl")
end

function IHttpSender.Invoke(method, client, content)
local ___COROUTINE = coroutine.running()
	if ___COROUTINE == nil then
		return "当前不是协程", nil
	end
	client:SendRPC(___COROUTINE, method, content)
	return coroutine.yield()
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IMessageWriteFactory = Lua.Class(nil, "ALittle.IMessageWriteFactory")

function IMessageWriteFactory:SetID(id)
end

function IMessageWriteFactory:SetRpcID(id)
end

function IMessageWriteFactory:ResetOffset()
end

function IMessageWriteFactory:GetOffset()
	return 0
end

function IMessageWriteFactory:SetInt(offset, value)
end

function IMessageWriteFactory:WriteBool(value)
	return 0
end

function IMessageWriteFactory:WriteInt(value)
	return 0
end

function IMessageWriteFactory:WriteLong(value)
	return 0
end

function IMessageWriteFactory:WriteString(value)
	return 0
end

function IMessageWriteFactory:WriteDouble(value)
	return 0
end

IMessageReadFactory = Lua.Class(nil, "ALittle.IMessageReadFactory")

function IMessageReadFactory:GetDataSize()
	return 0
end

function IMessageReadFactory:ReadBool()
	return false
end

function IMessageReadFactory:ReadInt()
	return 0
end

function IMessageReadFactory:ReadLong()
	return 0
end

function IMessageReadFactory:ReadString()
	return ""
end

function IMessageReadFactory:ReadDouble()
	return 0
end

function IMessageReadFactory:GetReadSize()
	return 0
end

IMsgCommon = Lua.Class(nil, "ALittle.IMsgCommon")

function IMsgCommon:IsConnected()
	return false
end

function IMsgCommon:Close(reason)
end

function IMsgCommon:HandleConnectSucceed()
end

function IMsgCommon:HandleDisconnect()
end

function IMsgCommon:HandleConnectFailed(reason)
end

function IMsgCommon:HandleMessage(id, rpc_id, factory)
end

function IMsgCommon:SendMsg(T, msg)
	local rflt = T
	self:Send(rflt.hash_code, msg, 0)
end

function IMsgCommon:Send(msg_id, msg_body, rpc_id)
	Lua.Throw("not impl")
end

function IMsgCommon:SendRPC(thread, msg_id, msg_body)
end

function IMsgCommon.Invoke(msg_id, client, msg_body)
	client:Send(msg_id, msg_body, 0)
end

function IMsgCommon.InvokeRPC(msg_id, client, msg_body)
local ___COROUTINE = coroutine.running()
	if ___COROUTINE == nil then
		return "当前不是协程", nil
	end
	if not client:IsConnected() then
		return "连接还没成功", nil
	end
	client:SendRPC(___COROUTINE, msg_id, msg_body)
	return coroutine.yield()
end

local __all_callback = {}
function RegMsgCallback(msg_id, callback)
	if __all_callback[msg_id] ~= nil then
		Error("RegMsgCallback消息回调函数注册失败，名字为" .. msg_id .. "已存在")
		return
	end
	__all_callback[msg_id] = callback
end

function FindMsgCallback(msg_id)
	return __all_callback[msg_id]
end

local __all_rpc_callback = {}
local __all_rpc_return_id = {}
function RegMsgRpcCallback(msg_id, callback, return_id)
	if __all_rpc_callback[msg_id] ~= nil then
		Error("RegMsgRpcCallback消息回调函数注册失败，名字为" .. msg_id .. "已存在")
		return
	end
	__all_rpc_callback[msg_id] = callback
	__all_rpc_return_id[msg_id] = return_id
end

function FindMsgRpcCallback(msg_id)
	return __all_rpc_callback[msg_id], __all_rpc_return_id[msg_id]
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(1847150134, "ALittle.StructInfo", {
name = "ALittle.StructInfo", ns_name = "ALittle", rl_name = "StructInfo", hash_code = 1847150134,
name_list = {"name","ns_name","rl_name","hash_code","name_list","type_list","option_map"},
type_list = {"string","string","string","int","List<string>","List<string>","Map<string,string>"},
option_map = {}
})
RegStruct(318154964, "ALittle.ClassInfo", {
name = "ALittle.ClassInfo", ns_name = "ALittle", rl_name = "ClassInfo", hash_code = 318154964,
name_list = {"__name","__super","__element","__child","__getter","__setter"},
type_list = {"string","ALittle.ClassInfo","List<ALittle.ClassInfo>","Map<string,ALittle.ClassInfo>","Map<string,Functor<(any):any>>","Map<string,Functor<(any,any)>>"},
option_map = {}
})

function NewObject(clazz, ...)
	return clazz(...)
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local __all_name_struct = {}
local __all_id_struct = {}
function RegStruct(hash, name, info)
	if __all_name_struct[name] ~= nil then
		return
	end
	local old_info = __all_id_struct[hash]
	if old_info ~= nil then
		Lua.Throw("RegReflect 名字为" .. name .. "和名字为" .. old_info.name .. "哈希值冲突, 请为" .. name .. "修改名字来避开冲突！")
	end
	__all_name_struct[name] = info
	__all_id_struct[hash] = info
end

function FindStructByName(name)
	return __all_name_struct[name]
end

function FindStructById(id)
	return __all_id_struct[id]
end

function GetAllStruct()
	return __all_id_struct
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(-930447138, "ALittle.Thread", {
name = "ALittle.Thread", ns_name = "ALittle", rl_name = "Thread", hash_code = -930447138,
name_list = {},
type_list = {},
option_map = {}
})

Coroutine = Lua.Class(nil, "ALittle.Coroutine")

function Coroutine.Resume(thread, ...)
	return coroutine.resume(thread, ...)
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local insert = table.insert
local remove = table.remove
local maxn = table.maxn
local sort = table.sort
function List_MaxN(list)
	return maxn(list)
end

function List_Push(list, object)
	insert(list, object)
end

function List_Insert(list, index, object)
	insert(list, index, object)
end

function List_Remove(list, index)
	remove(list, index)
end

function List_Sort(list, cmp)
	sort(list, cmp)
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


LogLevel = {
	INFO = 0,
	WARN = 1,
	ERROR = 2,
}

local __LOG_FUNC = nil
function SetLogFunc(func)
	__LOG_FUNC = func
end

function Log(...)
	if __LOG_FUNC ~= nil then
		local slist = {...}
		for index, value in ___ipairs(slist) do
			slist[index] = String_ToString(value)
		end
		local s = String_Join(slist, "\t")
		__LOG_FUNC(s, 0)
		return
	end
	print(...)
end

function Warn(...)
	if __LOG_FUNC ~= nil then
		local slist = {...}
		for index, value in ___ipairs(slist) do
			slist[index] = String_ToString(value)
		end
		local s = String_Join(slist, "\t")
		__LOG_FUNC(s, 1)
		return
	end
	print(...)
end

function Error(...)
	if __LOG_FUNC ~= nil then
		local slist = {...}
		for index, value in ___ipairs(slist) do
			slist[index] = String_ToString(value)
		end
		local s = String_Join(slist, "\t")
		__LOG_FUNC(s, 2)
		return
	end
	print(...)
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local tonumber = tonumber
local floor = math.floor
local ceil = math.ceil
local random = math.random
local randomseed = math.randomseed
local abs = math.abs
local cos = math.cos
local sin = math.sin
local sqrt = math.sqrt
function Math_Sin(v)
	return sin(v)
end

function Math_Cos(v)
	return cos(v)
end

function Math_Abs(v)
	return abs(v)
end

function Math_Floor(v)
	return floor(v)
end

function Math_Ceil(v)
	return ceil(v)
end

function Math_Sqrt(v)
	return sqrt(v)
end

function Math_ToInt(s)
	local n = tonumber(s)
	if n == nil then
		return nil
	end
	return floor(n)
end

function Math_ToDouble(s)
	return tonumber(s)
end

function Math_RandomSeed(seed)
	randomseed(seed)
end

function Math_RandomInt(min, max)
	return random(min, max)
end

function Math_RandomDouble(min, max)
	return random() * (max - min) + min
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local byte = string.byte
local sub = string.sub
local len = string.len
local find = string.find
local upper = string.upper
local lower = string.lower
local match = string.match
local concat = table.concat
local tostring = tostring
local tonumber = tonumber
local floor = math.floor
function String_Upper(s)
	return upper(s)
end

function String_Lower(s)
	return lower(s)
end

function String_ToString(s)
	return tostring(s)
end

function String_Byte(s, index)
	return byte(s, index)
end

function String_Type(v)
	return type(v)
end

function String_Len(s)
	return len(s)
end

function String_Find(s, t, init)
	local result = find(s, t, init, true)
	return result
end

function String_Sub(s, starti, endi)
	return sub(s, starti, endi)
end

function String_Trim(text)
	return string.gsub(text, "^%s*(.-)%s*$", "%1")
end

function String_Split(target, sep)
	if target == nil then
		return {}
	end
	if sep == nil or sep == "" then
		sep = ","
	end
	local fields = {}
	local fields_count = 0
	local start_pos = 1
	while true do
		local start_index = String_Find(target, sep, start_pos)
		if start_index == nil then
			fields_count = fields_count + 1
			fields[fields_count] = String_Sub(target, start_pos)
			break
		end
		fields_count = fields_count + 1
		fields[fields_count] = String_Sub(target, start_pos, start_index - 1)
		start_pos = start_index + String_Len(sep)
	end
	return fields
end

function String_SplitSepList(target, sep_list)
	if target == nil then
		return {}
	end
	if sep_list == nil then
		sep_list = {}
	end
	local fields = {}
	local fields_count = 0
	local start_pos = 1
	while true do
		local start_index
		local end_index
		for _, sep in ___ipairs(sep_list) do
			local start_index_tmp = String_Find(target, sep, start_pos)
			if start_index_tmp ~= nil then
				if start_index == nil or start_index_tmp < start_index then
					start_index = start_index_tmp
					end_index = start_index + String_Len(sep) - 1
				end
			end
		end
		if start_index == nil then
			local value = String_Sub(target, start_pos)
			if String_Len(value) > 0 then
				fields_count = fields_count + 1
				fields[fields_count] = String_Sub(target, start_pos)
			end
			break
		end
		local value = String_Sub(target, start_pos, start_index - 1)
		if String_Len(value) > 0 then
			fields_count = fields_count + 1
			fields[fields_count] = String_Sub(target, start_pos, start_index - 1)
		end
		start_pos = end_index + 1
	end
	return fields
end

function String_Join(list, sep)
	if sep == nil then
		sep = ","
	end
	return concat(list, sep)
end

function String_Replace(s, os, ns)
	return String_Join(String_Split(s, os), ns)
end

function String_CopyTable(info)
	do
		local new_info = {}
		for key, value in ___pairs(info) do
			if type(value) ~= "table" then
				new_info[key] = value
			else
				new_info[key] = String_CopyTable(value)
			end
		end
		return new_info
	end
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function Time_GetCurTime()
	return os.time()
end

function Time_GetCurDate(time)
	return os.date("%Y-%m-%d-%H-%M-%S", time)
end

function Time_GetCurYMD(time)
	return os.date("%Y-%m-%d", time)
end


local ___pairs = pairs
local ___ipairs = ipairs


function __ALITTLEAPI_Std_Init(base_path)
local ___COROUTINE = coroutine.running()
	Require(base_path .. "Std/Reflect/ReflectCmd")
	Require(base_path .. "Std/Reflect/ReflectCsv")
	Require(base_path .. "Std/Reflect/ReflectMessage")
	Require(base_path .. "Std/Loop/LoopObject")
	Require(base_path .. "Std/Loop/ILoopSystem")
	Require(base_path .. "Std/Loop/LoopFunction")
	Require(base_path .. "Std/Loop/LoopGroup")
	Require(base_path .. "Std/Loop/LoopList")
	Require(base_path .. "Std/Loop/LoopTimer")
	Require(base_path .. "Std/Utility/Bit")
	Require(base_path .. "Std/Utility/WeakRef")
	Require(base_path .. "Std/Utility/IHeapTimer")
	Require(base_path .. "Std/Utility/ISchedule")
	Require(base_path .. "Std/Utility/CsvConfig")
	Require(base_path .. "Std/Utility/EventDispatcher")
	Require(base_path .. "Std/Utility/SafeIDCreator")
	Require(base_path .. "Std/Utility/String")
	Require(base_path .. "Std/Utility/File")
	Require(base_path .. "Std/Utility/JsonConfig")
	Require(base_path .. "Std/Net/HttpFileReceiverTemplate")
	Require(base_path .. "Std/Net/HttpFileSenderTemplate")
	Require(base_path .. "Std/Net/HttpReceiverTemplate")
	Require(base_path .. "Std/Net/HttpSenderTemplate")
	Require(base_path .. "Std/Net/MsgCommonTemplate")
	Require(base_path .. "Std/Net/MsgReceiverTemplate")
	Require(base_path .. "Std/Net/MsgSenderTemplate")
	Require(base_path .. "Std/Net/MsgSessionTemplate")
	do
		Require(base_path .. "Adapter/Lua/LuaHeapTimer")
		Require(base_path .. "Adapter/Lua/LuaCsvFile")
		if net ~= nil then
			Require(base_path .. "Adapter/Lua/LuaHttpFileInterface")
			Require(base_path .. "Adapter/Lua/LuaHttpInterface")
			Require(base_path .. "Adapter/Lua/LuaMsgInterface")
			Require(base_path .. "Adapter/Lua/LuaMessageFactory")
			Require(base_path .. "Adapter/Lua/LuaSchedule")
		end
	end
	Require(base_path .. "Std/Loop/LoopSystem")
	Require(base_path .. "Std/Utility/Schedule")
end


module("Lua", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.ICsvFile, " extends class:ALittle.ICsvFile is nil")
LuaCsvFile = Lua.Class(ALittle.ICsvFile, "Lua.LuaCsvFile")

function LuaCsvFile:Load(path)
	self._path = path
	self._csv = csv.create()
	local error = csv.load(self._csv, path)
	if error ~= nil then
		ALittle.Error(error)
	end
	return error == nil
end

function LuaCsvFile:Close()
	if self._csv ~= nil then
		csv.clear(self._csv)
		self._csv = nil
	end
end

function LuaCsvFile:ReadCell(row, col)
	if self._csv == nil then
		return ""
	end
	return csv.readcell(self._csv, row, col)
end

function LuaCsvFile:GetRowCount()
	if self._csv == nil then
		return 0
	end
	return csv.rowcount(self._csv)
end

function LuaCsvFile:GetColCount()
	if self._csv == nil then
		return 0
	end
	return csv.colcount(self._csv)
end


module("Lua", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.IHeapTimer, " extends class:ALittle.IHeapTimer is nil")
LuaHeapTimer = Lua.Class(ALittle.IHeapTimer, "Lua.LuaHeapTimer")

function LuaHeapTimer:Ctor()
	___rawset(self, "_timer", timer.create())
end

function LuaHeapTimer:Add(delay_ms, loop, interval_ms)
	return timer.add(self._timer, delay_ms, loop, interval_ms)
end

function LuaHeapTimer:Remove(id)
	return timer.remove(self._timer, id) ~= 0
end

function LuaHeapTimer:Update(frame_ms)
	timer.update(self._timer, frame_ms)
end

function LuaHeapTimer:Poll()
	return timer.poll(self._timer)
end


module("Lua", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __LUAHTTPFILE_MAXID = 0
assert(ALittle.IHttpFileSenderNative, " extends class:ALittle.IHttpFileSenderNative is nil")
LuaHttpFileInterface = Lua.Class(ALittle.IHttpFileSenderNative, "Lua.LuaHttpFileInterface")

function LuaHttpFileInterface:Ctor()
	__LUAHTTPFILE_MAXID = __LUAHTTPFILE_MAXID + 1
	___rawset(self, "_id", __LUAHTTPFILE_MAXID)
end

function LuaHttpFileInterface:GetID()
	return self._id
end

function LuaHttpFileInterface:SetURL(url, file_path, download, start_size)
	self._url = url
	self._file_path = file_path
	self._download = download
end

function LuaHttpFileInterface:Start()
	if self._download then
		net.download(A_LuaSchedule._net, self._id, self._url, self._file_path)
	else
		net.upload(A_LuaSchedule._net, self._id, self._url, self._file_path)
	end
end

function LuaHttpFileInterface:Stop()
	if self._download then
		net.stopdownload(A_LuaSchedule._net, self._id)
	else
		net.stopupload(A_LuaSchedule._net, self._id)
	end
end

function LuaHttpFileInterface:GetPath()
	return self._file_path
end


module("Lua", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __LUAHTTP_MAXID = 0
assert(ALittle.IHttpSenderNative, " extends class:ALittle.IHttpSenderNative is nil")
LuaHttpInterface = Lua.Class(ALittle.IHttpSenderNative, "Lua.LuaHttpInterface")

function LuaHttpInterface:Ctor()
	__LUAHTTP_MAXID = __LUAHTTP_MAXID + 1
	___rawset(self, "_id", __LUAHTTP_MAXID)
end

function LuaHttpInterface:GetID()
	return self._id
end

function LuaHttpInterface:SetURL(url, content)
	self._url = url
	self._content = content
end

function LuaHttpInterface:Start()
	if self._content == nil then
		net.get(A_LuaSchedule._net, self._id, self._url)
	else
		net.post(A_LuaSchedule._net, self._id, self._url, "application/json", self._content)
	end
end

function LuaHttpInterface:Stop()
	if self._content == nil then
		net.stopget(A_LuaSchedule._net, self._id)
	else
		net.stoppost(A_LuaSchedule._net, self._id)
	end
end

function LuaHttpInterface:GetResponse()
	return self._response
end


module("Lua", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local wcreate = net.createwfactory
local wsetid = net.wfactorysetid
local wsetrpcid = net.wfactorysetrpcid
local wresetoffset = net.wfactoryresetoffset
local wgetoffset = net.wfactorygetoffset
local wsetint = net.wfactorysetint
local writebool = net.wfactorywritebool
local writeint = net.wfactorywriteint
local writelong = net.wfactorywritelong
local writestring = net.wfactorywritestring
local writedouble = net.wfactorywritedouble
assert(ALittle.IMessageWriteFactory, " extends class:ALittle.IMessageWriteFactory is nil")
LuaMessageWriteFactory = Lua.Class(ALittle.IMessageWriteFactory, "Lua.LuaMessageWriteFactory")

function LuaMessageWriteFactory:Ctor()
	___rawset(self, "_factory", wcreate())
end

function LuaMessageWriteFactory:SetID(id)
	wsetid(self._factory, id)
end

function LuaMessageWriteFactory:SetRpcID(id)
	wsetrpcid(self._factory, id)
end

function LuaMessageWriteFactory:ResetOffset()
	wresetoffset(self._factory)
end

function LuaMessageWriteFactory:GetOffset()
	return wgetoffset(self._factory)
end

function LuaMessageWriteFactory:SetInt(offset, value)
	wsetint(self._factory, offset, value)
end

function LuaMessageWriteFactory:WriteBool(value)
	return writebool(self._factory, value)
end

function LuaMessageWriteFactory:WriteInt(value)
	return writeint(self._factory, value)
end

function LuaMessageWriteFactory:WriteLong(value)
	return writelong(self._factory, value)
end

function LuaMessageWriteFactory:WriteString(value)
	return writestring(self._factory, value)
end

function LuaMessageWriteFactory:WriteDouble(value)
	return writedouble(self._factory, value)
end

local getdatasize = net.rfactorygetdatasize
local readbool = net.rfactoryreadbool
local readint = net.rfactoryreadint
local readlong = net.rfactoryreadlong
local readstring = net.rfactoryreadstring
local readdouble = net.rfactoryreaddouble
local getreadsize = net.rfactorygetreadsize
assert(ALittle.IMessageReadFactory, " extends class:ALittle.IMessageReadFactory is nil")
LuaMessageReadFactory = Lua.Class(ALittle.IMessageReadFactory, "Lua.LuaMessageReadFactory")

function LuaMessageReadFactory:SetFactory(factory)
	self._factory = factory
end

function LuaMessageReadFactory:GetDataSize()
	return getdatasize(self._factory)
end

function LuaMessageReadFactory:ReadBool()
	return readbool(self._factory)
end

function LuaMessageReadFactory:ReadInt()
	return readint(self._factory)
end

function LuaMessageReadFactory:ReadLong()
	return readlong(self._factory)
end

function LuaMessageReadFactory:ReadString()
	return readstring(self._factory)
end

function LuaMessageReadFactory:ReadDouble()
	return readdouble(self._factory)
end

function LuaMessageReadFactory:GetReadSize()
	return getreadsize(self._factory)
end


module("Lua", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local send = net.send
local __LUAMSG_MAXID = 0
assert(ALittle.IMsgCommonNative, " extends class:ALittle.IMsgCommonNative is nil")
LuaMsgInterface = Lua.Class(ALittle.IMsgCommonNative, "Lua.LuaMsgInterface")

function LuaMsgInterface:Ctor()
	__LUAMSG_MAXID = __LUAMSG_MAXID + 1
	___rawset(self, "_id", __LUAMSG_MAXID)
end

function LuaMsgInterface:GetID()
	return self._id
end

function LuaMsgInterface:Connect(ip, port)
	net.connect(A_LuaSchedule._net, self._id, ip, port)
end

function LuaMsgInterface:Close()
	net.close(A_LuaSchedule._net, self._id)
end

function LuaMsgInterface:IsConnected()
	return net.isconnected(A_LuaSchedule._net, self._id)
end

function LuaMsgInterface:SendFactory(factory)
	send(A_LuaSchedule._net, self._id, factory._factory)
end


module("Lua", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


net_type = {
	HTTP_SUCCEED = 1,
	HTTP_FAILED = 2,
	HTTP_FILE_SUCCEED = 11,
	HTTP_FILE_FAILED = 12,
	HTTP_FILE_PROGRESS = 13,
	TIMER = 21,
	MSG_CONNECT_SUCCEED = 31,
	MSG_CONNECT_FAILED = 32,
	MSG_DISCONNECTED = 33,
	MSG_MESSAGE = 34,
}

assert(ALittle.ISchedule, " extends class:ALittle.ISchedule is nil")
LuaSchedule = Lua.Class(ALittle.ISchedule, "Lua.LuaSchedule")

function LuaSchedule:Ctor()
	___rawset(self, "_net", net.create())
end

function LuaSchedule:Run()
	net.timer(self._net, 16)
	while true do
		local event = net.poll(self._net)
		if event == nil then
			break
		end
		if event.type == net_type.TIMER then
			if self._last_time ~= nil then
				A_LuaLoopSystem:Update(event.time - self._last_time)
			end
			self._last_time = event.time
			net.timer(self._net, 16)
		elseif event.type == net_type.MSG_MESSAGE then
			self._factory:SetFactory(event.factory)
			ALittle.__ALITTLEAPI_Message(event.id, event.msg_id, event.rpc_id, self._factory)
			net.rfactoryrelease(self._net, event.factory)
		elseif event.type == net_type.HTTP_SUCCEED then
			ALittle.__ALITTLEAPI_HttpClientSucceed(event.id)
		elseif event.type == net_type.HTTP_FAILED then
			ALittle.__ALITTLEAPI_HttpClientFailed(event.id, event.error)
		elseif event.type == net_type.HTTP_FILE_SUCCEED then
			ALittle.__ALITTLEAPI_HttpFileSucceed(event.id)
		elseif event.type == net_type.HTTP_FILE_FAILED then
			ALittle.__ALITTLEAPI_HttpFileFailed(event.id, event.error)
		elseif event.type == net_type.HTTP_FILE_PROGRESS then
			ALittle.__ALITTLEAPI_HttpFileProcess(event.id, event.cur_size, event.total_size)
		elseif event.type == net_type.MSG_CONNECT_SUCCEED then
			ALittle.__ALITTLEAPI_ConnectSucceed(event.id)
		elseif event.type == net_type.MSG_CONNECT_FAILED then
			ALittle.__ALITTLEAPI_ConnectFailed(event.id)
		elseif event.type == net_type.MSG_DISCONNECTED then
			ALittle.__ALITTLEAPI_Disconnect(event.id)
		end
	end
end

_G.A_LuaSchedule = LuaSchedule()

module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


ILoopSystem = Lua.Class(nil, "ALittle.ILoopSystem")

function ILoopSystem:Update(frame_time)
end

function ILoopSystem:AddTimer(delay_ms, callback, loop, interval_ms)
	return 0
end

function ILoopSystem:RemoveTimer(id)
	return false
end

function ILoopSystem:AddUpdater(object)
end

function ILoopSystem:RemoveUpdater(object)
end

function ILoopSystem:HasUpdater(object)
	return false
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopFunction = Lua.Class(ALittle.LoopObject, "ALittle.LoopFunction")

function LoopFunction:Ctor(func, count, interval_time, delay_time)
	___rawset(self, "_func", func)
	___rawset(self, "_total_count", count)
	___rawset(self, "_force_completed", false)
	if delay_time == nil or delay_time < 0 then
		delay_time = 0
	end
	if interval_time < 0 then
		interval_time = 0
	end
	___rawset(self, "_total_interval_time", interval_time)
	___rawset(self, "_total_delay_time", delay_time)
	___rawset(self, "_accumulate_count", 0)
	___rawset(self, "_accumulate_time", 0)
	___rawset(self, "_accumulate_delay_time", 0)
	if self._func == nil then
		___rawset(self, "_accumulate_count", 0)
		___rawset(self, "_total_count", 0)
		Log("LoopFunction create failed:function is nil or not a function")
		return
	end
	___rawset(self, "_complete_callback", nil)
end

function LoopFunction.__getter:complete_callback()
	return self._complete_callback
end

function LoopFunction.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopFunction:Reset()
	self._accumulate_count = 0
	self._accumulate_time = 0
	self._accumulate_delay_time = 0
end

function LoopFunction:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopFunction:IsCompleted()
	if self._force_completed then
		return true
	end
	if self._total_count < 0 then
		return false
	end
	return self._total_count <= self._accumulate_count
end

function LoopFunction:SetCompleted()
	if self._total_count < 0 then
		self._force_completed = true
		return
	end
	self._accumulate_count = self._total_count
end

function LoopFunction:SetTime(time)
	self._accumulate_count = 0
	self._accumulate_delay_time = 0
	self._accumulate_time = 0
	if time <= 0 then
		return 0, false
	end
	if self._total_count < 0 then
		return 0, false
	end
	if time <= self._total_delay_time then
		self._accumulate_delay_time = time
		return 0, false
	end
	self._accumulate_delay_time = self._total_delay_time
	time = time - (self._total_delay_time)
	local total_time = self._total_interval_time * self._total_count
	if time < total_time then
		local float_count = total_time / self._total_interval_time
		local count = Math_Floor(float_count)
		self._accumulate_count = count
		self._accumulate_time = Math_Floor((float_count - count) * self._total_interval_time)
		return 0, false
	end
	self._accumulate_count = self._total_count
	return time - total_time, true
end

function LoopFunction:Update(frame_time)
	if self._accumulate_delay_time < self._total_delay_time then
		self._accumulate_delay_time = self._accumulate_delay_time + (frame_time)
		if self._accumulate_delay_time < self._total_delay_time then
			return
		end
		frame_time = self._accumulate_delay_time - self._total_delay_time
		self._accumulate_delay_time = self._total_delay_time
	end
	self._accumulate_time = self._accumulate_time + (frame_time)
	if self._accumulate_time > self._total_interval_time then
		self._accumulate_time = 0
		self._accumulate_count = self._accumulate_count + 1
		self._func()
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopGroup = Lua.Class(ALittle.LoopObject, "ALittle.LoopGroup")

function LoopGroup:Ctor()
	___rawset(self, "_total_count", 0)
	___rawset(self, "_complete_count", 0)
	___rawset(self, "_loop_updaters", {})
	___rawset(self, "_complete_updaters", {})
	___rawset(self, "_complete_callback", nil)
end

function LoopGroup.__getter:complete_callback()
	return self._complete_callback
end

function LoopGroup.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopGroup.__getter:total_count()
	return self._total_count
end

function LoopGroup:AddUpdater(value)
	if value == nil then
		return
	end
	if self._complete_updaters[value] or self._loop_updaters[value] then
		return
	end
	self._loop_updaters[value] = true
	self._total_count = self._total_count + 1
end

function LoopGroup:RemoveUpdater(value)
	if self._loop_updaters[value] then
		self._loop_updaters[value] = nil
		self._total_count = self._total_count - 1
		return
	end
	if self._complete_updaters[value] then
		self._complete_updaters[value] = nil
		self._total_count = self._total_count - 1
		self._complete_count = self._complete_count - 1
	end
end

function LoopGroup:Reset()
	self._complete_count = 0
	for updater, v in ___pairs(self._loop_updaters) do
		updater:Reset()
	end
	for updater, v in ___pairs(self._complete_updaters) do
		self._loop_updaters[updater] = true
		updater:Reset()
	end
end

function LoopGroup:SetTime(time)
	if self._total_count == 0 then
		return time, true
	end
	local total_updater = {}
	for updater, v in ___pairs(self._loop_updaters) do
		total_updater[updater] = true
	end
	for updater, v in ___pairs(self._complete_updaters) do
		total_updater[updater] = true
	end
	self._loop_updaters = {}
	self._complete_updaters = {}
	self._complete_count = 0
	local min_time = nil
	for updater, v in ___pairs(total_updater) do
		local remain_time, completed = updater:SetTime(time)
		if completed then
			self._complete_updaters[updater] = true
			self._complete_count = self._complete_count + 1
		else
			self._loop_updaters[updater] = true
		end
		if min_time == nil or min_time > remain_time then
			min_time = remain_time
		end
	end
	return min_time, self._complete_count == self._total_count
end

function LoopGroup:IsCompleted()
	return self._complete_count >= self._total_count
end

function LoopGroup:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopGroup:SetCompleted()
	self._complete_count = self._total_count
	for updater, v in ___pairs(self._loop_updaters) do
		updater:SetCompleted()
		self._complete_updaters[updater] = true
	end
	self._loop_updaters = {}
end

function LoopGroup:Update(frame_time)
	if self._complete_count >= self._total_count then
		return
	end
	local remove_map = {}
	for updater, v in ___pairs(self._loop_updaters) do
		if updater:IsCompleted() then
			remove_map[updater] = true
		else
			updater:Update(frame_time)
		end
	end
	for updater, v in ___pairs(remove_map) do
		self._loop_updaters[updater] = nil
		self._complete_updaters[updater] = true
		self._complete_count = self._complete_count + 1
		updater:Completed()
	end
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopList = Lua.Class(ALittle.LoopObject, "ALittle.LoopList")

function LoopList:Ctor()
	___rawset(self, "_count", 0)
	___rawset(self, "_cur_index", 1)
	___rawset(self, "_update_list", {})
	___rawset(self, "_complete_callback", nil)
end

function LoopList.__getter:complete_callback()
	return self._complete_callback
end

function LoopList.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopList.__getter:total_count()
	return self._count
end

function LoopList:AddUpdater(value)
	if value == nil then
		return
	end
	self._count = self._count + 1
	self._update_list[self._count] = value
end

function LoopList:RemoveUpdater(value)
	if value == nil or self._count == 0 then
		return
	end
	for index, updater in ___ipairs(self._update_list) do
		if value == updater then
			if self._cur_index > index then
				self._cur_index = self._cur_index - 1
			end
			List_Remove(self._update_list, index)
			self._count = self._count - 1
			break
		end
	end
end

function LoopList:Reset()
	self._cur_index = 1
	for index, updater in ___ipairs(self._update_list) do
		updater:Reset()
	end
end

function LoopList:SetTime(time)
	for index, updater in ___ipairs(self._update_list) do
		updater:SetTime(0)
	end
	self._cur_index = 1
	if time <= 0 then
		return 0, false
	end
	for index, updater in ___ipairs(self._update_list) do
		local completed
		time, completed = updater:SetTime(time)
		if not completed then
			self._cur_index = index
			return 0, false
		end
	end
	self._cur_index = self._count + 1
	return time, true
end

function LoopList:IsCompleted()
	return self._cur_index > self._count
end

function LoopList:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopList:SetCompleted()
	local index = self._cur_index
	while true do
		if not(index <= self._count) then break end
		self._update_list[index]:SetCompleted()
		index = index+(1)
	end
	self._cur_index = self._count + 1
end

function LoopList:Update(frame_time)
	if self._cur_index > self._count then
		return
	end
	local updater = self._update_list[self._cur_index]
	updater:Update(frame_time)
	if updater:IsCompleted() then
		self._cur_index = self._cur_index + 1
		updater:Completed()
	end
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


LoopObject = Lua.Class(nil, "ALittle.LoopObject")

function LoopObject:IsCompleted()
	return true
end

function LoopObject:Completed()
end

function LoopObject:Update(frame_time)
end

function LoopObject:Reset()
end

function LoopObject:SetTime(time)
	return time, true
end

function LoopObject:SetCompleted()
end

function LoopObject:Dispose(deep)
	self:Stop()
end

function LoopObject:Start()
	A_LuaLoopSystem:AddUpdater(self)
end

function LoopObject:Stop()
	A_LuaLoopSystem:RemoveUpdater(self)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.ILoopSystem, " extends class:ALittle.ILoopSystem is nil")
LoopSystem = Lua.Class(ALittle.ILoopSystem, "ALittle.LoopSystem")

function LoopSystem:Ctor()
	___rawset(self, "_loop_updaters", {})
	___rawset(self, "_in_update", false)
	___rawset(self, "_loop_cache", {})
	___rawset(self, "_cache_empty", true)
	___rawset(self, "_timer", self.__class.__element[1]())
	___rawset(self, "_handler_map", {})
end

function LoopSystem:AddUpdater(updater)
	if updater == nil then
		return
	end
	if self._in_update then
		self._cache_empty = false
		self._loop_cache[updater] = true
	else
		self._loop_updaters[updater] = true
	end
end

function LoopSystem:RemoveUpdater(updater)
	if updater == nil then
		return
	end
	if self._in_update then
		self._cache_empty = false
		self._loop_cache[updater] = false
	else
		self._loop_updaters[updater] = nil
	end
end

function LoopSystem:HasUpdater(updater)
	return self._loop_updaters[updater] ~= nil or self._loop_cache[updater] == true
end

function LoopSystem:AddTimer(delay_ms, callback, loop, interval_ms)
	if callback == nil then
		return 0
	end
	if loop == nil then
		loop = 1
	end
	if interval_ms == nil then
		interval_ms = 1
	end
	local id = self._timer:Add(delay_ms, loop, interval_ms)
	self._handler_map[id] = callback
	return id
end

function LoopSystem:RemoveTimer(id)
	if id == nil then
		return false
	end
	self._handler_map[id] = nil
	return self._timer:Remove(id)
end

function LoopSystem:Update(frame_time)
	self._in_update = true
	local remove_map = nil
	for updater, v in ___pairs(self._loop_updaters) do
		if updater:IsCompleted() then
			if remove_map == nil then
				remove_map = {}
			end
			remove_map[updater] = true
		else
			updater:Update(frame_time)
		end
	end
	if remove_map ~= nil then
		for updater, v in ___pairs(remove_map) do
			self._loop_updaters[updater] = nil
			updater:Completed()
		end
	end
	if not self._cache_empty then
		for updater, v in ___pairs(self._loop_cache) do
			if v then
				self._loop_updaters[updater] = true
			else
				self._loop_updaters[updater] = nil
			end
		end
		self._loop_cache = {}
		self._cache_empty = true
	end
	self._in_update = false
	self._timer:Update(frame_time)
	while true do
		local id = self._timer:Poll()
		if id == 0 then
			break
		end
		if id < 0 then
			local handle = self._handler_map[-id]
			if handle ~= nil then
				handle()
				self._handler_map[-id] = nil
			end
		else
			local handle = self._handler_map[id]
			if handle ~= nil then
				handle()
			end
		end
	end
end

_G.A_LuaLoopSystem = Lua.Template(LoopSystem, "ALittle.LoopSystem<Lua.LuaHeapTimer>", Lua.LuaHeapTimer)()
local GetLoopSystem
GetLoopSystem = function()
	return A_LuaLoopSystem
end

_G.A_LoopSystem = GetLoopSystem()

module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.LoopObject, " extends class:ALittle.LoopObject is nil")
LoopTimer = Lua.Class(ALittle.LoopObject, "ALittle.LoopTimer")

function LoopTimer:Ctor(func, delay_time)
	___rawset(self, "_func", func)
	if delay_time == nil or delay_time < 0 then
		delay_time = 0
	end
	___rawset(self, "_total_delay_time", delay_time)
	___rawset(self, "_accumulate_count", 0)
	___rawset(self, "_accumulate_delay_time", 0)
	if self._func == nil then
		___rawset(self, "_accumulate_count", 1)
		___rawset(self, "_accumulate_delay_time", self._total_delay_time)
		Log("LoopTimer create failed:function is nil or not a function")
		return
	end
	___rawset(self, "_complete_callback", nil)
end

function LoopTimer.__getter:complete_callback()
	return self._complete_callback
end

function LoopTimer.__setter:complete_callback(value)
	self._complete_callback = value
end

function LoopTimer:Reset()
	self._accumulate_count = 0
	self._accumulate_delay_time = 0
end

function LoopTimer:Completed()
	if self._complete_callback ~= nil then
		self._complete_callback()
	end
end

function LoopTimer:IsCompleted()
	return self._accumulate_count >= 1
end

function LoopTimer:SetCompleted()
	if self._accumulate_count >= 1 then
		return
	end
	self._accumulate_count = 1
	self._accumulate_delay_time = self._total_delay_time
	self._func()
end

function LoopTimer:SetTime(time)
	self._accumulate_count = 0
	self._accumulate_delay_time = 0
	if time <= 0 then
		return 0, false
	end
	if time <= self._total_delay_time then
		self._accumulate_delay_time = time
		return 0, false
	end
	self._accumulate_delay_time = self._total_delay_time
	self._accumulate_count = 1
	self._func()
	return time - self._total_delay_time, true
end

function LoopTimer:Update(frame_time)
	if self._accumulate_delay_time < self._total_delay_time then
		self._accumulate_delay_time = self._accumulate_delay_time + (frame_time)
		if self._accumulate_delay_time < self._total_delay_time then
			return
		end
		self._accumulate_delay_time = self._total_delay_time
	end
	if self._accumulate_count >= 1 then
		return
	end
	self._accumulate_count = 1
	self._func()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


IHttpFileReceiverNative = Lua.Class(nil, "ALittle.IHttpFileReceiverNative")

function IHttpFileReceiverNative:Close(http_id)
end

function IHttpFileReceiverNative:SendString(http_id, content)
end

function IHttpFileReceiverNative:StartReceiveFile(http_id, file_path, start_size)
end

assert(ALittle.IHttpFileReceiver, " extends class:ALittle.IHttpFileReceiver is nil")
HttpFileReceiverTemplate = Lua.Class(ALittle.IHttpFileReceiver, "ALittle.HttpFileReceiverTemplate")

function HttpFileReceiverTemplate:Ctor(http_id, thread)
	___rawset(self, "_http_id", http_id)
	___rawset(self, "_thread", thread)
	___rawset(self, "_received", false)
	___rawset(self, "_interface", self.__class.__element[1]())
end

function HttpFileReceiverTemplate:StartReceiveFile(file_path, start_size)
local ___COROUTINE = coroutine.running()
	if self._received then
		return "StartReceiveFile已经被调用过"
	end
	self._received = true
	self._interface:StartReceiveFile(self._http_id, file_path, start_size)
	return coroutine.yield()
end

function HttpFileReceiverTemplate:HandleReceiveResult(reason)
	local result, error = Coroutine.Resume(self._thread, reason)
	if not result then
		Error(error)
	end
end

function HttpFileReceiverTemplate.__getter:received()
	return self._received
end

function HttpFileReceiverTemplate:SendString(content)
	self._interface:SendString(self._http_id, content)
end

function HttpFileReceiverTemplate:Clsoe()
	self._interface:Close(self._http_id)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


IHttpFileSenderNative = Lua.Class(nil, "ALittle.IHttpFileSenderNative")

function IHttpFileSenderNative:GetID()
	return 0
end

function IHttpFileSenderNative:SetURL(url, file_path, download, start_size)
end

function IHttpFileSenderNative:Start()
end

function IHttpFileSenderNative:Stop()
end

function IHttpFileSenderNative:GetPath()
	return ""
end

local __HttpFileSenderMap = {}
assert(ALittle.IHttpFileSender, " extends class:ALittle.IHttpFileSender is nil")
HttpFileSenderTemplate = Lua.Class(ALittle.IHttpFileSender, "ALittle.HttpFileSenderTemplate")

function HttpFileSenderTemplate:Ctor(ip, port, file_path, start_size, callback)
	___rawset(self, "_interface", self.__class.__element[1]())
	___rawset(self, "_ip", ip)
	___rawset(self, "_port", port)
	if self._port == nil then
		___rawset(self, "_port", 80)
	end
	___rawset(self, "_file_path", file_path)
	___rawset(self, "_start_size", start_size)
	___rawset(self, "_callback", callback)
	___rawset(self, "_cur_size", 0)
	___rawset(self, "_total_size", 0)
end

function HttpFileSenderTemplate:SendDownloadRPC(thread, method, content)
	self._thread = thread
	__HttpFileSenderMap[self._interface:GetID()] = self
	if self._start_size == nil then
		self._start_size = 0
	end
	local url = self._ip .. ":" .. self._port .. "/" .. method
	if String_Find(self._ip, "http://") ~= 1 and String_Find(self._ip, "https://") ~= 1 then
		if self._port == 443 then
			url = "https://" .. url
		else
			url = "http://" .. url
		end
	end
	self._interface:SetURL(self:HttpUrlAppendParamMap(url, content), self._file_path, true, self._start_size)
	self._interface:Start()
end

function HttpFileSenderTemplate:SendUploadRPC(thread, method, content)
	self._thread = thread
	__HttpFileSenderMap[self._interface:GetID()] = self
	if self._start_size == nil then
		self._start_size = 0
	end
	local url = "http://" .. self._ip .. ":" .. self._port .. "/" .. method
	self._interface:SetURL(self:HttpUrlAppendParamMap(url, content), self._file_path, false, self._start_size)
	self._interface:Start()
end

function HttpFileSenderTemplate:Stop()
	self._interface:Stop()
end

function HttpFileSenderTemplate:GetFilePath()
	return self._file_path
end

function HttpFileSenderTemplate:GetTotalSize()
	return self._total_size
end

function HttpFileSenderTemplate:GetCurSize()
	return self._cur_size
end

function HttpFileSenderTemplate:HandleSucceed()
	__HttpFileSenderMap[self._interface:GetID()] = nil
	local result, reason = Coroutine.Resume(self._thread, nil)
	if result ~= true then
		Error(reason)
	end
end

function HttpFileSenderTemplate:HandleFailed(reason)
	__HttpFileSenderMap[self._interface:GetID()] = nil
	local result, error = Coroutine.Resume(self._thread, reason)
	if result ~= true then
		Error(error)
	end
end

function HttpFileSenderTemplate:HandleProcess(cur_size, total_size)
	self._cur_size = cur_size
	self._total_size = total_size
	if self._callback ~= nil then
		self._callback()
	end
end

function HttpFileSenderTemplate:HttpUrlAppendParamMap(url, param)
	if param == nil then
		return url
	end
	local list = {}
	local count = 0
	for key, value in ___pairs(param) do
		count = count + 1
		list[count] = key .. "=" .. String_ToString(value)
	end
	if String_Find(url, "?") == nil then
		url = url .. "?"
	else
		url = url .. "&"
	end
	return url .. String_Join(list, "&")
end

function __ALITTLEAPI_HttpFileSucceed(id)
	local client = __HttpFileSenderMap[id]
	if client == nil then
		return
	end
	client:HandleSucceed()
end

function __ALITTLEAPI_HttpFileFailed(id, reason)
	local client = __HttpFileSenderMap[id]
	if client == nil then
		return
	end
	client:HandleFailed(reason)
end

function __ALITTLEAPI_HttpFileProcess(id, cur_size, total_size)
	local client = __HttpFileSenderMap[id]
	if client == nil then
		return
	end
	client:HandleProcess(cur_size, total_size)
end

function DownloadFile(ip, port, method, file_path)
local ___COROUTINE = coroutine.running()
	local sender
	sender = Lua.Template(HttpFileSenderTemplate, "ALittle.HttpFileSenderTemplate<Lua.LuaHttpFileInterface>", Lua.LuaHttpFileInterface)(ip, port, file_path, 0)
	return IHttpFileSender.InvokeDownload(method, sender, nil)
end

function UploadFile(ip, port, method, file_path)
local ___COROUTINE = coroutine.running()
	local sender
	sender = Lua.Template(HttpFileSenderTemplate, "ALittle.HttpFileSenderTemplate<Lua.LuaHttpFileInterface>", Lua.LuaHttpFileInterface)(ip, port, file_path, 0)
	local error = IHttpFileSender.InvokeUpload(method, sender, nil)
	return error
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


IHttpReceiverNative = Lua.Class(nil, "ALittle.IHttpReceiverNative")

function IHttpReceiverNative:Close(http_id)
end

function IHttpReceiverNative:SendString(http_id, content)
end

function IHttpReceiverNative:SendFile(http_id, file_path, start_size)
end

assert(ALittle.IHttpReceiver, " extends class:ALittle.IHttpReceiver is nil")
HttpReceiverTemplate = Lua.Class(ALittle.IHttpReceiver, "ALittle.HttpReceiverTemplate")

function HttpReceiverTemplate:Ctor(http_id)
	___rawset(self, "_http_id", http_id)
	___rawset(self, "_interface", self.__class.__element[1]())
end

function HttpReceiverTemplate:Close()
	self._interface:Close(self._http_id)
end

function HttpReceiverTemplate:SendString(content)
	self._interface:SendString(self._http_id, content)
end

function HttpReceiverTemplate:SendFile(file_path, start_size)
	self._interface:SendFile(self._http_id, file_path, start_size)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


IHttpSenderNative = Lua.Class(nil, "ALittle.IHttpSenderNative")

function IHttpSenderNative:GetID()
	return 0
end

function IHttpSenderNative:SetURL(url, content)
end

function IHttpSenderNative:Start()
end

function IHttpSenderNative:Stop()
end

function IHttpSenderNative:GetResponse()
	return nil
end

local __HttpSenderMap = {}
assert(ALittle.IHttpSender, " extends class:ALittle.IHttpSender is nil")
HttpSenderTemplate = Lua.Class(ALittle.IHttpSender, "ALittle.HttpSenderTemplate")

function HttpSenderTemplate:Ctor(ip, port)
	___rawset(self, "_interface", self.__class.__element[1]())
	___rawset(self, "_ip", ip)
	___rawset(self, "_port", port)
end

function HttpSenderTemplate:SendRPC(thread, method, content)
	self._thread = thread
	__HttpSenderMap[self._interface:GetID()] = self
	local url = self._ip .. ":" .. self._port .. "/" .. method
	if String_Find(self._ip, "http://") ~= 1 and String_Find(self._ip, "https://") ~= 1 then
		if self._port == 443 then
			url = "https://" .. url
		else
			url = "http://" .. url
		end
	end
	if content == nil then
		self._interface:SetURL(url, nil)
	else
		self._interface:SetURL(url, String_JsonEncode(content))
	end
	self._interface:Start()
end

function HttpSenderTemplate:Stop()
	self._interface:Stop()
end

function HttpSenderTemplate:HandleSucceed()
	__HttpSenderMap[self._interface:GetID()] = nil
	local error, param = Lua.TCall(String_JsonDecode, self._interface:GetResponse())
	if error ~= nil then
		local result, reason = Coroutine.Resume(self._thread, error, nil)
		if result ~= true then
			Error(reason)
		end
		return
	end
	if param["error"] ~= nil then
		local result, reason = Coroutine.Resume(self._thread, param["error"], nil)
		if result ~= true then
			Error(reason)
		end
		return
	end
	local result, reason = Coroutine.Resume(self._thread, nil, param)
	if result ~= true then
		Error(reason)
	end
end

function HttpSenderTemplate:HandleFailed(reason)
	__HttpSenderMap[self._interface:GetID()] = nil
	local result, error = Coroutine.Resume(self._thread, reason, nil)
	if result ~= true then
		Error(error)
	end
end

function __ALITTLEAPI_HttpClientSucceed(id)
	local client = __HttpSenderMap[id]
	if client == nil then
		return
	end
	client:HandleSucceed()
end

function __ALITTLEAPI_HttpClientFailed(id, reason)
	local client = __HttpSenderMap[id]
	if client == nil then
		return
	end
	client:HandleFailed(reason)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(361433949, "ALittle.MsgRPCInfo", {
name = "ALittle.MsgRPCInfo", ns_name = "ALittle", rl_name = "MsgRPCInfo", hash_code = 361433949,
name_list = {"rpc_id","thread"},
type_list = {"int","ALittle.Thread"},
option_map = {}
})
RegStruct(-930447138, "ALittle.Thread", {
name = "ALittle.Thread", ns_name = "ALittle", rl_name = "Thread", hash_code = -930447138,
name_list = {},
type_list = {},
option_map = {}
})

IMsgCommonNative = Lua.Class(nil, "ALittle.IMsgCommonNative")

function IMsgCommonNative:SetID(id)
end

function IMsgCommonNative:GetID()
	return 0
end

function IMsgCommonNative:Connect(ip, port)
end

function IMsgCommonNative:IsConnected()
	return false
end

function IMsgCommonNative:SendFactory(factory)
end

function IMsgCommonNative:Close()
end

assert(ALittle.IMsgCommon, " extends class:ALittle.IMsgCommon is nil")
IMsgCommonTemplate = Lua.Class(ALittle.IMsgCommon, "ALittle.IMsgCommonTemplate")

function IMsgCommonTemplate:Ctor()
	___rawset(self, "_last_recv_time", 0)
	___rawset(self, "_id_creator", SafeIDCreator())
	___rawset(self, "_id_map_rpc", {})
end

function IMsgCommonTemplate:GetID()
	return self._interface:GetID()
end

function IMsgCommonTemplate:Connect(ip, port)
local ___COROUTINE = coroutine.running()
	return "not impl"
end

function IMsgCommonTemplate:IsConnected()
	return self._interface:IsConnected()
end

function IMsgCommonTemplate:MessageRead(factory, msg_id)
	local invoke = CreateProtocolInvokeInfo(msg_id)
	local object, size = PS_ReadMessageForReceive(factory, invoke, nil, factory:GetDataSize())
	return object
end

function IMsgCommonTemplate:MessageWrite(msg_id, msg_body)
	local invoke = CreateProtocolInvokeInfo(msg_id)
	self._write_factory:ResetOffset()
	PS_WriteMessageForSend(self._write_factory, invoke, nil, msg_body)
	self._write_factory:SetID(msg_id)
end

function IMsgCommonTemplate:HandleMessage(id, rpc_id, factory)
	if id == 0 then
		self._last_recv_time = Time_GetCurTime()
		return
	end
	if rpc_id == 0 then
		local callback = FindMsgCallback(id)
		if callback == nil then
			local name = "unknow"
			local rflt = FindStructById(id)
			if rflt ~= nil then
				name = rflt.name
			end
			Log("MsgSystem.HandleMessage can't find callback by id:" .. id .. ", name:" .. name)
			return
		end
		local msg = self:MessageRead(factory, id)
		if msg == nil then
			local name = "unknow"
			local rflt = FindStructById(id)
			if rflt ~= nil then
				name = rflt.name
			end
			Log("MsgSystem.HandleMessage MessageRead failed by id:" .. id .. ", name:" .. name)
			return
		end
		callback(self, msg)
		return
	end
	if rpc_id > 0 then
		self:HandleRPCRequest(id, rpc_id, factory)
		return
	end
	rpc_id = -rpc_id
	self._id_creator:ReleaseID(rpc_id)
	local info = self._id_map_rpc[rpc_id]
	if info == nil then
		Log("MsgSystem.HandleMessage can't find rpc info by id:" .. id)
		return
	end
	self._id_map_rpc[rpc_id] = nil
	if id == 1 then
		local result, reason = Coroutine.Resume(info.thread, factory:ReadString())
		if result ~= true then
			Error(reason)
		end
		return
	end
	local msg = self:MessageRead(factory, id)
	if msg == nil then
		local result, reason = Coroutine.Resume(info.thread, "MsgSystem.HandleMessage MessageRead failed by id:" .. id)
		if result ~= true then
			Error(reason)
		end
		Log("MsgSystem.HandleMessage MessageRead failed by id:" .. id)
		return
	end
	local result, reason = Coroutine.Resume(info.thread, nil, msg)
	if result ~= true then
		Error(reason)
	end
end

function IMsgCommonTemplate:SendMsg(T, msg)
	local info = T
	self:Send(info.hash_code, msg, 0)
end

function IMsgCommonTemplate:Send(msg_id, msg_body, rpc_id)
	if not self:IsConnected() then
		return
	end
	self._write_factory:SetRpcID(rpc_id)
	self:MessageWrite(msg_id, msg_body)
	self._interface:SendFactory(self._write_factory)
end

function IMsgCommonTemplate:SendRpcError(rpc_id, reason)
	if not self:IsConnected() then
		return
	end
	self._write_factory:ResetOffset()
	self._write_factory:SetID(1)
	self._write_factory:SetRpcID(-rpc_id)
	self._write_factory:WriteString(reason)
	self._interface:SendFactory(self._write_factory)
end

function IMsgCommonTemplate:SendRPC(thread, msg_id, msg_body)
	local rpc_id = self._id_creator:CreateID()
	self._write_factory:SetRpcID(rpc_id)
	self:MessageWrite(msg_id, msg_body)
	self._interface:SendFactory(self._write_factory)
	local info = {}
	info.thread = thread
	info.rpc_id = rpc_id
	self._id_map_rpc[rpc_id] = info
end

function IMsgCommonTemplate:HandleRPCRequest(id, rpc_id, factory)
	local callback, return_id = FindMsgRpcCallback(id)
	if callback == nil then
		self:SendRpcError(rpc_id, "没有注册消息RPC回调函数")
		Log("MsgSystem.HandleMessage can't find callback by id:" .. id)
		return
	end
	local msg = self:MessageRead(factory, id)
	if msg == nil then
		self:SendRpcError(rpc_id, "MsgSystem.HandleMessage MessageRead failed by id:" .. id)
		Log("MsgSystem.HandleMessage MessageRead failed by id:" .. id)
		return
	end
	local error, return_body = Lua.TCall(callback, self, msg)
	if error ~= nil then
		self:SendRpcError(rpc_id, error)
		Log("MsgSystem.HandleMessage callback invoke failed! by id:" .. id .. ", reason:" .. error)
		return
	end
	if return_body == nil then
		self:SendRpcError(rpc_id, "MsgSystem.HandleMessage callback have not return! by id:" .. id)
		Log("MsgSystem.HandleMessage callback have not return! by id:" .. id)
		return
	end
	self:Send(return_id, return_body, -rpc_id)
end
IMsgCommonTemplate.HandleRPCRequest = Lua.CoWrap(IMsgCommonTemplate.HandleRPCRequest)

function IMsgCommonTemplate:ClearRPC(reason)
	local tmp = {}
	for rpc_id, info in ___pairs(self._id_map_rpc) do
		self._id_creator:ReleaseID(rpc_id)
		tmp[rpc_id] = info
	end
	self._id_map_rpc = {}
	for rpc_id, info in ___pairs(tmp) do
		local result, error = Coroutine.Resume(info.thread, reason, nil)
		if result ~= true then
			Error(error)
		end
	end
end

function IMsgCommonTemplate:Close(reason)
	if reason == nil then
		reason = "主动关闭连接"
	end
	self:ClearRPC(reason)
	self._interface:Close()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.IMsgCommonTemplate, " extends class:ALittle.IMsgCommonTemplate is nil")
MsgReceiverTemplate = Lua.Class(ALittle.IMsgCommonTemplate, "ALittle.MsgReceiverTemplate")

function MsgReceiverTemplate:Ctor(client_id, remote_ip, remote_port)
	___rawset(self, "_interface", self.__class.__element[1]())
	self._interface:SetID(client_id)
	___rawset(self, "_write_factory", self.__class.__element[2]())
	___rawset(self, "_is_connected", true)
	___rawset(self, "_client_id", client_id)
	___rawset(self, "_remote_ip", remote_ip)
	___rawset(self, "_remote_port", remote_port)
	___rawset(self, "_client_account_id", 0)
	___rawset(self, "_client_logining", false)
	___rawset(self, "_web_account_id", "")
	___rawset(self, "_web_is_logining", false)
end

function MsgReceiverTemplate.__getter:remote_ip()
	return self._remote_ip
end

function MsgReceiverTemplate.__getter:remote_port()
	return self._remote_port
end

function MsgReceiverTemplate:IsConnected()
	return self._is_connected
end

function MsgReceiverTemplate:HandleConnected()
	self._is_connected = true
end

function MsgReceiverTemplate:HandleDisconnected()
	self._is_connected = false
	self:ClearRPC("连接断开了")
end

function MsgReceiverTemplate:Close(reason)
	if not self._is_connected then
		return
	end
	self._is_connected = false
	if reason == nil then
		reason = "主动关闭连接"
	end
	self:ClearRPC(reason)
	self._interface:Close()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


local __MsgSenderMap = {}
assert(ALittle.IMsgCommonTemplate, " extends class:ALittle.IMsgCommonTemplate is nil")
MsgSenderTemplate = Lua.Class(ALittle.IMsgCommonTemplate, "ALittle.MsgSenderTemplate")

function MsgSenderTemplate:Ctor(heartbeat, check_heartbeat, loop_system, callback)
	___rawset(self, "_interface", self.__class.__element[1]())
	___rawset(self, "_write_factory", self.__class.__element[2]())
	___rawset(self, "_loop_system", loop_system)
	___rawset(self, "_heartbeat", heartbeat)
	___rawset(self, "_heartbeat_loop", nil)
	___rawset(self, "_check_heartbeat", nil)
	if self._heartbeat ~= nil then
		___rawset(self, "_check_heartbeat", check_heartbeat)
	end
	___rawset(self, "_last_recv_time", 0)
	___rawset(self, "_callback", callback)
end

function MsgSenderTemplate:Connect(ip, port)
local ___COROUTINE = coroutine.running()
	if ip == nil then
		ip = ""
	end
	if port == nil then
		port = 0
	end
	if ___COROUTINE == nil then
		return "当前不是协程"
	end
	self._co = ___COROUTINE
	__MsgSenderMap[self._interface:GetID()] = self
	self._ip = ip
	self._port = port
	self._interface:Connect(ip, port)
	return coroutine.yield()
end

function MsgSenderTemplate:HandleConnectSucceed()
	self._last_recv_time = 0
	self:SendHeartbeat()
	self:StartHeartbeat()
	local result, reason = Coroutine.Resume(self._co, nil)
	if result ~= true then
		Error(reason)
	end
end

function MsgSenderTemplate:HandleDisconnect()
	self:StopHeartbeat()
	__MsgSenderMap[self._interface:GetID()] = nil
	self:ClearRPC("连接断开了")
	if self._callback ~= nil then
		self._callback()
	end
end

function MsgSenderTemplate:HandleConnectFailed(error)
	__MsgSenderMap[self._interface:GetID()] = nil
	if error == nil then
		error = self._ip .. ":" .. self._port .. "连接失败"
	end
	local result, reason = Coroutine.Resume(self._co, error)
	if result ~= true then
		Error(reason)
	end
end

function MsgSenderTemplate:Close(reason)
	self:StopHeartbeat()
	self._interface:Close()
	if reason == nil then
		reason = "主动关闭连接"
	end
	self:ClearRPC(reason)
	__MsgSenderMap[self._interface:GetID()] = nil
end

function MsgSenderTemplate:SendHeartbeat(max_ms)
	if self._interface:IsConnected() == false then
		return
	end
	self._write_factory:ResetOffset()
	self._write_factory:SetID(0)
	self._write_factory:SetRpcID(0)
	self._interface:SendFactory(self._write_factory)
	if self._check_heartbeat then
		local send_time = Time_GetCurTime()
		local default_delta = self._heartbeat / 2
		local delta_time = max_ms
		if delta_time == nil then
			delta_time = default_delta
		end
		if delta_time > default_delta then
			delta_time = default_delta
		end
		self._loop_system:AddTimer(Math_Floor(delta_time) * 1000, Lua.Bind(self.CheckHeartbeat, self, send_time, Math_Floor(delta_time)))
	end
end

function MsgSenderTemplate:CheckHeartbeat(send_time, delta_time)
	local invoke_time = Time_GetCurTime()
	local interval_time = invoke_time - send_time
	if interval_time > delta_time + 2 then
		return
	end
	if self._last_recv_time > 0 and send_time - self._last_recv_time > delta_time then
		if self._interface:IsConnected() == false then
			return
		end
		self:Close("心跳检测失败，主动断开连接")
		if self._callback ~= nil then
			self._callback()
		end
	end
end

function MsgSenderTemplate:StartHeartbeat()
	if self._heartbeat == nil then
		return
	end
	if self._heartbeat <= 0 then
		return
	end
	if self._heartbeat_loop ~= nil then
		return
	end
	self._heartbeat_loop = self._loop_system:AddTimer(1, Lua.Bind(self.SendHeartbeat, self, nil), -1, self._heartbeat * 1000)
end

function MsgSenderTemplate:StopHeartbeat()
	if self._heartbeat_loop == nil then
		return
	end
	self._last_recv_time = 0
	self._loop_system:RemoveTimer(self._heartbeat_loop)
	self._heartbeat_loop = nil
end

function __ALITTLEAPI_ConnectSucceed(id)
	local client = __MsgSenderMap[id]
	if client == nil then
		return
	end
	client:HandleConnectSucceed()
end

function __ALITTLEAPI_Disconnect(id)
	local client = __MsgSenderMap[id]
	if client == nil then
		return
	end
	client:HandleDisconnect()
end

function __ALITTLEAPI_ConnectFailed(id)
	local client = __MsgSenderMap[id]
	if client == nil then
		return
	end
	client:HandleConnectFailed(nil)
end

function __ALITTLEAPI_Message(id, msg_id, rpc_id, factory)
	local client = __MsgSenderMap[id]
	if client == nil then
		return
	end
	client:HandleMessage(msg_id, rpc_id, factory)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


assert(ALittle.IMsgCommonTemplate, " extends class:ALittle.IMsgCommonTemplate is nil")
MsgSessionTemplate = Lua.Class(ALittle.IMsgCommonTemplate, "ALittle.MsgSessionTemplate")

function MsgSessionTemplate:Ctor(connect_key, route_type, route_num)
	___rawset(self, "_interface", self.__class.__element[1]())
	self._interface:SetID(connect_key)
	___rawset(self, "_write_factory", self.__class.__element[2]())
	___rawset(self, "_is_connected", true)
	___rawset(self, "_connect_key", connect_key)
	___rawset(self, "_route_type", route_type)
	___rawset(self, "_route_num", route_num)
end

function MsgSessionTemplate.__getter:route_type()
	return self._route_type
end

function MsgSessionTemplate.__getter:route_num()
	return self._route_num
end

function MsgSessionTemplate:IsConnected()
	return self._is_connected
end

function MsgSessionTemplate:HandleConnected()
	self._is_connected = true
end

function MsgSessionTemplate:HandleDisconnected()
	self._is_connected = false
	self:ClearRPC("连接断开了")
end

function MsgSessionTemplate:Close(reason)
	if not self._is_connected then
		return
	end
	self._is_connected = false
	if reason == nil then
		reason = "主动关闭连接"
	end
	self:ClearRPC(reason)
	self._interface:Close()
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(2073949729, "ALittle.CmdCallbackInfo", {
name = "ALittle.CmdCallbackInfo", ns_name = "ALittle", rl_name = "CmdCallbackInfo", hash_code = 2073949729,
name_list = {"callback","var_list","name_list","desc"},
type_list = {"Functor<(...)>","List<string>","List<string>","string"},
option_map = {}
})

local __all_callback = {}
function RegCmdCallback(method, callback, var_list, name_list, desc)
	if __all_callback[method] ~= nil then
		Error("RegCmdCallback消息回调函数注册失败，名字为" .. method .. "已存在")
		return
	end
	local info = {}
	info.callback = callback
	info.var_list = var_list
	info.name_list = name_list
	info.desc = desc
	__all_callback[method] = info
end

function ExecuteCommand(cmd)
	if cmd == "" then
		Warn("命令行是空")
		return
	end
	local method = ""
	local param = ""
	local index = String_Find(cmd, " ")
	if index == nil then
		method = cmd
		param = ""
	else
		method = String_Sub(cmd, 1, index - 1)
		param = String_Sub(cmd, index + 1)
	end
	if String_Upper(method) == "HELP" then
		local method_list = {}
		for method_name, info in ___pairs(__all_callback) do
			List_Push(method_list, method_name)
		end
		List_Sort(method_list)
		local out_list = {}
		List_Push(out_list, "")
		List_Push(out_list, "help 打印当前模块支持的指令列表")
		for index, method_name in ___ipairs(method_list) do
			local info = __all_callback[method_name]
			local detail = method_name .. " "
			for i, v in ___ipairs(info.var_list) do
				detail = detail .. v .. " " .. info.name_list[i] .. " "
			end
			detail = detail .. info.desc
			List_Push(out_list, detail)
		end
		Log(String_Join(out_list, "\n"))
		return
	end
	local info = __all_callback[method]
	if info == nil then
		Warn("未知指令:" .. cmd)
		return
	end
	local param_list = {}
	index = 1
	local in_quote = false
	local len = String_Len(param)
	local i = 1
	while i <= len do
		local byte = String_Byte(param, i)
		if byte == 32 then
			if in_quote then
				i = i + 1
			else
				if index == i then
					i = i + 1
					index = i
				else
					List_Push(param_list, String_Sub(param, index, i - 1))
					i = i + 1
					index = i
				end
			end
		elseif byte == 34 then
			if in_quote then
				in_quote = false
				if index == i then
					List_Push(param_list, "")
					i = i + 1
					index = i
				else
					List_Push(param_list, String_Sub(param, index, i - 1))
					i = i + 1
					index = i
				end
			else
				in_quote = true
				if index ~= i then
					List_Push(param_list, String_Sub(param, index, i - 1))
					i = i + 1
					index = i
				end
			end
		else
			i = i + 1
		end
	end
	if index ~= i then
		List_Push(param_list, String_Sub(param, index, i - 1))
		i = i + 1
		index = i
	end
	len = List_MaxN(param_list)
	local need_len = List_MaxN(info.var_list)
	if len ~= need_len then
		Warn("输入的参数数量" .. len .. "和指令要求" .. need_len .. "的不一致")
		return
	end
	local value_list = {}
	for ii, param in ___ipairs(param_list) do
		local var_type = info.var_list[ii]
		if var_type == "int" or var_type == "long" or var_type == "double" then
			value_list[ii] = Math_ToDouble(param_list[ii])
			if value_list[ii] == nil then
				Warn("输入的第" .. ii .. "个参数" .. param_list[ii] .. "转为" .. var_type .. "失败")
				return
			end
		elseif var_type == "string" then
			value_list[ii] = param_list[ii]
		elseif var_type == "bool" then
			if param_list[ii] == "true" then
				value_list[ii] = true
			elseif param_list[ii] == "false" then
				value_list[ii] = false
			else
				Warn("输入的第" .. ii .. "个参数" .. param_list[ii] .. "转为" .. var_type .. "失败")
				return
			end
		else
			Warn("输入的第" .. ii .. "个参数" .. param_list[ii] .. "转为" .. var_type .. "失败，支持基本变量类型")
			return
		end
	end
	info.callback(unpack(value_list, 1, len))
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(-1155101349, "ALittle.CsvInvokeInfo", {
name = "ALittle.CsvInvokeInfo", ns_name = "ALittle", rl_name = "CsvInvokeInfo", hash_code = -1155101349,
name_list = {"func","var_name","split","sub_info","handle"},
type_list = {"Functor<(string,ALittle.CsvInvokeInfo):any>","string","string","ALittle.CsvInvokeInfo","List<ALittle.CsvInvokeInfo>"},
option_map = {}
})

local floor = Math_Floor
local tonumber = Math_ToDouble
local maxn = List_MaxN
local Csv_ReadBool
Csv_ReadBool = function(content, value)
	return string.upper(content) == "TRUE"
end

local Csv_ReadInt
Csv_ReadInt = function(content, value)
	if content == "" then
		return 0
	end
	return floor(tonumber(content))
end

local Csv_ReadLong
Csv_ReadLong = function(content, value)
	if content == "" then
		return 0
	end
	return floor(tonumber(content))
end

local Csv_ReadString
Csv_ReadString = function(content, value)
	return content
end

local Csv_ReadDouble
Csv_ReadDouble = function(content, value)
	if content == "" then
		return 0
	end
	return tonumber(content)
end

local Csv_ReadArray
Csv_ReadArray = function(content, value)
	local list = String_Split(content, value.split)
	local result = {}
	for index, sub in ___ipairs(list) do
		local v = value.sub_info.func(sub, value.sub_info)
		if v == nil then
			return nil
		end
		result[index] = v
	end
	return result
end

function Csv_ReadMessage(content, value)
	local list = String_Split(content, value.split)
	local t = {}
	for index, handle in ___ipairs(value.handle) do
		t[handle.var_name] = handle.func(list[index], handle)
	end
	return t
end

local __csv_read_data_map = {}
__csv_read_data_map["bool"] = Csv_ReadBool
__csv_read_data_map["int"] = Csv_ReadInt
__csv_read_data_map["long"] = Csv_ReadLong
__csv_read_data_map["string"] = Csv_ReadString
__csv_read_data_map["double"] = Csv_ReadDouble
local __split_list = {"*", "#", ";"}
local __split_list_last = __split_list[maxn(__split_list)]
local __split_list_max = maxn(__split_list)
local find = String_Find
local sub = String_Sub
function CalcCsvSubInfoSplit(sub_type, split_index)
	if find(sub_type, "List<") == 1 then
		return CalcCsvSubInfoSplit(sub(sub_type, 6, -2), split_index + 1)
	end
	if find(sub_type, "Map<") == 1 then
		Lua.Throw("不支持Map解析")
	end
	local func = __csv_read_data_map[sub_type]
	if func ~= nil then
		return split_index
	end
	return CalcCsvInfoSplitImpl(sub_type, split_index + 1)
end

function CalcCsvInfoSplitImpl(var_type, split_index)
	local rflt = FindStructByName(var_type)
	Lua.Assert(rflt ~= nil, "FindReflectByName调用失败! 未知类型:" .. var_type)
	local max_count = split_index
	for index, var_name in ___ipairs(rflt.name_list) do
		local count = CalcCsvSubInfoSplit(rflt.type_list[index], split_index)
		if max_count < count then
			max_count = count
		end
	end
	return max_count
end

function CalcCsvInfoSplit(rflt)
	local max_count = 0
	for index, var_name in ___ipairs(rflt.name_list) do
		local count = CalcCsvSubInfoSplit(rflt.type_list[index], 0)
		if max_count < count then
			max_count = count
		end
	end
	return max_count
end

function CreateCsvSubInfo(sub_type, split_index)
	local func = __csv_read_data_map[sub_type]
	if func ~= nil then
		local sub_info = {}
		sub_info.func = func
		return sub_info
	end
	if find(sub_type, "List<") == 1 then
		return CreateCsvArrayInfo(sub_type, split_index)
	end
	if find(sub_type, "Map<") == 1 then
		Lua.Throw("不支持Map解析")
	end
	return CreateCsvInfoImpl(sub_type, split_index)
end

function CreateCsvArrayInfo(var_type, split_index)
	Lua.Assert(split_index > 0, "分隔符数量不足")
	local invoke_info = {}
	invoke_info.func = Csv_ReadArray
	invoke_info.split = __split_list[split_index]
	invoke_info.sub_info = CreateCsvSubInfo(sub(var_type, 6, -2), split_index - 1)
	return invoke_info
end

function CreateCsvInfoImpl(var_type, split_index)
	Lua.Assert(split_index > 0, "分隔符数量不足")
	local rflt = FindStructByName(var_type)
	Lua.Assert(rflt, "FindReflectByName调用失败! 未知类型:" .. var_type)
	local invoke_info = {}
	invoke_info.split = __split_list[split_index]
	invoke_info.func = Csv_ReadMessage
	local handle = {}
	invoke_info.handle = handle
	local handle_count = 0
	for index, var_name in ___ipairs(rflt.name_list) do
		local var_info = CreateCsvSubInfo(rflt.type_list[index], split_index - 1)
		var_info.var_name = var_name
		handle_count = handle_count + 1
		handle[handle_count] = var_info
	end
	return invoke_info
end

function CreateCsvInfo(rflt)
	local split_index = CalcCsvInfoSplit(rflt)
	local invoke_info = {}
	invoke_info.split = __split_list[split_index]
	invoke_info.func = Csv_ReadMessage
	local handle = {}
	invoke_info.handle = handle
	local handle_count = 0
	for index, var_name in ___ipairs(rflt.name_list) do
		local var_info = CreateCsvSubInfo(rflt.type_list[index], split_index)
		var_info.var_name = var_name
		handle_count = handle_count + 1
		handle[handle_count] = var_info
	end
	return invoke_info
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(-1602043290, "ALittle.ProtocolInvokeInfo", {
name = "ALittle.ProtocolInvokeInfo", ns_name = "ALittle", rl_name = "ProtocolInvokeInfo", hash_code = -1602043290,
name_list = {"wfunc","rfunc","rflt","var_name","key_info","value_info","sub_info","handle"},
type_list = {"Functor<(ALittle.IMessageWriteFactory,ALittle.ProtocolInvokeInfo,any,any):int>","Functor<(ALittle.IMessageReadFactory,ALittle.ProtocolInvokeInfo,any,int):any,int>","ALittle.StructInfo","string","ALittle.ProtocolInvokeInfo","ALittle.ProtocolInvokeInfo","ALittle.ProtocolInvokeInfo","List<ALittle.ProtocolInvokeInfo>"},
option_map = {}
})
RegStruct(1847150134, "ALittle.StructInfo", {
name = "ALittle.StructInfo", ns_name = "ALittle", rl_name = "StructInfo", hash_code = 1847150134,
name_list = {"name","ns_name","rl_name","hash_code","name_list","type_list","option_map"},
type_list = {"string","string","string","int","List<string>","List<string>","Map<string,string>"},
option_map = {}
})
RegStruct(1821069430, "ALittle.ProtocolAnyStruct", {
name = "ALittle.ProtocolAnyStruct", ns_name = "ALittle", rl_name = "ProtocolAnyStruct", hash_code = 1821069430,
name_list = {"hash_code","value"},
type_list = {"int","any"},
option_map = {}
})

local __all_name_invoke = {}
local __all_id_invoke = {}
local PS_WriteBool
PS_WriteBool = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteBool(false)
	end
	return factory:WriteBool(var_value)
end

local PS_WriteInt
PS_WriteInt = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteInt(0)
	end
	return factory:WriteInt(var_value)
end

local PS_WriteString
PS_WriteString = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteString("")
	end
	return factory:WriteString(var_value)
end

local PS_WriteDouble
PS_WriteDouble = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteDouble(0)
	end
	return factory:WriteDouble(var_value)
end

local PS_WriteLong
PS_WriteLong = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteLong(0)
	end
	return factory:WriteLong(var_value)
end

local PS_WriteArray
PS_WriteArray = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteInt(0)
	end
	local offset = factory:GetOffset()
	local l = factory:WriteInt(0)
	local sub_info = var_info.sub_info
	local sub_func = sub_info.wfunc
	local count = 0
	for index, value in ___ipairs(var_value) do
		l = l + sub_func(factory, sub_info, var_value, value)
		count = count + 1
	end
	factory:SetInt(offset, count)
	return l
end

local PS_WriteMap
PS_WriteMap = function(factory, var_info, parent, var_value)
	if var_value == nil then
		return factory:WriteInt(0)
	end
	local offset = factory:GetOffset()
	local l = factory:WriteInt(0)
	local key_info = var_info.key_info
	local key_func = key_info.wfunc
	local value_info = var_info.value_info
	local value_func = value_info.wfunc
	local count = 0
	for key, value in ___pairs(var_value) do
		l = l + key_func(factory, key_info, var_value, key)
		l = l + value_func(factory, value_info, var_value, value)
		count = count + 1
	end
	factory:SetInt(offset, count)
	return l
end

local PS_WriteMessage
PS_WriteMessage = function(factory, var_info, parent, var_value)
	if var_value == nil then
		local offset = factory:GetOffset()
		local pre_size = factory:WriteInt(0)
		local size = 0
		for index, info in ___ipairs(var_info.handle) do
			size = size + info.wfunc(factory, info, var_value, nil)
		end
		factory:SetInt(offset, size)
		return pre_size + size
	end
	local offset = factory:GetOffset()
	local pre_size = factory:WriteInt(0)
	local size = 0
	for index, info in ___ipairs(var_info.handle) do
		size = size + info.wfunc(factory, info, var_value, var_value[info.var_name])
	end
	factory:SetInt(offset, size)
	return pre_size + size
end

function PS_WriteAny(factory, var_info, parent, var_value)
	local invoke_info = CreateProtocolInvokeInfo(parent.hash_code)
	return PS_WriteMessage(factory, invoke_info, parent, var_value)
end

function PS_WriteMessageForSend(factory, var_info, parent, var_value)
	if var_value == nil then
		local offset = factory:GetOffset()
		local size = 0
		for index, info in ___ipairs(var_info.handle) do
			size = size + info.wfunc(factory, info, var_value, nil)
		end
		return size
	end
	local offset = factory:GetOffset()
	local size = 0
	for index, info in ___ipairs(var_info.handle) do
		size = size + info.wfunc(factory, info, var_value, var_value[info.var_name])
	end
	return size
end

local PS_ReadBool
PS_ReadBool = function(factory, var_info, parent, l)
	if l == 0 then
		return false, 0
	end
	if l < 1 then
		return false, -1
	end
	return factory:ReadBool(), 1
end

local PS_ReadInt
PS_ReadInt = function(factory, var_info, parent, l)
	if l == 0 then
		return 0, 0
	end
	if l < 4 then
		return 0, -1
	end
	return factory:ReadInt(), 4
end

local PS_ReadString
PS_ReadString = function(factory, var_info, parent, l)
	if l == 0 then
		return "", 0
	end
	return factory:ReadString(), factory:GetReadSize()
end

local PS_ReadDouble
PS_ReadDouble = function(factory, var_info, parent, l)
	if l == 0 then
		return 0, 0
	end
	if l < 8 then
		return 0, -1
	end
	return factory:ReadDouble(), 8
end

local PS_ReadLong
PS_ReadLong = function(factory, var_info, parent, l)
	if l == 0 then
		return 0, 0
	end
	if l < 8 then
		return 0, -1
	end
	return factory:ReadLong(), 8
end

local PS_ReadArray
PS_ReadArray = function(factory, var_info, parent, l)
	if l == 0 then
		return {}, 0
	end
	local save_len = l
	if l < 4 then
		return nil, -1
	end
	local count = factory:ReadInt()
	l = l - 4
	if count < 0 then
		return nil, -1
	end
	local sub_info = var_info.sub_info
	local sub_func = sub_info.rfunc
	local sub_len = 0
	local value_list = {}
	local index = 1
	while true do
		if not(index <= count) then break end
		value_list[index], sub_len = sub_func(factory, sub_info, value_list, l)
		if sub_len < 0 then
			return nil, sub_len
		end
		l = l - (sub_len)
		index = index+(1)
	end
	return value_list, save_len - l
end

local PS_ReadMap
PS_ReadMap = function(factory, var_info, parent, l)
	if l == 0 then
		return {}, 0
	end
	local save_len = l
	if l < 4 then
		return nil, -1
	end
	local count = factory:ReadInt()
	l = l - 4
	if count < 0 then
		return nil, -1
	end
	local key_info = var_info.key_info
	local key_func = key_info.rfunc
	local value_info = var_info.value_info
	local value_func = value_info.rfunc
	local value_map = {}
	local index = 1
	while true do
		if not(index <= count) then break end
		local key, key_len = key_func(factory, key_info, value_map, l)
		if key_len < 0 then
			return nil, key_len
		end
		l = l - key_len
		local value, value_len = value_func(factory, value_info, value_map, l)
		if value_len < 0 then
			return nil, value_len
		end
		l = l - value_len
		value_map[key] = value
		index = index+(1)
	end
	return value_map, save_len - l
end

local PS_ReadMessage
PS_ReadMessage = function(factory, var_info, parent, l)
	if l == 0 then
		local value_map = {}
		local sub_len = 0
		for index, info in ___ipairs(var_info.handle) do
			value_map[info.var_name], sub_len = info.rfunc(factory, info, value_map, 0)
		end
		return value_map, 0
	end
	if l < 4 then
		return nil, -1
	end
	local object_len = factory:ReadInt()
	l = l - 4
	local save_len = 4
	if object_len > l then
		return nil, -1
	end
	save_len = save_len + object_len
	local sub_len = 0
	local value_map = {}
	for index, info in ___ipairs(var_info.handle) do
		value_map[info.var_name], sub_len = info.rfunc(factory, info, value_map, object_len)
		if sub_len < 0 then
			return nil, sub_len
		end
		object_len = object_len - sub_len
	end
	return value_map, save_len
end

function PS_ReadAny(factory, var_info, parent, l)
	local invoke_info = CreateProtocolInvokeInfo(parent.hash_code)
	return PS_ReadMessage(factory, invoke_info, parent, l)
end

function PS_ReadMessageForReceive(factory, var_info, parent, l)
	if l == 0 then
		local value_map = {}
		local sub_len = 0
		for index, info in ___ipairs(var_info.handle) do
			value_map[info.var_name], sub_len = info.rfunc(factory, info, value_map, 0)
		end
		return value_map, 0
	end
	local sub_len = 0
	local value_map = {}
	for index, info in ___ipairs(var_info.handle) do
		value_map[info.var_name], sub_len = info.rfunc(factory, info, value_map, l)
		if sub_len < 0 then
			return nil, sub_len
		end
		l = l - sub_len
	end
	return value_map, l
end

local __ps_write_data_map = {}
__ps_write_data_map["bool"] = PS_WriteBool
__ps_write_data_map["int"] = PS_WriteInt
__ps_write_data_map["long"] = PS_WriteLong
__ps_write_data_map["string"] = PS_WriteString
__ps_write_data_map["double"] = PS_WriteDouble
__ps_write_data_map["any"] = PS_WriteAny
local __ps_read_data_map = {}
__ps_read_data_map["bool"] = PS_ReadBool
__ps_read_data_map["int"] = PS_ReadInt
__ps_read_data_map["long"] = PS_ReadLong
__ps_read_data_map["string"] = PS_ReadString
__ps_read_data_map["double"] = PS_ReadDouble
__ps_read_data_map["any"] = PS_ReadAny
local find = String_Find
local sub = String_Sub
local len = String_Len
local byte = String_Byte
function CreateSubInfo(sub_type)
	local wfunc = __ps_write_data_map[sub_type]
	if wfunc ~= nil then
		local sub_info = {}
		sub_info.wfunc = wfunc
		sub_info.rfunc = __ps_read_data_map[sub_type]
		return sub_info
	end
	if find(sub_type, "List<") == 1 then
		return CreateArrayInfo(sub_type)
	end
	if find(sub_type, "Map<") == 1 then
		return CreateMapInfo(sub_type)
	end
	return CreateMessageInfo(sub_type)
end

function CreateArrayInfo(var_type)
	local invoke_info = {}
	invoke_info.wfunc = PS_WriteArray
	invoke_info.rfunc = PS_ReadArray
	invoke_info.sub_info = CreateSubInfo(sub(var_type, 6, -2))
	return invoke_info
end

function CreateMapInfo(var_type)
	local invoke_info = {}
	local sub_type = sub(var_type, 5, -2)
	local comma_index = 0
	local sub_type_len = len(sub_type)
	local ltgt = 0
	local i = 1
	while true do
		if not(i <= sub_type_len) then break end
		local code = byte(sub_type, i)
		if code == 60 then
			ltgt = ltgt + 1
		elseif code == 62 then
			ltgt = ltgt - 1
		elseif code == 44 then
			if ltgt == 0 then
				comma_index = i
				break
			end
		end
		i = i+(1)
	end
	Lua.Assert(comma_index ~= 0, "can'f find comma in var_type:" .. var_type)
	invoke_info.wfunc = PS_WriteMap
	invoke_info.rfunc = PS_ReadMap
	invoke_info.key_info = CreateSubInfo(sub(sub_type, 1, comma_index - 1))
	invoke_info.value_info = CreateSubInfo(sub(sub_type, comma_index + 1))
	return invoke_info
end

function CreateMessageInfo(var_type)
	local invoke = __all_name_invoke[var_type]
	if invoke ~= nil then
		return invoke
	end
	local rflt = FindStructByName(var_type)
	Lua.Assert(rflt ~= nil, "FindReflect调用失败! 未知类型:" .. var_type)
	invoke = CreateMessageInfoImpl(rflt)
	__all_id_invoke[rflt.hash_code] = invoke
	__all_name_invoke[rflt.name] = invoke
	return invoke
end

function CreateMessageInfoImpl(rflt)
	local invoke_info = {}
	invoke_info.wfunc = PS_WriteMessage
	invoke_info.rfunc = PS_ReadMessage
	invoke_info.rflt = rflt
	local handle = {}
	invoke_info.handle = handle
	local handle_count = 0
	for index, var_name in ___ipairs(rflt.name_list) do
		local var_info = CreateSubInfo(rflt.type_list[index])
		var_info.var_name = var_name
		handle_count = handle_count + 1
		handle[handle_count] = var_info
	end
	return invoke_info
end

function CreateProtocolInvokeInfo(msg_id)
	local invoke = __all_id_invoke[msg_id]
	if invoke ~= nil then
		return invoke
	end
	local rflt = FindStructById(msg_id)
	Lua.Assert(rflt ~= nil, "FindReflect调用失败! 未知ID:" .. msg_id)
	invoke = CreateMessageInfoImpl(rflt)
	__all_id_invoke[rflt.hash_code] = invoke
	__all_name_invoke[rflt.name] = invoke
	return invoke
end

local CollectStructInfo
CollectStructInfo = function(invoke, map)
	if invoke == nil then
		return
	end
	if invoke.rflt ~= nil then
		if map[invoke.rflt.hash_code] ~= nil then
			return
		end
		map[invoke.rflt.hash_code] = invoke.rflt
	end
	if invoke.key_info ~= nil then
		CollectStructInfo(invoke.key_info, map)
	end
	if invoke.value_info ~= nil then
		CollectStructInfo(invoke.value_info, map)
	end
	if invoke.sub_info ~= nil then
		CollectStructInfo(invoke.sub_info, map)
	end
	if invoke.handle ~= nil then
		for index, info in ___ipairs(invoke.handle) do
			CollectStructInfo(info, map)
		end
	end
end

function CollectStructReflect(info, map)
	if info == nil then
		return "参数info是null"
	end
	local error, invoke = Lua.TCall(CreateMessageInfoImpl, info)
	if error ~= nil then
		return error
	end
	CollectStructInfo(invoke, map)
	return nil
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function BitAnd(x, y)
	return bit.band(x, y)
end

function BitOr(x, y)
	return bit.bor(x, y)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs
local ___all_struct = GetAllStruct()

RegStruct(115253948, "ALittle.KeyValueInfo", {
name = "ALittle.KeyValueInfo", ns_name = "ALittle", rl_name = "KeyValueInfo", hash_code = 115253948,
name_list = {"key","value"},
type_list = {"string","string"},
option_map = {}
})

ICsvFile = Lua.Class(nil, "ALittle.ICsvFile")

function ICsvFile:Close()
end

function ICsvFile:ReadCell(row, col)
	return ""
end

function ICsvFile:GetRowCount()
	return 0
end

function ICsvFile:GetColCount()
	return 0
end

ICsvFileLoader = Lua.Class(nil, "ALittle.ICsvFileLoader")

function ICsvFileLoader:Start()
end

function ICsvFileLoader:SetPath(file_path, only_from_asset)
end

function ICsvFileLoader:GetPath()
	return nil
end

function ICsvFileLoader:GetID()
	return nil
end

CsvConfig = Lua.Class(nil, "ALittle.CsvConfig")

function CsvConfig:Load(file_path)
	local lua_file = Lua.LuaCsvFile()
	Lua.Assert(lua_file:Load(file_path), file_path .. " load failed!")
	self:Init(lua_file)
	Log(file_path .. " load succeed!")
end

function CsvConfig:Init(file)
end

assert(ALittle.CsvConfig, " extends class:ALittle.CsvConfig is nil")
KeyValueConfig = Lua.Class(ALittle.CsvConfig, "ALittle.KeyValueConfig")

function KeyValueConfig:Ctor()
	___rawset(self, "_data", {})
	___rawset(self, "_csv_info", CreateCsvInfo(self.__class.__element[1]))
end

function KeyValueConfig:Init(file)
	if file == nil then
		return
	end
	local reflt = self.__class.__element[1]
	local handle_map = {}
	for index, handle in ___ipairs(self._csv_info.handle) do
		handle_map[handle.var_name] = handle
	end
	local row_count = file:GetRowCount()
	local row = 1
	while true do
		if not(row <= row_count) then break end
		local key = file:ReadCell(row, 1)
		local value = file:ReadCell(row, 2)
		if key ~= nil and value ~= nil then
			local handle = handle_map[key]
			if handle ~= nil then
				local hvalue = handle.func(value, handle)
				if hvalue ~= nil then
					self._data[key] = hvalue
				else
					Error("key:" .. key .. " load failed!")
				end
			end
		end
		row = row+(1)
	end
	file:Close()
end

function KeyValueConfig:GetFieldNameList()
	local rflt = ___all_struct[115253948]
	return rflt.name_list
end

function KeyValueConfig:GetData()
	return self._data
end

assert(ALittle.CsvConfig, " extends class:ALittle.CsvConfig is nil")
CsvTableConfig = Lua.Class(ALittle.CsvConfig, "ALittle.CsvTableConfig")

function CsvTableConfig:Ctor()
	local error = nil
	error, self._csv_info = Lua.TCall(CreateCsvInfo, self.__class.__element[1])
	if error ~= nil then
		Error(error)
	end
	___rawset(self, "_col_map", {})
end

function CsvTableConfig:Init(file)
	if self._csv_file ~= nil then
		self._csv_file:Close()
	end
	self._csv_file = file
	if self._csv_file == nil then
		return
	end
	local rflt = self.__class.__element[1]
	local name_map = {}
	for index, name in ___ipairs(rflt.name_list) do
		name_map[name] = index
	end
	local i = 1
	while true do
		if not(i <= self._csv_file:GetColCount()) then break end
		local name = self._csv_file:ReadCell(1, i)
		local index = name_map[name]
		if index ~= nil then
			self._col_map[index] = i
		end
		i = i+(1)
	end
	self:onInit()
end

function CsvTableConfig:onInit()
end

function CsvTableConfig:LoadCell(row)
	local value = {}
	for index, handle in ___ipairs(self._csv_info.handle) do
		local real = self._col_map[index]
		if real == nil then
			value[handle.var_name] = handle.func("", handle)
		else
			value[handle.var_name] = handle.func(self._csv_file:ReadCell(row + 1, real), handle)
		end
	end
	return value
end

assert(ALittle.CsvTableConfig, " extends class:ALittle.CsvTableConfig is nil")
SingleKeyTableConfig = Lua.Class(ALittle.CsvTableConfig, "ALittle.SingleKeyTableConfig")

function SingleKeyTableConfig:Ctor()
	___rawset(self, "_key_map", {})
	___rawset(self, "_cache_map", {})
end

function SingleKeyTableConfig:onInit()
	local rflt = self.__class.__element[1]
	local key_type = rflt.type_list[1]
	local key_index = self._col_map[1]
	local is_int = key_type == "int" or key_type == "long"
	local is_double = key_type == "double"
	local row_count = self._csv_file:GetRowCount()
	local row = 2
	while true do
		if not(row <= row_count) then break end
		local value = self._csv_file:ReadCell(row, key_index)
		if value ~= nil then
			if is_int then
				self._key_map[Math_ToInt(value)] = row
			end
			if is_double then
				self._key_map[Math_ToDouble(value)] = row
			else
				self._key_map[value] = row
			end
		end
		row = row+(1)
	end
end

function SingleKeyTableConfig:GetData(key)
	if self._csv_file == nil then
		return nil
	end
	local value = self._cache_map[key]
	if value ~= nil then
		return value
	end
	local row = self._key_map[key]
	if row == nil then
		return nil
	end
	value = self:LoadCell(row)
	if value == nil then
		return nil
	end
	self._cache_map[key] = value
	return value
end

assert(ALittle.CsvTableConfig, " extends class:ALittle.CsvTableConfig is nil")
DoubleKeyTableConfig = Lua.Class(ALittle.CsvTableConfig, "ALittle.DoubleKeyTableConfig")

function DoubleKeyTableConfig:Ctor()
	___rawset(self, "_key_map", {})
	___rawset(self, "_cache_map", {})
end

function DoubleKeyTableConfig:onInit()
	local rflt = self.__class.__element[1]
	local first_key_type = rflt.type_list[1]
	local first_key_index = self._col_map[1]
	local first_is_int = first_key_type == "int" or first_key_type == "long"
	local first_is_double = first_key_type == "double"
	local second_key_type = rflt.type_list[2]
	local second_key_index = self._col_map[2]
	local second_is_int = second_key_type == "int" or second_key_type == "long"
	local second_is_double = second_key_type == "double"
	local row_count = self._csv_file:GetRowCount()
	local row = 2
	while true do
		if not(row <= row_count) then break end
		local tmp
		local value = self._csv_file:ReadCell(row, first_key_index)
		if value ~= nil then
			if first_is_int then
				tmp = self._key_map[Math_ToInt(value)]
				if tmp == nil then
					tmp = {}
					self._key_map[Math_ToInt(value)] = tmp
				end
			elseif first_is_double then
				tmp = self._key_map[Math_ToDouble(value)]
				if tmp == nil then
					tmp = {}
					self._key_map[Math_ToDouble(value)] = tmp
				end
			else
				tmp = self._key_map[value]
				if tmp == nil then
					tmp = {}
					self._key_map[value] = tmp
				end
			end
		end
		value = self._csv_file:ReadCell(row, second_key_index)
		if value ~= nil then
			if second_is_int then
				tmp[Math_ToInt(value)] = row
			elseif second_is_double then
				tmp[Math_ToDouble(value)] = row
			else
				tmp[value] = row
			end
		end
		row = row+(1)
	end
end

function DoubleKeyTableConfig:GetData(first_key, second_key)
	if self._csv_file == nil then
		return nil
	end
	local value_map = self._cache_map[first_key]
	if value_map ~= nil then
		local value = value_map[second_key]
		if value ~= nil then
			return value
		end
	end
	local key_tmp = self._key_map[first_key]
	if key_tmp == nil then
		return nil
	end
	local row = key_tmp[second_key]
	if row == nil then
		return nil
	end
	local value = self:LoadCell(row)
	if value == nil then
		return nil
	end
	local tmp = self._cache_map[first_key]
	if tmp == nil then
		tmp = {}
		self._cache_map[first_key] = tmp
	end
	tmp[second_key] = value
	return value
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

RegStruct(1715346212, "ALittle.Event", {
name = "ALittle.Event", ns_name = "ALittle", rl_name = "Event", hash_code = 1715346212,
name_list = {"target"},
type_list = {"ALittle.EventDispatcher"},
option_map = {}
})

EventDispatcher = Lua.Class(nil, "ALittle.EventDispatcher")

function EventDispatcher:Ctor()
	___rawset(self, "_listeners", {})
	___rawset(self, "_abs_disabled", false)
end

function EventDispatcher:AddEventListener(T, object, callback)
	if object == nil then
		return false
	end
	if callback == nil then
		return false
	end
	local rflt = T
	local callback_table = self._listeners[rflt.hash_code]
	if callback_table == nil then
		callback_table = CreateKeyWeakMap()
		self._listeners[rflt.hash_code] = callback_table
	end
	local callback_value = callback_table[object]
	if callback_value == nil then
		callback_value = {}
		callback_table[object] = callback_value
	end
	callback_value[callback] = true
	return true
end

function EventDispatcher:RemoveEventListener(T, object, callback)
	local rflt = T
	local callback_table = self._listeners[rflt.hash_code]
	if callback_table == nil then
		return
	end
	if callback == nil then
		callback_table[object] = nil
	else
		local callback_value = callback_table[object]
		if callback_value == nil then
			return
		end
		callback_value[callback] = nil
	end
end

function EventDispatcher:ClearEventListener()
	self._listeners = {}
end

function EventDispatcher:DispatchEvent(T, event)
	local rflt = T
	if event.target == nil then
		event.target = self
	end
	local callback_table = self._listeners[rflt.hash_code]
	if callback_table == nil then
		return
	end
	for object, callback_value in ___pairs(callback_table) do
		for func, _ in ___pairs(callback_value) do
			func(object, event)
		end
	end
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local open = io.open
local rename = os.rename
local remove = os.remove
local attributes = lfs.attributes
local dir = lfs.dir
local currentdir = lfs.currentdir
local chdir = lfs.chdir
local rmdir = lfs.rmdir
local mkdir = lfs.mkdir
IFileLoader = Lua.Class(nil, "ALittle.IFileLoader")

function IFileLoader:Load(file_path)
	return nil
end

assert(ALittle.IFileLoader, " extends class:ALittle.IFileLoader is nil")
LuaFileLoader = Lua.Class(ALittle.IFileLoader, "ALittle.LuaFileLoader")

function LuaFileLoader:Load(file_path)
	local file = open(file_path, "r")
	if file == nil then
		return nil
	end
	local content = file:read("*a")
	file:close()
	return content
end

IFileSaver = Lua.Class(nil, "ALittle.IFileSaver")

function IFileSaver:Save(file_path, content)
	return false
end

assert(ALittle.IFileSaver, " extends class:ALittle.IFileSaver is nil")
LuaFileSaver = Lua.Class(ALittle.IFileSaver, "ALittle.LuaFileSaver")

function LuaFileSaver:Save(file_path, content)
	local file = open(file_path, "w")
	if file == nil then
		return false
	end
	file:write(content)
	file:close()
	return true
end

function File_GetCurrentPath()
	return currentdir()
end

function File_SetCurrentPath(path)
	return chdir(path)
end

function File_RenameFile(path, new_path)
	return rename(path, new_path)
end

function File_DeleteFile(path)
	return remove(path)
end

function File_GetFileAttr(path)
	return attributes(path)
end

function File_GetFileAttrByDir(path, file_map)
	do
		if file_map == nil then
			file_map = {}
		end
		for file in dir(path) do
			if file ~= "." and file ~= ".." then
				local file_path = path .. "/" .. file
				local attr = attributes(file_path)
				if attr.mode == "directory" then
					File_GetFileAttrByDir(file_path, file_map)
				else
					file_map[file_path] = attr
				end
			end
		end
		return file_map
	end
end

function File_GetFileNameListByDir(path, file_map)
	do
		if file_map == nil then
			file_map = {}
		end
		for file in dir(path) do
			if file ~= "." and file ~= ".." then
				local file_path = path .. "/" .. file
				file_map[file] = attributes(file_path)
			end
		end
		return file_map
	end
end

function File_DeleteDir(path)
	return rmdir(path)
end

function File_DeleteDeepDir(path, log_path)
	do
		if path == nil or path == "" then
			return
		end
		if File_GetFileAttr(path) == nil then
			return
		end
		for file in dir(path) do
			if file ~= "." and file ~= ".." then
				local file_path = path .. "/" .. file
				local attr = attributes(file_path)
				if attr.mode == "directory" then
					File_DeleteDeepDir(file_path, log_path)
				else
					File_DeleteFile(file_path)
					if log_path then
						Log("delete file:", file_path)
					end
				end
			end
		end
		File_DeleteDir(path)
	end
end

function File_MakeDir(path)
	return mkdir(path)
end

function File_MakeDeepDir(path)
	local path_list = String_SplitSepList(path, {"/", "\\"})
	local cur_path = ""
	for index, sub_path in ___ipairs(path_list) do
		cur_path = cur_path .. sub_path
		File_MakeDir(cur_path)
		cur_path = cur_path .. "/"
	end
end

function File_PathEndWithSplit(file_path)
	local len = String_Len(file_path)
	if len == 0 then
		return file_path
	end
	local byte = String_Byte(file_path, len)
	if byte == 47 or byte == 92 then
		return file_path
	end
	if String_Find(file_path, "\\") ~= nil then
		return file_path .. "\\"
	end
	return file_path .. "/"
end

function File_GetFileNameByPath(file_path)
	local list = String_SplitSepList(file_path, {"/", "\\"})
	local l = List_MaxN(list)
	if l <= 0 then
		return file_path
	end
	return list[l]
end

function File_GetFilePathByPath(file_path)
	local new_file_path = File_GetFileNameByPath(file_path)
	return String_Sub(file_path, 1, String_Len(file_path) - String_Len(new_file_path) - 1)
end

function File_GetFileExtByPath(file_path)
	local list = String_Split(file_path, ".")
	local l = List_MaxN(list)
	if l <= 0 then
		return file_path
	end
	return list[l]
end

function File_GetFileExtByPathAndUpper(file_path)
	return String_Upper(File_GetFileExtByPath(file_path))
end

function File_GetJustFileNameByPath(file_path)
	local new_file_path = File_GetFileNameByPath(file_path)
	local list = String_Split(new_file_path, ".")
	local l = List_MaxN(list)
	if l <= 1 then
		return new_file_path
	end
	return list[l - 1]
end

function File_ReadJsonFromStdFile(file_path)
	do
		local file = io.open(file_path, "rb")
		if file == nil then
			return nil, file_path .. " load failed"
		end
		local content = file:read("*a")
		file:close()
		local error, new_content = Lua.TCall(json.decode, content)
		if error == nil then
			return new_content, content
		end
		return nil, new_content
	end
end

function File_WriteJsonFromStdFile(content, file_path)
	do
		local file = io.open(file_path, "wb")
		if file == nil then
			return false
		end
		file:write(json.encode(content))
		file:close()
		return true
	end
end

function File_ReadTextFromStdFile(file_path)
	do
		local file = io.open(file_path, "rb")
		if file == nil then
			return nil, file_path .. " load failed"
		end
		local content = file:read("*a")
		file:close()
		return nil, content
	end
end

function File_WriteTextFromStdFile(content, file_path)
	do
		local file = io.open(file_path, "wb")
		if file == nil then
			return false
		end
		file:write(content)
		file:close()
		return true
	end
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


IHeapTimer = Lua.Class(nil, "ALittle.IHeapTimer")

function IHeapTimer:Add(delay_ms, loop, interval_ms)
	return 0
end

function IHeapTimer:Remove(id)
	return false
end

function IHeapTimer:Update(ms)
end

function IHeapTimer:Poll()
	return 0
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


ISchedule = Lua.Class(nil, "ALittle.ISchedule")

function ISchedule:Run()
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


IJsonConfig = Lua.Class(nil, "ALittle.IJsonConfig")

function IJsonConfig:GetConfig(key, defaultv)
	return defaultv
end

function IJsonConfig:GetBool(key, defaultv)
	return defaultv
end

function IJsonConfig:GetInt(key, defaultv)
	return defaultv
end

function IJsonConfig:GetDouble(key, defaultv)
	return defaultv
end

function IJsonConfig:GetString(key, defaultv)
	return defaultv
end

function IJsonConfig:SetConfig(key, value, not_save)
end

function IJsonConfig:CoverConfig(msg, save)
end

function IJsonConfig:SaveConfig()
end

assert(ALittle.IJsonConfig, " extends class:ALittle.IJsonConfig is nil")
JsonConfig = Lua.Class(ALittle.IJsonConfig, "ALittle.JsonConfig")

function JsonConfig:Ctor(file_path, print_error)
	___rawset(self, "_file_path", file_path)
	___rawset(self, "_config_map", {})
	local file = self.__class.__element[1]()
	local content = file:Load(self._file_path)
	if content == nil then
		if print_error then
			Error("config load failed." .. file_path)
		end
		return
	end
	local error, json_content = Lua.TCall(String_JsonDecode, content)
	if error ~= nil then
		Log("Json Decode failed." .. file_path .. ", " .. error)
		return
	end
	___rawset(self, "_config_map", json_content)
end

function JsonConfig:GetConfig(key, defaultv)
	local value = self._config_map[key]
	if value == nil then
		return defaultv
	end
	return value
end

function JsonConfig:GetBool(key, defaultv)
	local value = self:GetConfig(key, defaultv)
	return value ~= nil and value ~= false
end

function JsonConfig:GetInt(key, defaultv)
	local value = self:GetConfig(key, defaultv)
	if value == nil then
		value = 0
	end
	return value
end

function JsonConfig:GetDouble(key, defaultv)
	local value = self:GetConfig(key, defaultv)
	if value == nil then
		value = 0
	end
	return value
end

function JsonConfig:GetString(key, defaultv)
	local value = self:GetConfig(key, defaultv)
	if value == nil then
		value = ""
	end
	return value
end

function JsonConfig:SetConfig(key, value, not_save)
	self._config_map[key] = value
	if not not_save then
		self:SaveConfig()
	end
end

function JsonConfig:CoverConfig(msg, save)
	for k, v in ___pairs(msg) do
		self._config_map[k] = v
	end
	if not save then
		self:SaveConfig()
	end
end

function JsonConfig:SaveConfig()
	local file = self.__class.__element[2]()
	if not file:Save(self._file_path, String_JsonEncode(self._config_map)) then
		Log("Save Congig Failed.", self._file_path)
	end
end

function CreateJsonConfig(file_path, print_error)
	return Lua.Template(JsonConfig, "ALittle.JsonConfig<ALittle.LuaFileLoader, ALittle.LuaFileSaver>", LuaFileLoader, LuaFileSaver)(file_path, print_error)
end


module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


SafeIDCreator = Lua.Class(nil, "ALittle.SafeIDCreator")

function SafeIDCreator:Ctor()
	___rawset(self, "_max_id", 0)
	___rawset(self, "_map", {})
end

function SafeIDCreator:CreateID()
	local id = nil
	for k, v in ___pairs(self._map) do
		id = k
		break
	end
	if id ~= nil then
		self._map[id] = nil
		return id
	end
	self._max_id = self._max_id + 1
	return self._max_id
end

function SafeIDCreator:ReleaseID(id)
	self._map[id] = true
end

function SafeIDCreator:PrintStatus()
	local count = 0
	for k, v in ___pairs(self._map) do
		count = count + 1
	end
	Log("SafeIDCreator:PrintStatus count:" .. count .. " max_id:" .. self._max_id)
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


local GetSchedule
GetSchedule = function()
	return A_LuaSchedule
end

_G.A_Schedule = GetSchedule()

module("ALittle", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs


function String_JsonEncode(object)
	return json.encode(object)
end

function String_JsonDecode(text)
	return json.decode(text)
end

function String_MD5(text)
	return md5.stringmd5(text)
end

function String_Base64Encode(text)
	return base64.encode(text)
end

function String_Base64Decode(text)
	return base64.decode(text)
end

function String_GetWordCount(text)
	return utf8.wordcount(text)
end

function String_GetByteCount(text, word_count)
	return utf8.bytecount(text, word_count)
end

StringGenerateID = Lua.Class(nil, "ALittle.StringGenerateID")

function StringGenerateID:Ctor()
	___rawset(self, "_string_last_index", 0)
	___rawset(self, "_string_last_time", 0)
end

function StringGenerateID:GenID(pre)
	local cur_time = Time_GetCurTime()
	if cur_time ~= self._string_last_time then
		self._string_last_time = cur_time
		self._string_last_index = 0
	else
		self._string_last_index = self._string_last_index + 1
	end
	local result = ""
	if pre ~= nil then
		result = pre .. "-"
	end
	result = result .. self._string_last_time .. "-" .. self._string_last_index .. "-" .. Math_RandomInt(0, 10000) .. "-" .. Math_RandomInt(0, 10000)
	return result
end

local A_StringGenerateID = StringGenerateID()
function String_GenerateID(pre)
	return A_StringGenerateID:GenID(pre)
end

function String_HttpAnalysisValueMap(param, content)
	local value_map = {}
	local param_split_list = String_Split(param, "&")
	for index, param_content in ___ipairs(param_split_list) do
		local value_split_list = String_Split(param_content, "=")
		if List_MaxN(value_split_list) == 2 then
			if String_Sub(value_split_list[2], 1, 1) == "\"" and String_Sub(value_split_list[2], -1, -1) == "\"" then
				value_map[value_split_list[1]] = String_Sub(value_split_list[2], 2, -2)
			else
				local number = Math_ToDouble(value_split_list[2])
				if number == nil then
					value_map[value_split_list[1]] = value_split_list[2]
				else
					value_map[value_split_list[1]] = number
				end
			end
		end
	end
	if String_Len(content) > 0 then
		local error, value = Lua.TCall(String_JsonDecode, content)
		if error == nil then
			for k, v in ___pairs(value) do
				value_map[k] = v
			end
		end
	end
	return value_map
end

function String_IsPhoneNumber(number)
	local l = String_Len(number)
	local i = 1
	while true do
		if not(i <= l) then break end
		local value = String_Byte(number, i)
		if value < 48 then
			return false
		end
		if value > 57 then
			return false
		end
		i = i+(1)
	end
	return true
end


module("ALittle", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function CreateKeyWeakMap()
	local mt = {}
	mt["__mode"] = "k"
	local table = {}
	setmetatable(table, mt)
	return table
end

function CreateValueWeakMap()
	local mt = {}
	mt["__mode"] = "v"
	local table = {}
	setmetatable(table, mt)
	return table
end

       @GPOSM T  pGSUB9 L   LTSH>:    sOS/20a4     `VDMXs;z    cmapO2  P4  	&cvt x  d  fpgm   Y\  	Pgasp   H   glyf|c  m@ hdmx<C    7Hhead^  L   6hheaKS     $hmtxzh7\  (  nkernWɷJ  loca>(  f`  maxpb      name }  post1]   prep-hO  b        &|G_<      e/    =fD  	            fD               H   o  < X    / U        3  3   f    P x       MONO    3    h              H  } H  {s X \% X qX )  H  RH   d   f B  ? 1 d  q T TH H    / # h9  5 `! } P  ` h f      T V T V  B #  ) +  { H  f = {  s T # \ \w \ # \ % 3^L %    \  \H  L    7 = 9 f! =j   H # \  d    -!V \ 
 `B \ =  R
 ` d {  L ;\ ) )H   J \ R/ -/ +/ ;/ H9 9 9 9 9 9  5 `} } } } h Ph fh Nh Hw  T VT VT VT VT V T        s Ts Ts Ts Ts Ts T T# \w \w \w \w \%% %% \  \ \ \ \ \  \    = =9 s T9 s T9 s T5 `# \5 `# \5 `# \5 `# \! B \w  \} w \} w \} w \} w \} w \ ` \ ` \ ` \ ` \   
 h #%wh f%h P%h f%h f%  fX  3^  L L  % h % u   ?  
% 
        T V \T V \T V \ `R \ H  H q H d B L B L B L B L #  #  # 
            ) +  = { H 9{ H 9{ H 9f - VH \V s 9 s Th P%T V \          9 s T  TT  \ B L # 3^    {#w q     R    f      q    1  )  { H 9H      f H    N ?  B9  )  } { H  Vh f     H dT V   H #  V  fX Vh J / \' \  h {/ \  % \' \ d  m q  #  % d \  ! \ \3  \ #  \  \  \} } m )  ` Bh fh H   3  }  #N 9   ) R } N R !} }     T V  5 ` # # N   XN s  #   !  !s T jw y  w \+ ) /  T  q   \  # \ =q N7   Zb  H ' X # / B )w \w \' y # \ L% %3^   T  =   ) + ) + ) +  9 s T9 s T9 s T9sd9 s T9 s T9 s T9 s T9 s T9 s T9 s T9 s T} w \} w \} w \} w \}w} w \} w \} w \h f% Eh f% T V \T V \T V \TT V \T V \T V \ VH \ VH \ VH \ VH \ VH \    V s V s V s V s V s  = = = = R    H H H H    V ;3 ; \  P%  ^ =^ R / #  s F - - Z F T Pj { F  L ; - - Z F T P  \  d
  \      { JB 	b  +X V `/ `/ ;/ -/ F               Z J  H ! q ' `  { ; `       #           T/!/!     + q  V     o? ? 7? ?   %  V # #H ' # # #L #L #    H  5 F  L ; - - Z F T P F  L ; - - Z F T P \   q   3 { P  q    q     P  q    q    ;;      o,*&&/,&&&&&&&%**&&&	$&,&""+&&*",,,,, ,0'"%&&	0$ '0&&&&&&&---* 	        	 	 
 
                                            !   " ! $ " % # & $ ' % ( & ) ' * ( + ) , * - + . , / - 0 . 2 / 3 0 4 1 5 2 6 3 7 4 8 5 9 6 : 7 ; 8 < 9 = : > ; @ < A = B > C ? D @ E A F B G C H D I E J F K G L H N I O J P K Q L R M S N T O U P V Q W R X S Y T Z U \ V ] W ^ X _ Y ` Z a [ b \ c ] d ^ e _ f ` g a h b j c k d l e m f n g o h p i q j r k s l t m u n v o x p y q z r { s | t } u ~ v  w  x  y  z  {  |  }  ~                                                                                                                                                                                                                                         	 
             t 
	





	


	

            							
	



			
	


					
			


     

	

			

            
		

			

	
			

	


									





	
																																																				     												
																																									

	
								            		

										
										
	

		
	




							
	
	
	
	
			
	
	
	
	
			
																																																									

				
     
	

										








	

	
						
									
			

	
















										
						









	
	
	
	
	
	
		
	
	
	
	
	
	
																			



						

			            
	

	
		


					
	
		
							
	
					

	
	
	




	

	


	
			
									
				
	

			












	
	
	
	
	
	
	




		




											

		

	




	
									



		
		     


		
		
		



		



	

		
	

	

	
	





		







					

											
						





	
	
	





										





	
		



			






			





					
		





		
	            	


		

	
			
	

	

	


					

							







	



	





	
			

	
			

					

	
	
	
	
	
	
	
	
	
	
	
	
	
																								

						





	

	









		
		     	





	
		





				
	
	

	



	
								
		






											











	
								

	
	
	
	
	





								







	
	
	
	









	



		





	

	
									           	 
	

	




	



	

	




		






	

	





	
	
	

	




			

							
	
	
												
	
	
	
	
	
	
	
	









	
	
	
									
		
						
	









	



 																																								   	 	


	









	



		

	








	











			

	








           
 



		


	
	

	








	













																	







 																				







































   
 
						
				


															


	
            		

				

	
					






	









 



















   # 

	
		
			
	














			
	            







		#


 			    ' 


	

	



            				

'$ 


    * 	




	
            



*'"


     . 	"					
					!!!													
		           	 	  					  				 .	+&!!!!   	        	 	   !0 	#										"""													
		           	 	"!					!!				!0	,'""""!!!	!!!!!!!!	 	   %6 		'
#!


 	!!&&&! 












#"!
! 
           	  &$"""!#


  !!!

%%%6
1#+&&&&%%%
 %%%%%%%%""" 	   *= 

,("&% 
%%+++%%$'&&  !%%           		
 #!!$"##+)&" &' %( "" #%$& & &      !!!!!***=8(1#++++***!$********'   && 
   .C  1     ,  %  )(#(  (  ///)      (       '   ! +*      )##$     )(           

  &$$' !%  !!  "''/- *  !%  # *+#),#%%#'(()#)#)#"#####  $$$$$...C=+6& ////...$  (.!      !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!.......*###**                      & 
                                                                          	 
                        ! " # $ % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = > ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ^ _ ` a                                   r d e i x  p k v j   s g w l |    c nB m } b     :,- y                  cj qfgh zkid       \    ~7
#u~_    " & 0 3 : > D p y     !!!!"!&!.!^!!"""""""")"+"H"a"e###!% %%%%%%%$%,%4%<%l%%%%%%%%%%%%%%%&<&@&B&`&c&f&k        7 #t~       & 0 2 9 < D p t     !!!!"!&!.![!!"""""""")"+"H"`"d### % %%%%%%%$%,%4%<%P%%%%%%%%%%%%%%%&:&@&B&`&c&e&j  z]E*lkjTvtsrofe`_Z/,'	c2 vt߼ݺݳݬݙ݆݃݀}znfaZYRMJB6ܼܿ'g+1                                                                                                                                                                                                                                    \    ~7
#u~_    " & 0 3 : > D p y     !!!!"!&!.!^!!"""""""")"+"H"a"e###!% %%%%%%%$%,%4%<%l%%%%%%%%%%%%%%%&<&@&B&`&c&f&k        7 #t~       & 0 2 9 < D p t     !!!!"!&!.![!!"""""""")"+"H"`"d### % %%%%%%%$%,%4%<%P%%%%%%%%%%%%%%%&:&@&B&`&c&e&j  z]E*lkjTvtsrofe`_Z/,'	c2 vt߼ݺݳݬݙ݆݃݀}znfaZYRMJB6ܼܿ'g+1                                                                                                                                                                                                                               @NTRMLKJIHGFCBA@?>=<;:9876543210/.-,+*)('&%$#"! 
	 ,CXEjC`#D# NM/ !# 3/Y-,CX+ KPX @8Y+!# 3/Y-,CXN%! M E%%#Jad(RX!#%! YY-,CX!!%%I%%Ja dPX!!!%%I PX PX8! 8!Y RX8! 8!YYYY-,CX+ KPX  8Y+!# 3/Y-,NCD     8  <(+% <-, /M -,CX+   8+!# 3/Y-,CXEdj#EdiCd``#D# / !!  RX3!!YY-,KQX
C#Ce
Y-, KQX 
C#CY-, #p>#pE: -,+%E%Ej@`%#D!!!-,+%E%Ej`%#D!!!-, +!!!-, +!!!-,KQXCCe
Y-, i@a  , b`+d#da\XaY-, %EhTKPZX%E%E`h %#D%#D% Eh #D%Eh`%#DY-,% Eh #D%Edhe`%`#D-,	CX!CXE+#DzEi #D QX+#Dz!zYYY-, E#Eh`D-,EjB-,/-,CX%%Id#Edi@a bj%%aC`#D!!!!!!Y-,CX%E%Ed`j%Eja %Ej e%#D%#D!! EjD EjDY-, E UCZXEh#Ei@a bj #a %e%#D%#D!!!!+Y-,Ed#EdadB-,%%+CX%%%+%C@T%C TZX% E@aDY%C T%C@TZX% E@`DYY!!!!-,% %.# %%+!!-,-,KRXED!!Y-,CX=Y-,KPXED!!Y-,KRX/!!!Y-,KS#KQZX%Eh%Eh%`TX!!!%Eh`%#D!!Y!!!Y-,CX=Y-,F#F`F# F`ab# #pE`  PXaFY`h:-, E%FRKQ[X%F ha%%?#!8!Y-, E%FPX%F ha%%?#!8!Y-, KQX CCY-,-,CX! F RX88YY-,  UX c%Ed%Eda SX@aY%EiSXED!!Y!%E%Ead(QXED!!YY-,!!d#d@ b-,!QXd#d  b @/+Y`-,!QXd#dUb /+Y`-,d#d@ b`#!-,KSX%%Id#Edi@a bj%%a#D!!!# 9/Y-,%%IdTX88!!Y-,CXY-,CXY-,
+# <+-,%8(+# #+CX<Y  -,H+-,%# <-, %I8-,KS#KQZX E`D!!Y-,KSX%%Id%%Idh@a bj%%a#D!%#%%# 9/Y!!-,CX%F#Eda!%%JY#D##-,CX `E QX ` E h UX `D!!!!Y ` E h UX`DKPX E `D!Y!!!YY!Y-,%F ha%%?#!8-,F#F`F# F`ab# #pE`  PXaYh:-,@*!-, 5`-,CTXKS#KQZX8!!Y!!!!Y-,I#D-,CTXKS#KQZX E`D!!Y!!!!Y-,KS#KQZX E`D!!Y-,KTX E`D!!Y-,KS#KQZX8!!Y-,KTX8!!Y-,CTXF+!!!!Y-,CTXG+!!!Y-,CTXH+!!!!Y-,CTXI+!!!Y-,KRX}zY-, B#Q@SZX   TXC`BY$QX   @TXC`B$TX C`B KKRXC`BY@  TXC`BY@  c TXC`BY@  c TXC`BY@  c TX@C`BYYYYY-@{|{|vwmploknknrtugjfiehehqszC!yC!++++++765432	10/ .&'('*+,+"#$# 	
 ,<*<(<&<$<"< <<<<<<<	<<< <P3TK KTBK KSB3+K R2+K	P[XY3+ T TCZ[X  K`Y++dKSXY2KSXY K2Q#B++++++++++++++++++++++++++++++++(&E*Ea,E`D+++++++++++++++ +++++?KSB++++++++++++++++	2+KPRBKRKP[#BKRK6P[#B    h  h                             u                                                                                                                                                                                                                                                                                                                                                                                                                                    T T T T  3/4.j/e,+g(	F			

`


":n
c
-`	9anI)]n#m2gX-gg
eNr3Ojr
A|'g@(4@L	!-9EQ]i %      !!|!!!!!!"S""""""### #######$$$$$$$%%%%$%0%;%&&&#&/&:&F&Q&]&h&t&&':'F'Q']'h't''(?(K(V(b(m(y((((((())`)l)x)))))*>*J*^*j*v*****+ +++#+.+U+a+m++++,,,,&,3,s,,,,,,--V-----....%.1.<./N/Z/e/00'0x01111&111=1H1T1_1k1w12*262B2N2Y2e2q2|222223$3y344^4j4u4444444444445555555555556!6\666667'7[777788A8T8}8889*9N9m9999:3:>:[:g:s::::::::::::;A;I;Q;y;;;;;;<$<,<4<<<<<<=	==!=,=7==>/>>?C?u??@%@}@@AA"AzABBKBBCCCD8DDDOD[DgDsDDDDE(E0E8EDELEEF3F?FKFWFFFFFGG%GGHH)HnHHHHHHHHI&IIIIJJVJJKKTKKKLILLLLMdMMMN6NpNNNO OOO2O:OOOOP+PbPPQQ_QQQRR`RkRRRRRS6SSSSSTT9TZTfTrT~TTTUUUU)U4U@UKUWUbUnUyUUUUUUUUUUUV
VV(V3V>VIVTV_VjVuVVVVVVVVVVVWWWW$W0W;WGWRW^WiWuWWWWWWWWWWWXXXX(X4X?XKXVXbXmXyXXXXXXXXXXXYYYY#Y+Y@YUY]YiYYYZZMZZ[[y[[\\\\\]]b]k]]]^3^^______________`&`a[ab1bbcfcd,dxde%e5eEeUeeeeffJfggghh<hnhhhhiGi]iij>jjjk'kXknkkkkll,lFlbllllmm-mNmrmmmnn;nannnno,oXooopp]pppqqHqqqrYrmrrrrtNuwwxxx>xUxmxxxxy+yPyzyyzz{|<|}}w}}~~h~t~~~~~~~~$-6?HQZclu~#G^ŀځ.Xx=уcB؅H/hV1d    R   	   Q@&	

	 
/222/339393 /223/33939310!!!	!4Jj9JL{R    h   @ 
/9/32 ??2/10#!#"&54632"NV^DHZ\H#VCKNRHF   Hh   %@ 	/329/32 ??910#!#!-'-dd   H  5j   @O
 
  		

!	
/33/93/9/939393939393939399 ?3?39/33229/3322103!####5!#5!3333!3FhhihFhhih1EE5  {{ " ) 0 f@3-)#.		.#* .)& 2	/3/399//32/ ?/32/39/32/39/3210#5$'7.546753&&'4&'66ʹʀ%|HU;"qFQAR=VVE]JX ȋ1Z;)[\jjta/P
2\/97':F3AC  X    ( 4 O@&) /# /&,		62/3/9999//// ?3/?3/9/9/10"&546323"&546322654&&#"2654&#"ȿ ˼QC ::NCJPD@TNCJ19az3p$q   \`  + 4 @C44, ",2(

" 2"%4 ((%
,, %6//3/399///93939393 ???93939/3939310!'#"$5467&&54632674&#">327HHs;Tť>lo@&3}D7FG//AM^JtaV1BڸlHMHpIW4ӑh)6D;)P5+E5%;oGZeL  h   /32 ?10#!o-d   qu/  @   /3/3/ ??10 !
g%u-2   )u  @   		 /3/3/ ??106'! )%gu!!OO  q  l@5
	  	  	

/3/39/2/33/33/393 ???/3/3/93933310%#'%%73%ZZ
ZB     &@ 		9/3232 /323/?10#!5!3!1!#!  1  @		 /99/ ?10667&&54632)?B;F`T1E2LKJV{H  R    /9/ /105!Ro   1  	 / ?10%#"&54632NV^DHZ\HVIRMRNL    @	  /3/ ?10#!   d   @	  /3/ ??10 !   !  4&#"326ywwy^ss`    bh 	 @ 	  
9/3 ??9/10!!5>73HW	3lb  f  L  -@	 	  /3/9/3 ??29/310356$6654&#"'6632!jQbV]v'UakSALV;lȵɽ  B ' G@"%%
#%#  )/3/999//3/ ?2/3?2/39/9/10#"&'732654##532654&#"'66323%n_xm{ktT``s)R鷋j艨a9F\_dP;N=>ojWcE	  ?  h 
  /@ 
/39/3322 ?3?9/33210%!5!!3!I!H\o  1Lh  A@
  /9/3/39/3 ??2/39/2/10 ! '73 54&#"#!!632LMGR)_t䟇dsJ'  d`  $ 9@!! 			&!/23/9/3 ?2/?9/210"  ! &&#"6632 '2654&#"o&1nL{PX^wvcNw.dK2q+-6* dj~3X  q  h  @ /33/ ?3?10!!!!w8f   T^  & 2 I@#	**$$0**-	$$ '  4-/3/99//9393 ??939910#"$5467&&54$324&#"664&'326^upo ;^`sn9`owZ(]LuZswlp{{ow{57[>jV58b~GBZZ<->E3bVr88rXNdh   TP  ! =@   
#
/9/39/3 ??9/2/9/1032#"&54 3   ! '2674&#"e(<}XNvo}bpu-Xb)7~]sq3Ӯyli~      @
	 /3/ /?10#"&54632#"&54632NV^DHZ\HNV^DHZ\HyVJRNRNLVIRMRNL     "@	 /99/3/ /?10#"&54632#667&&54632NV^DHZ\HT1)?B;F`yVJRNRNL{HE2LKJV     "@  /223 /?9/9105b       @  	/9/33 /3/105!5!w     (@   9/333 /?9/310755bcb!  #  " 9@

     $
/3/99// ??9/9/310>54#"'6632#"&54632LFZm-EQNV^DHZ\H-DXb@GJ{}Ųc~QVCKNRHH  h5 7 B f@1-@		BB'5:8'5+**'-5*++ 1B=B1  D#1/3/99//399/3 ?/2/9/3/9/2/9/10#"&'#"&&54325332665 !"3267! $4$3  &#"3275Zc\qv-@T-į3{s'pTrTuyngY96Gbv׎F)HB\hHVǿ̣/BE\     h  
 0@  
	 /223/99 ?3??9/103!!!!o\Zuh<    h   ! /@		  #/23/9/9 ??9/910#!! 4&##3264&##3266
}tz}yH~}9hO=F]M L   `  1@   /3/9/ ??9/39/310%#  !2.#"3267Y}F3 C0PfG{8}q`oH@ ^N     h 
  @  /3/ ??10#!!24&&##3266ˊZ!GllHЊhLM    h  %@	 	 /2333 ??9/103!!!!!ih    h 	 !@ 		/233 ??9/10!!!!zfh  `  =@		   /3/9/9 ?2/3?2/9/10&&#"3275!5!#  !2)5sv)`IVR:HXRs~z     h  +@ 	  /29/3 ????9/10!!!!!!!Lh   f  h  )@
	 
9/3233 ?2?210!!53#5!#3dJ  h  %@
 9/3/3 ??9/10#"&'732665!3<V (JBy۽&(d^    h  5@

 
	 	/23/93/93 ?3?393310!!!!TI)Bah     h    / ??103!!Fh     h  +@ 
	
  /29/93/9 ????10!#!!!Eil>B^ho     h 	 "@ 	/9/ ?33??910!!!!n#h[  V   @	  /3/ ??10 !   !  4&#"326!35݋{VXy    h 
  #@  /23/ ??9/10!#!!24&##3266 ݁sw1Thuh/+f  V  " 9@     $/3/9/3/3 ??9/9/10# & !  32674&#"326"Lq>!53T
BV-w)拤J ZLZw_61
    h   8@ 	 	/23/99// ???9/910!#!! 4&##3266rk{_f-h۱jH$L  By * =@&&   # ,/3/39// ?2/3?2/39310!"$'732654&&'.54$3 &&#"yU0VvMs-ZolP
g9bb{XRzDD&OQ.>-;^lXLGLCG$5^   #  h  @ 	9/32 ?2?10!!!Vnff   h  @ 	/9/ ???10 !  !3265!6vqBH&L     h  @/3/ ???310!!!!V87h   +  h  A@!

 	/3/9/9//93 ?33?3910!!!!!!mhys    h  M@&
		 

	 /9/3/9/9393 ????9393103!!!=A)7:.TD#    h  .@  
/3/9/9 ???9/310!!!O4)
^C   H  %h 	 #@ 	 /223/33 ?3?21035!!!H{x}  u  @  /23 ??10!!!$5u\B  f  @	   /3/ ?10!K   =ub  @   	9/33 ??105!!5!=6%u  {Rh  $@  /3/9/3 ?3/310	#3R-  
f    / /105!
 ff   !    /2/ /10!;i   T7  % H@# 
%"%  %%'/9/933/ ?2/3??9/329/10!5#"&54667754&#"'66323267[jfTy5{PB/AmpS/XA84Y_7RRH5;6  d   5@	  /293/ ????910#"&'#!6324&#"326dP8#fq?0+{:oxI8br;+5%9  \7  1@ 	  /3/9/ ??9/39/310%#" 32&&#"3267<Ė7#^Jps<d-Y\	(X\/-":   \/   3@  
 /9/33 ????910!5#"32!&&#"3267BHfJ3)y?h~gl@/f=H(=//%9;+  \7   5@ 
 /23/9/ ??9/9/3103267# !2%4#"fzLs+?ɮ EX5Ɍz&6[Z3/]c   #    0@	     
/3232/39 ?2/?32?10&#"3#!#5354632HCL9[f?PfLfî  \u/7  % E@"#%%#% ' /9/39/39 ???2?9/10%!"'732655#"4663273&#"327/L}gǍS8"j}^s\xZL\mVuI8c^g    7  &@ 	  /29/ ???3910!4&#"!!66325>OsRYBlDRTƵD        @	 /9/ /??10#"&54632!HJR;@MND7I:D?F=; ^u   +@	 /9/3/3 /??9/10#"&54632#"&'73265!HIR<@NNC+&8INN%7I:D?F=;T`o    5  8@
 
	 	/23/9/93 ???393910!!!!ea+tlG        / ??103!/     u7 $ ?@ 
 	
$
  &/29/9/9 ?2???33910!4&&#"!4&&#"!!66326632s-4;9.70~JH`}Zij]h%X@Djf[)IODNXZXZXD    77  &@ 	  /29/ ?2??310!4&#"!!66325;RsRYBnDRTD  \J7 
  @  /3/ ??10! ! 4&#"326Jl~po}n
)
#  ud7   /@	  /23/ ???9?10#"'!366324&#"326df{Hgji?0)y@j{m'g>G;+5%9   \u/7   1@ 		  /9/39 ???9?10#"3273&&#"3267-_1"/y9h~do@/us
)P1c\+3;+     =)  *@  
 
/22/3 ?2??9/10&#"!!6632
(BHDB^P"EBVH^   L7 $ =@!!
  &/3/39// ?2/3?2/39310# '73254&'&&54632&#"i|w/{FhoѪύ:EPRJmO+hN@+k/3.ZZj7+)1,W   =  1@ 

  	/32322/3 ?323/?9/10!#"&5#53!3#327hs=8GF$bF   /  &@   
/9/3 ?3?2?10!5#"&5!327!-D[;9sI]Ŷov-       %@ /3/9/9 ?3?310!#!!}M       C@!


 	/3/9/9//93 ?33?333910!##!3!d\b       I@#

 
 		/9/3/3/9393 ?3?3939310!!!!j-kNL  u#  H@#	
  
		
 
/3/3/39393 ???9/931032677!!#"'#TC:X/=7hiroFn>b:  9  h 	 #@ 	 /223/33 ?2?21035!5!!9#ͻo  fuV $ 1@		"  $/33/3/23 ??9/910"&554&##5326554633#"33wo''owF)uVnlVu)uƎݛ`u/'Ĉu` u  @	    9/ ??103u{  =u- $ 1@	   	 !/32/33/3 ??9/910532655467&&554&##53233#"#=)uVmoVu)F߿wn''nwu`u'/u`ŋݠ   9  %@ 	/9/ /2/99//10>323267#".#"8dZHAuo3PRC\Hyl/\B)/41<1LH5N1<1Z9   uT   @	 /9/32 /2/?10#"&546323H\ZHD^VN"RGGRNLDe#  \  ! s@9  			

#  /9/3/9999////9393 ?3?3/?3?2/33/9/310&53373&'3267#'=<06@'<d-<Ė73Jkd
9		(1g#":Y\JX	   d   " O@&    "$   /2933/2399//2 ?2/3?9/321035>5#53'&54$32&&#"!!!dAL#*@)Rws,{u[w,d{jANmZI)e    uu  ) @K 	&     		+ #/3/33/33/3/33/393939393 /3/3/9/3/3939393933/310%'7&547'76327'#"'4&#"3266{HH{i9}5}HH}gicfhAwF}st}k}H#%}m{zm}HHbhjfCw   -  h  Z@,
  
 	

/3/9/3329399 ???9/32239/32103!!!!!5!5'!53!!-gi/3#')NP}T  u   @     /3/ ??99//1033JZ+Z  \ - ; j@39*3!""$33.996. '" !!=6/3/3999////9393 ?2/3/2/393393310#"&'732654&'&&547&&5463 &#"4.'66NGĠ;KH`HM}T\RZπu@AiKPRD^t<s?VJT/--iZ\qw5sHT7)MOluL-5B/1T/)kV)`   s   @		 /9/ /3/10#"&54632#"&54632sHJR;?NNDCGJR;?NNC7I:D?F=;HI:D?F=;  `;   9 L@$6552   ()),%% 56)(/""6(;/3/999/// ?/9/2/39/2/310"$54$32'2$54$#"7 4632&&#"3267wtڭ'լ֫'Zم:!DEm\`kAN%G_uusڜ/-ӬЫg\d/?vs:1`XG$   \  # C@ 		#  !#  
##%/9/933/ ??/3/9/933105#"&5467754&#"'6632327_eus7BA<{DZA'&@R19Kw`iv1%+]5Le33/-'B  = 5J   :@
  		
/3/3999//// /23910%!!!\+\\+\5))))   D    9/2 /10!5!?FDV  R     `;   , 6 R@')  '+--6!! )(2%'*-, * (%8/3/9999/2/// ?/9/9/99310"$54$32'2$54$#"'!2##326654&##wtڭ'լ֫'1K`66+Rhusڜ/-ӬЫR~=3%///   Z    /9/ /105!繹   {   @  /3/ /2/10#"&&546324&#"326QQSRL5;JL95LSWUU7LN37NN        7@ 	 	9/323233 ??9/32910#!5!3!5!1!w=#!   L=  ,@
		    
	
/3/9/3 ?/39/310576654#"'632!\loaeEą IHNr8NXyl<_Z)   ;w% % D@ 	#  #   '/3/399//3/ ?22/3/2/39/10#"&'732654##532654&#"'6632%ʹ-@dH5sf\@7:gA=LV\TbHfX@"[-))NkJR\GZl \T!   /2/ /10#!)ͽ;i  u-  7@
 	
/29/3 ?3??9/3?10!#'#"&'!!327!-1nN>^-l<` oFH##N'=x   )u   !@ 
/39/2 ?2?310###&&54$3!Dss   H  	 / /10#"&54632NV^DHZ\HVIRMRNL   u '  0@
  /3/323/ /9?9/10!"'732654'73ZEjW5+X>T;--?	>^   	 @  	  
9/3 ?3/10#5>73aj:):>  \   @	   /3/ ?/10#"&546324&#"326N9<M?JH?wRRwd`_  R 5^   :@	 
		/3/9399//// /23910%!!!!\+\+5)))  - 'b   & { Vy + '#   & {  tqy ; '   'y  u   HuT  $ 8@$$!	!	 $&/3/99// /?9/9/310#"&54632#"&546675!3267HZ\HNV^DEN7qNYlZm-RGGRVDLg{ϼiYBThDNXJJ    q& $    C P   q& $    v P   q& $   c P   \& $   j P   
& $    j P   & $   h R    h   H@#		 	  /9/9323/9933 ?2??9/9/10!!!!!!!!#!\g+o+7h9hho   `u ) _@.$## ' '

 # $$+/3/99//9/3939 ?2/3?9/2/9/3910!"'732654'7$ !2.#"3267]FjW5+5F3 C0PfG{8BƤ=T;--?	h%q`oH@ ^N`^   q& (    C HP   q& (    v NP   q& (   c HP   
& (    j LP P  q& ,    CP f  q& ,    vP N  q& ,   cP H  #
& ,    jP    h   1@

  	/3233/9 ??9/3210!!#53! 4&&##!!3266L3NBQЊDCOP   3& 1   j ' Vq& 2    C P Vq& 2    v P Vq& 2   c P V\& 2   j P V
& 2    j P        ?3?210!'7JIJJJLLK  +   # {@<!!  		! 	

% /3/99//93939393 ?3/?3/9393939310& !273 !"'4'326%&#"!3ɅlǸσu2CwEqsVXyTV'hZ7c5  q& 8    C P q& 8    v P q& 8   c P 
& 8    j P   q& <    v LP    h   -@		  	/223/ ??9/9/10!#!!324&&##3266 <zssv2hQa+/+d  d ) D@!
 % )"
 +) /3/99/3/9 ??2?9/91034632#"&'532654&&#526654&#"jLz/q!VDXV9~]d,VPhk{!ۙ
li+%MPFIv  T!& D    C  T!& D    v  T!& D   c  T& D   j%  T& D    j  TD& D   h   T7 ) 5 ; w@<'--%01;;0* "!!%86;-'06!""=4/3/99//329// ?2/3??2/3?9/39/9/9310"&5467754&#"'6632632!3267# ''267&&54#"h`mj5ߥfyGxIs+@şՁa8@A{Dq^/VCA+Y_{{z&6[ZRV33(RR}n   \u7 ' g@2%#""%

 " ##)/3/99//9/3939 ?2/3?9/9/9/39910!"'732654'7$32&&#"32679]FjW5+7`7#^Jps<d-i8K;--?	j8	(X\/-":\ \!& H    C5  \!& H    v;  \!& H   cD  \& H    jD   !&     C     w!&     v#    {!&    c    &     j    \J  ( g@3& 
     *#/9/329/33/9399/3 ???29/?939310#" 46632&&''7&'!7#"326Jn·)j)e(C"11Etxmj
%'/^L0l1N7V/   7& Q   jT  \J!& R    CJ  \J!& R    vP  \J!& R   cN  \J& R   jN  \J& R    jN        $@	   /33/2 /?9/10535!53P?BP#  \Jd   # y@;!  !			

%  /9/3/3/93939393 ?3/?3/93939393107&!273!"'&#"4'326jui=vh;EH-D~p/B}nL
#/\-ZVgQlM /!& X    CV  /!& X    v\  /!& X   cP  /& X    jP u#!& \    v   ud   3@	  /223/ ??2?9?10#"'!!6324&#"326df{ji?0)y@j{m'\{;+5%9u#& \    j    & $    q P T& D    q%    5& $   f P T& D   f   u!h   C@  	  	
/229/2993/3 ?3?9//2/310#"&547!!!3267!!phsXZoˉs#;u?^VThE-!<   Tu7 * 5 ]@. **',+2"	552%*  "557//9/99332/3// ?2/3?2?9/32?2/10#"&54675#"&54667754&#"'663232673267oirpm[jfTy5ىt;<{PB/A?^VN+LpS/XA84Y_7E->RRH5;6 `q& &    v P \!& F    vN  `q& &   c P \!& F   c;  `
& &   g P \& F   g#  `q& &   d P \!& F   d#    q& '   d JP  \   ! H@$!! !#/3/92/33 ?????9910#!5#"32!&&#"32677HfJ3)y?h~gl@/hi/f=H(=//%9;+    h     \  % I@% "% 
 %%'/9/3229 ??9/32??910!5#"325!5!5!3#&&#"3267BHfJ3)y?h~gl@/f=H(=/kkR%9;+    & (    q BP \& H    qD    5& (   f hP \& H   f?    
& (   g LP \& H   gD   uh  I@# 		  /23/333/339/ ??39//9/10#"&547!!!!!!3267mhsit;<?^VShE->   \u7 $ + R@(++!'! %%-+/23/3/399//3 ??9/?2/9/310!32673267#"&547#  !2%4#"GzLs+"-OU#;^mhsD) EX5Ɍz&62%=a0!?^V][33/]c    q& (   d LP \!& H   dF  `q& *   c P \u/!& J   cN  `5& *   f P \u/& J   fF  `
& *   g P \u/& J   g7  `& *   *   \u/w& J   1     q& +   c P   7q& K   c qP  
  wh   I@$		 	  /32239/3322 ????9/33229/10!!!#535!!5!3#5!挌!Lͼ!N     7  >@ 
  
/32239/9 ??29/32?310!4&#"!#535!!!66325>OsRYBlDkkRTƵD  #  T\& ,   jPw  &    j   f  & ,    qP  d&     q
   P  !5& ,   fP  w&    f    fuh  C@  	
  
/32/33/339/3 ?2?32/2/10#"&547!53#5!#33267phsu#;?^VRJE-! u   /@
			

 /9/92/3/ /??2/10!3267#"&547!#"&54632jk#<^oirHJR;@MNDK-!?^VVI:D?F=;  f  
& ,   gP        / ??103!  f-h & ,    -+   u & L    M%   q& -   c qP^u!&a   c   h& .   *L   5& N   *       57  L@% 
 /23/939/393 ???39/93910!!!632&#"e0I\:u>-lddV    q& /    v P h  `s& O    vR h& /   *   u& O   *    k& /   K     !   &@ 	 /3/2 ???9/103!#!7/hi   h& /   g   B & O   g   
  h  C@ 
		 	 /32339 ??9/9/9/991037!7!Fmmh_H  
    9@	  

	/3232 ??9/39/9/39/10!57!7    q& 1    v P   7!& Q    vj  h& 1   *   77& Q   */     q& 1   d P   7!& Q   dh   # ' Q    k    uh  3@  	 /9/39/3 ?33?/2/9103267!!!#"&'JNH(n-#PZ#h`k  u77  9@  
 /29/9/3 ?2???9/103!6632#"&'732654&#"RY,%7JNM%;RsRT`onD  V& 2    q P \J& R    qD  V5& 2   f P \J& R   fJ  Vq& 2   k P \!& R   kw   `    9@ 
  "/9/2333 ????9/10!#   !2!!!!!&#"3267j/4y~a-8dNh8{VXyJA#  \7  $ 0 M@& $$.
. ($%  2+/3/99/399/ ????2/39/32103267# '# 326632%4#"4&#"326ByIu+@Ģ9 DZ4tw~pouvɌz&6[Z% ?V/^bq    q& 5    v XP   =!& U    v  h& 5   *h   q=)& U   *    q& 5   d jP d  =!& U   d  Byq& 6    v fP L!& V    v  Byq& 6   c PP L!& V   c    Buy : o@600*8&''*$8
5
 -!!' 5&&</3/399///9/3939 ?2/3?2/39/2/93910!"'732654'7&&'732654&&'.54$3 &&#"Z]FjV6+6P0VvMs-ZolP
g9bb{XR;R;--?	hv~DD&OQ.>-;^lXLGLCG$5^w^  Lu7 4 r@81**$!""$2
.
 '" .!!6/3/399///9/3939 ?2/3?2/3?9/933910!"'732654'7$'73254&'&&54632&#"]FjW5+5j/{FhoѪύ:EPRJmO=T;--?	f@+k/3.ZZj7+)1,W^^  Byq& 6   d ;P L!& V   d   #uh  I@#
  /39329/3/9/3 ?2?3/2/33/10!"'732654'7#!!!#V]FjV5,DXVnVA
^\;--?	f`  u= % ]@-!  # !!
  '#/3239933/33/39/3 ?323/?9/992/9/10!"'732654'7&&5#53!3#327]FjW5+9sf=8GF-?]6I;--?	q$bF	Z #  q& 7   d RP  H   L@% 	/3233/229/3 ??323/?9/910#!#"&5#53!3#3277shs=8GFhi/$bF   #  h  7@		 
9/323299 ?2?9/32103#!#53!!Vnf`   
=  M@% 	/3322322/339 ?323/?9/329/10327#"&55#535#53!3#!=8GF-hsbFܸ{${  \& 8   j P /& X   jh  & 8    q P /& X    qP  5& 8   f P /& X   fP  & 8   h R /F& X   hH q& 8   k P !& X   k     uh $ <@#  ""&/9/9/3/33 ???9/2/103267#"&547#  !3265!nEK#;^ois<N\6vqBҍV%!?^Ve`H&L  u/ $ E@" $$!	$  &/9/932/3/ ?3??9?2/10#"&54675#"&5!327!3267/phsyPD[;9su#;?^VZu!nI]Ŷov-E-!  +  q& :   cP   !& Z   c     q& <   c JPu#!& \   c    
& <    j JP H  %o& =    v /N 9  h!& ]    v  H  %& =   g #N 9  h& ]   g  H  %o& =   d #N 9  h!& ]   d   -    (@  	
  	/332/3 ??9/?10&#"!#5354632HCL9{{[f?PLfî u!   &@	     ?2/?32?9/10&#"3##"'73267#7376632^JLF'ʪ#\ZaGKF'(5{+ ANf#BMgfŬ   V-  # 3@!

/2/9/99 /32/9//10## !   ! 326554&#"326-!3V=w{VXyPX  \qj   3@


  /2/9/99 /32/9//10! ! 265534&#"326JHpT>l~po}n
)
#PXxxMG     /@
  /2/9/2 /32//33//10326553!# !  !3265!V=6vq\PXH&L  j  =@    
/2/9/32 /33/2/9//9/310!5#"&5!327!326553!#-D[;9sT:I]Ŷov-PXxxb    q& $   J    T!& D   d/  P  q& ,   J   {!&    d   Vq& 2   J    \J!& R   dJ  q& 8   J    /!& X   dV  & 8   g    /& X   [Z  )& 8   h    /& X   \Z  )& 8   i    /& X   ]Z  )& 8   j    /& X   ^Z          n@6		  !/3/999//2/9339999 /?3999/??9/10!!!&54632!4#"32#!%\Z#ssvqXu^XVVX̓<R-H+Pjsu<wVVVh  T& D   &h   v    q&     vP T!&     v   +q&     v P \J!&     vN  By& 6   *o   L7& V   *    #h& 7   *D   =& W   *    ^u  @	 /3/3 ??9/10#"&'73265!+&8INN%-`o      )@  /2/9/ /3/9/310!>54&#"'6632?BglZm-EްJ=hpQNqHJ{{}ԽoN  o!  '@  /3/9/3 /33/310'#3i  o!  &@ /3/9/9 ?3/310#373ӑi  Z q    s  @   	/3/ ?3/10#"&&533267sYkjYVIDXXXWX/99/  {  	 9/ /10#"&54632HJR;?NND7I:D?F=;  #D   @	  /3/ /2/10#"&546324#"32wqupsrwqXVVXbnsyhkwyiZZZ  wuB H  '@ 	
  	

/3/3/3 ??2/10#"&546673267Bmire^[t;<?^VKwRHE->  q  #@   /3/ /32/9//10663232653#".#"qy=VD9!#!
{BVA6!Cϛ-3-F9-8-  )!   '@ 	/23/9 /3210#!#!ͽ;5ͽ;ii   !    /2/ /10!<i RJ!   /2/ /10#!ͼ<i  d!  %@  /2/9/3 /33/310'#3i  f  !@
  


 /2/ /92/3//1066323253#".#"fz=VD9!CxAVB5!CϘ-3--8- P    / /105!繹 h  @
  	/2/ /2/310#"&&533267hZiiYVJDXYWXX/::/ q   	 / /10#"&54632GJR;?NNC7I:D?F=; o   @
		 /2/ /3/10#"&54632#"&54632oHJR;?NNDAHIR<@NNC7I:D?F=;HI:D?F=; 1   )@
   	
/3/32/ /2/3/10632#53254#"Fhq^P+JL9(5\JE_+<3 ) +   @
	  /2/ /2/10#"&546324#"32mjofhmqfXVVXVhmsbdqsbZZZ d!  %@ /2/9/9 /33/310#373yӑi  {  	 9/ /10#"&54632HJR;?NNDJ9D?F=;  Hh   /2/ ?10#!7hi  9     /2/ /1073!ߠ7     "@	 /99/3/ /?10#"&54632#667&&54632NV^DHZ\HT1)?B;F`yVJRNRNL{HE2LKJV   !   /2/ /10#!ͼ<i   V!    /@		 /3/9/2 /233//10#"&54632#"&54632%#VFEN;AHIBTFEN9?HIBո{5G:F;DA?FG:F;DA?i   Lh & $-  2   H  	 / /10#"&54632NV^DHZ\HVIRMRNL    :h ' (!   2    h ' +!   2    Th ' ,R   2   ' 2    2    -h ' <   2     '    2 B !&   |     h $     h %       h   / ??10!!}h    h     h (   H  %h =     h +    VR    '@		  /23/2 ??9/10 !   !  4&#"326%5!R8GF7ךappa  f  h ,     h .      h  &@   /3/9/3 ?3??103!!h     h 0     h 1    d  h    1@	  /9/3399// ??9/105!5!!do V 2      h  @ 	 /9/ ???103!!!^hw    h 3    H  =h  5@	
 		
 /23/332/33 ?2?29/910355!!!H<[{ #  h 7     h <    V{    A@		 /3/9/3322 /32/333////10!5$  75!4&'66%u	orro'qppqN #@@J3   h ;    fhh  3@

 		/9/9/32 ?33?9/3210!$5!33!32665!h|U9_<MŕtMX? V     J  %
& ,    jP   
& <    j JP \%!&   {   \!&   {   {B!&   {   h!&   {h  {X!&   |   \%7  & E@" !  ($
/9/9293/3 ?2???9/310!#"&'#"327!3272&&#"%Wtu\}.-94&Bs39{wcw{!&vXնO`B4;?   }  ' C@ #    )/23/99/3/ ??9/992/10#"&'!63232654&#52654&#"}_0thqtX\KV$)\챣8DifBd3rz   %{D  0@ 	 /9/9/9 ???9/310>55!!7)]K2 L^#-	B  \   - C@ $+       $$!!/(/3/9/939/3 ?2/?9310&&#" #"&&5%&&546324&'326RX-! IA_q^g{KsPHs/J%&.;!dzY?\A.f7r_  \7 ' C@ 	 ''$'  )	!/23/93//2 ?2/3?2/39/910%#"&5467&&54$3 &&#"33#"3267;ӦX>>X	-o)fVp~muz]ye`-Y\FnV}76HHG%?H@K-9   du # .@
# "%#/33/92/3 ???10!#6654&&'.547!9grvx;51"<HC{PpԕRўUXnCEnW0Fvm#()d8`  {B7  #@
 	
/9/ ????10!4&#"!3632B;X9H{jN7-}  mb   ! '@		  !!#/29/3 ??9/10.#"2#"&632665Z2fVVh1deۺfd6/fZ\i1\ZVϡ0;=(ҿ_^     @   /2/3 ??9/10!#"&5!327iw)>@.9ZH     X  7@		

  /23/9/93 ?3?393910!!!!!Xas%``nE   #  G@# 
 

		/2/39/39393 ?2/?3?2/?10%27#"&&'!.#"'632&*>yJL]I/'/%T#;sq+!%.pXJ$>wbf8  u- w    %  D  (@ 
 /9/9/9 ???31055!#7`u(D>   du / B@ )

! )/,,&1 &/33/3399/22 ?2?9/9?105!#"33#"#654&&'.5467&&5467wZiTh4[{r;PK8cC{N}[hVHfQcmF_>!"DiR\¿G )/]{z,"\N \J7 R    F  L@%   !	/39/2/33/3 ?22??9/9/10%#"&5!!65'663!#327B!q;
9OL8m=6)"\B~)4\F  {7   (@ 
 /23/ ??9?10!2 #"'32654&# 
ΰq}w}{m-o   \{7   4@   
   "/3/99/ ???9/310&#"#654&'.5 ! 3Myy4Rf5e8PP8hETnp\uI'*FfLY»I*4:p   \   %@/3/9 ?2?10!#" 5 !"32654&'}" ^s4|~69ݗ|"MdA     5@9/3/32/3 ?22/?9/10!327#"&5#"'63! =5+#/#t8N\"JZZD#/L  X  #@ /3/9 ?3?10!32654'3!"&5u\vz8!;Z]f]Pw  \y=    ;@ 		   /3/9/3322 ??????10& 5%34&'66R eehhyp7b3  #{7   q@8   	 	     " /3/3/3939393/39 ????9/9/939310&&#"'632!327#".'!͔"45#17uZT/r#3157ySD^TX@ {JKV1\sVrGD33wǓ   y  8@/3/99/32 /?????106654'! #$!;!Bz" XJr n(t  \Z' & C@!!	&  &	&$(/3/999//9/ ?3?2?2?910#"&'#"&5473265!3265bis))swT]TTlmTT\'iffiަet-#ì8&    j   X&    jF  \J!& R   {   X!&   {   \Z!&   {     q& (    C HP   
& (    j LP    +h  3@
 
/233/99 ?2?39/10#3 #52654&##!#5!3)|㦑НXTybN     q&    v LP  `  ;@   /2/323/3 ?2/3?2/39/10%#  !2.#"!!3267Y}F3 C0PfG@{8}q`oH@ ^N  By 6   f  h ,   H  #
& ,    jP h -    h  " D@!	 $/3/33/9/2 ???9/9/10#"'7326!3 !!32654&#ؗgX>3FQ(Gǁ}}q>y;-}obojV     h   7@ 	  /23/9/32 ?3?39/3210!!!!!!3 !32654&#%ǁ}whobojV     h  3@
 	

/239/9 ?2?39/210#632!4&#"!#5!V\X#TBo|!    q&    v P   q&    C P #&   n     
h  *@
 		/9/9/ ???33/10!!!5!!!!}yhf   h $      h   '@  		 /23/3 ??9/103 !!!!4&&##326l;xPh'HT$P    h %      h    
7h   ;@ 

	 

  /9/9/99// ??223/31036!3!5!!!i_1Fo3:^#s6   h (    R  h * M@%!	 ''#)#	 (!,$##/9/3/99/3322/ ?33?339/32991032667!!.##!#"!667&!33!5e6SX1%8dPmZG)AJZBRTMgXBIYoOx%K}Le3g?.ݍDFb*+x)5  !h & I@#	

#&  #&  (	 &/23/9/99/3 ??2/39/9/91032654&#!5!2654&#"'6!2!"$'pjfu4Y_jNe#}uV]n\e\_\K]1H˓\zu_؉     h 	 '@ 	 /29/3 ?3???9103!!! Ih<   &   n       h  3@

/23/9/9 ?3?39/91032667!!.##!8VV4#B_QnZE'?J\Fho?.ܑHh  h  .@	 /3/39/ ???9/10#"'7326!!ؗgX>3FQ(}}q>y;-}   h 0     h +   V 2     h     h 3   ` &   #  h 7    #h  >@ 
 

/3/9/9/39 ???2/9310!#"&'73267!)0fyf)8R&0S-1j{6$Q   N    A@  


  !/3/9/3322 /33/3/33///105$  %5!  4&'663-矘s    h ;    
mh  *@

 	 

 /9/9/ ???23/103!!!3!5hf   X  sh  )@ 	 /9/3 ?3?9/2/10!327!!#"&&5X!QT堪Phu2!l)Wë    h  '@	  /9/9/ ?33?210!!!!!kfhf   
Xh  3@ 	  /9/99// ?33?223/103!!!!!3!5kkhff  #  h   '@  /233/ ??9/105!3 !!32654&##ǁ}}}obojV    h    1@ /29/9/ ????9/10!!!!3 !4&##326f0}ǁhhjVob     h 
  #@  /23/ ??9/103!3 !4&##326}ǁhjVob  !  9@
   
/9/22/33 ?2/3?2/39/106$3 !"$'73267!5!&&#"5D x}[7z?FdO4o//|N^>K   =   5@ /23/9/3 ????9/10!!!3 !   !  #%!"326'#,gדh)72(u   !  oh   :@ 
 	 

 /9/939// ???9/9103&&546!!!#33#"!r/-f_{k-ӲOL$qH T7 D    j  $ -@"   &/23/3 ??9/210 #  4>$763 4&#"3264hb
o{H<k^PoBLgB9&(    %     /@		  "/23/9/9 ??9/910#!!24&##3264&##326%5hDkfelT@ost9sZoyL?-7M88     h   / ??10!!!     ;@ 

	 

  /9/9/99// ??23/31036!3#!#!pV\͒j
`@@`o \7 H    )   + M@%"	))%+%	*"-&%%/9/3/99/3322/ ?33?339/3299103267!!.##!#"!>7&&'!33OCcF
;T?VD7#%9>L7ADBYJ8EJ^HQ<
9pCR`5\qsl3HNk"3  /7 ' E@!
'   


#)'/93/99//9 ?2/3?2/39/31032654&#"'6632# '732654&##`TZVRf#8ӇEFE[x-dBZtOos)GH93/\XGqH:/@=FA     H 	 #@	 /29/3 ?33?3310!#33#w;    H&   m\     +  /@

/223/9/ ?3?39/91032667!!.##!3LF/8YAZD7##9@R;w `U:\qmo7H   D  .@
 /9/3/3 ???9/10#"&'7325!!7#X-k] ZA[z
	5PZ       9@

 	/29/93/9 ?3?3??9/310!###!!!     /  '@
	 /29/3 ?3?39/10!!!!!!!/XFb  \J7 R      /  @   	/9/ ??310!!!!-XZ  ud7 S   \7 F        @ 	9/32 ?2?10!!!5! ^^u# \    Ny#    <@ 		   /3/9/3322 ?3?/???10&5%34&'66=%ddggyp7p3    [      )@

 	 

 /9/9/ ?3?23/103!!!3# ]>  Z    -@  	 /9/3 ?3?9/9/10!327!!#"&5Z AMg  J>ԫ^X%      '@	  /9/9/ ?33?210%!!!!!+]]  f  3@ 	  /9/99// ?33?223/103!!!!!3#))]]@       '@  /233/ ??9/105!32#!4&##326]Vum^^R=H         1@   /29/9/ ????9/10!!32#!!4&##326 ߶X n}jAR=H      
  #@  		 /23/ ??9/1032#!!4&##326X n}jAR=H   /7  9@	   /99/2/33 ?2/3?2/39/106632 # '73267!5!&&#"=8Ӈx-d;uy'{bJ^#\X쵉:"pb-/   q7   5@! /23/9/3 ????9/10!!!36$3  #"$'#%4&#"326  	 wz{{zK~`   )     7@	  		 /9/939// ??39/9103&463!!#33#")! iPldX9^N9
=  \!& H    C5  \& H    j   y  I@$ !/32233/2/39 ??9/32?9?10!6632 '665#"##5353!MR-{;;;M[K.#!Hc7Bii   h!&    v   \7  ;@	 	  /2/393/3 ?2/3?2/39/10%#" 32&&#"!!3267<Ė7#^Jb{&yt<d-Y\	(X\/-bp":  L7 V      L    &     j  ^u M      " B@  
 

$/3/9/23/3 ??2/?9/10!32#!##"&'7324&##3269Z#V-g]ypyyj^E[z
	%`R=J        7@ 	  /23/9/32 ?3?39/3210!!!!!!32#4&##326j   mywi%ZH9H    \  >@  /32239/9 ??29/32?3106632#4&#"##5353!!Dg>WtFbDDnB{{   +!&    v;    H!&    CN u#& \   m   /  )@
 		/9/9/ ?3?33/10!!!!!!!/ ]     b  @  	/9/ ?3/?10!!!!bh     m7  @ 	 /9/ ?3/?103!!! ! +  q& :    CP   !& Z    C    +  q& :    vP   !& Z    v3   +  
& :    jP   & Z    j     * C@## ' 
#

"#/2/99//29 /22/2/33/9310"#"&'73254&'&&547! !2Xb{"UP H)nJGbɞ3])TGL+32>ϬnTHBf%L\N}d! h& $   w    T7& D   w    T& $   l    T& D   k#    _& $   _    T& D   S   & $   `   d& D   T    & $   a    TE& D   U    N& $   b    T& D   V  q& $   'I    w    T!& D   &c  w     & $   c    T& D   W    & $   d    T& D   X    & $   e    Tb& D   Y    & $   f    TH& D   Z  5& $   'O    w    T& D   &f  w   h& (   wH  \7& H   w;    T& (   lL  \& H   kF    \& (   LL  \& H   jB    & (   _H  \& H   S=   & (   `H & H   TH    y& (   aH  \n& H   U=    N& (   bR  \& H   V=  q& (   'c RP wH  \!& H   &c=  w=  f  T& ,   l  E  &    k
   fh& ,   w  & L   w
   V& 2   w    \J7& R   wH  VT& 2   l    \J& R   kH  V_& 2   _    \& R   SH & 2   `   J& R   TH  V& 2   a    \y& R   UH  VN& 2   b    \J& R   VR  Vq& 2   'c P w    \J!& R   &cR  wH  V-q&C   H    \q!&D    vR  V-q&C   G    \q!&D    CR  V-T&C   l    \q&D   kR  V-\&C   L    \q&D   jH  V-&C   w    \qj&D   wH  h& 8   w    /& X   w)  T& 8   l    /& X   kV  q&E   H    !&F    v\  q&E   G    !&F    C=  T&E   l    &F   kR  \&E   L    &F   jR  &E   w    j&F   w)    q& <    C BPu#!& \    C  h& <   wH u#& \   w     T& <   lH u#& \   k    \& <   LL u#& \   j  R     u    /9/ /105!   u    /9/ /105!  u  x
' B  x  B 1  h  @	 /9/ ?/10#"54673F`T1>;A<JV{GV'L   /  @	 
/39/ ?310#667&&54632T1=<B;F`{HV'LKJV   1  @	 
/39/ ?10%#667&&54632T1=<B;F`}{HV'LKJV  /  @	 /29/ ?10432#&&`F<A;>1TѴVJKL'VH  h   3@	 /29/9/29/ ??/3/10#"54673#"54673F`T1>;A<1F`T1>;A<JV{GV'LLJV{GV'L  /   3@ 

/39/3/9/3 ?33?3/310#667&&54632#667&&54632T2=<B;F`1T1=<B;F`{HV'LKJV{HV'LKJV  1   3@ 

/39/3/9/3 ?2?/310%#667&&54632#667&&54632T2=<B;F`1T1=<B;F`}{HV'LKJV{HV'LKJV   ;u  7@
 		 	 /32329/32 ??9/329/3210!53%t5@   ;u  c@0 	

 	 /329/332/3/33 ??9/329/329/329/3210%!55!%%% yy yy;:539   \
    /9/ /10#"&&546632wLOMLsvKMNM   V1   # (@	! %/9/9/ ???10%#"&54632#"&54632#"&54632VNV^DHZ\HVNV^DHZ\HVNV^DHZ\HVIRMRNLTVIRMRNLTVIRMRNL  PD    ' 4 A M l@7KE,		?%9?%2?E%/5<B"(  OH"/3/99////// ?3/??3/9/9/9/10#"&54632#"&54632#3#"&546324&&#"326%4&&#"3264&#"326DŴýŴýCAǱþ45F;?BI:55F;?BG<w8KF;?BH;O'cw4zpyet5zpszqy  h   /9/ ?10#!;%d  h &       = 5  @  /3/3/ /9910%!\+\5))  R 5!  !@ /3/3/ /9910%!!}\+5) h &     H    #     I@#    

"/3/99/9/32 ?3?9/99/3310'6632#"&546324'6LENNV^DHZ\HJ%{ϽiZVCKNRHH{` 
\ B   sL   /3/ /10#33  Fwd   @	   /3/ ?/10#"&546324&#"326dGHHCCHHG3uuuu   -o 
  &@ /39/332 ?3/33210#5!533!s  '   -wH  B@  /9/3/99/2 ?/2/39/2/10#"'732654&#"#!!632H=mFXDXU2?^q>QrZ:;/75 k   ZwX    <@		  	"/23/9/3 ?/9/9/210"&54632&#"632'254&#"ٲο}yTmZT
TqͤG:)VPwP>cE'}?H{`  FF  @ /33/3 ?33/10!!5!}    TwT  ! - J@#	%%+  	%%""  /(/3/99//9393 ?/939910#"&5467&&54632&#"664&'326TɶLL:EXDH71TH7;TV;CNNA}}=k#^<wy{w?'\1P0#//!;9)'37  PwN    :@    
"
/9/39/3 ?/2/9/2103267#"&54632#"'2674&#"SnZT
PuͲϿ}c)VPGG`=bF'P}za}@G  {9  #@ 		  /29/ /39//3104&#"#36632D'8Kg)By^u`H\?P);{p;  Fd6  F % {  F L=6 t  F ;%6 u  F -o%  F -H%  F ZX6  F FF%  F TT6  F PN6  F  \  jh  7@

 	
/3223393 ??9/9/3210!!!!!5#53!
y攔zfؼ   d   * q@7%&&*  ! 	

))$''%
		,* %/3333/2399//3939333 ?2/3?9/329/32103&54$32&&#"!!!!!!5667#534'#mp@)Rws
yv};LTh>\{jANmZ9DL"9asN>0   
Ph  D N @M/AA; JJ899;55&''*$I2, >2  '&E&29 88PJ/23/399//32/3/3//9 ?3/??2/3?9/2/39/329/9/9310!#"&5###!!23!3#327%# '73254&'&&54632&#"4&##3266[m!4/<:h{y/{FinѪύ:FPRJlP톣dJw1Th$bFXhO@+k/3.ZZj7+)1,Vyd/+f   \h  % ) Q@'  "%

&'') %%&/32/32229 /3233/99/2//3/9//10!5#"54325!5!5!3#&&#"32675!BHfJ3)y?h~ji@/Xf=H	>/ϸbb%9;+    ' ]@- %$!"&!!%%) /333/299///99 ?2/3?2/39/329/32103267# #735#73!2.#"!!!#\IPaw':a+L`A5K`D!
+'hPjvp1ٿwՉoN;nuw     h  E@    /333/39/3233 /23/923/32/10!53267!7!&#!7!#3͡g`k&kj%jqA<};B   {h  o@5
	 
		 

/332232/93 /33/99/9///939393933/107!%%32665! !"'575{    fS q`@?\_^^lb!@?@  J?    1 _@//$))'&&/1/ 
&''1 
,13!,/3/9999//9/3// ?2/3???9/2/9/10#3#"&546324&#"326&#"327#"&54632HGHJJHGH1VUKTTGM`o^}u``uqbb/Nkrve5HǨǌ    % K@$	

#     '		#
/323/33/3/3 ??2/9/9/2/10%#"&55'7463232674&#"663f\cNp:D~3T"#^XKb-V[kDtH`9)7l     h    # P@(  ! #!	 #		%"#/3/399/3/9 ?3??2??9/9/10"&54632'254#"!!!!!!`ǸúGJJF]CϺgwteZhR   +h   K@$ 	
	
  /39/993/22/9 ?2?333/33/3310#'#33##5!^unwוw/6  V   $ C@   
 

!	&!/33/399// ??329/9/10  3!6654&#"!535.54$!7tkb%PXfj2	@Wo#vΧ   `)   4@ 
 /23/9/ /?9/9/3103267#"$54$32&&#"!jĨNJlꙘBbΉoR/-'ټ?N  ` & { '   y ; & u  '   y - &  '   y F &  '   y   Bm  -@   		/333/3/ /329///10%&&'5>73!!ZmPJNL\B9K$zG/([yTtE~K    h  0@ /329/ /33?9/9/106673&&'#8.?B|RFee匦lyKGA?4A0   Bm  1@ //3/333/ /329///10#667!5!&&'ly]L1F/@F7)m8-@kdr8ZbU    f  0@ 		 /329/ /?339/9/10#&&'53667fED?.?^nDDhd{XRyyK-D4?1E/   Bm ! ]@,	!! 		#!/333/993399//// /323/9///33//10.'3#6767!#&&'5>73<4Lly]L<<9K$NmPJNL\\N)b88-@kz2IE~KzG/([yTt     h  Z@+  /39/32/33 /33?339/9/9/9/10767#&&'556673&&'XAN@.?lI}J5kp}A.<tVFD08=K{wy^K"H;+F4Kp|r~K678  h   $ b@/$!		 	 #$		$ /329/3/3333 /33?339/9/9/9//10667#&&'556673&&'!!Xi^IPnc0.?l>P0|d..6tVFB2DN6!KEs[y^KK=&P/KZhK678w   Z  ) C@ ' '$  +$/3/9/393 ?2/?9/9310#"&546323654&#"'6632 &&#"32Ҹf sb;1d^NSVZNt4P6#F=#1=RqrZm    h   @  /3/3 ??3310!!57!%&&'#2ލSX
s{y%>
H     )  @   	/9/ //3/10!!!8){q   H)7  -@ 		 	 /23/39/33 /33/21055!!!H#{)+
>      /9/ /105!      q 	  / /10#"&5432TNXEVTAOF   '  5@  
 /3/33/39 ??39/2/10'%3yP;^PwL   `   # / O@%$$'!-
!
'$*  1*/3/9393 /2/33//939310#"&'##"&54632366324&#"326%&&#"326اyED}֫FFv^bwu`^X5RZckVTZyh^ԥbgzЧJptJPjnNPln  {      / /?1033!{    #  @  /29/ /??10!#4.#"#4>32#RlVdYpIKB	TĞ_-qzlLКQbXY͵   `   3@  		 9/3/32/3 /2/3/2/1032654632&#"#"&'-5GN<r99,EN1uZXXZH      ) K@#")

 ")'' ' )  +/9/33 /9/3/99923////106323267#".#"6323267#".#"B{{{A9YE{{BržB{{{A9YE{{Br`-6-H=Տ-5--6-H=Տ-5-    U@( 	

  /33/393939393 /3233/322//10%#!5!!5!3!!!}u'q;w    /    *@ 		 /9/3333 /?9/105!5!5!wwPb     R  
 0@	

  
 /33333 /?9/99/1035!5wf     R  
 8@   
9/33333 /?9/9/310555!gwL
>L1     3  	 ,@	  /9/ /?9/9/103%!{RV  D   / /10!!FD# #  @	   9/ //1047632#"&'&#"#XXsCH3%/
HjoD(%8'%y    @
 9/3/3 //10%#"&5463232653XVuEF5#-!;lqB+'5'#Ar    / /10!5!(  -H     9/ /103	K    9/ /10!#jŮ|2 +  9/2 /10!5!#}lB H     9/ //103!1} +H  @	 9/2 //10!5!3+  H  @
   	9/2 ///103!!j	}|  +H  @   	9/32 ///10!5!3}lK    @
	9/23 /210!5!!#}lj| H  @ 	9/23 //310!5!3!(}  H  #@	
9/3223 //32/10!5!3!!#}lj}|  X   @	 /32 /3/10!5!!5!((ծծ  H   @
   	/9/ /23103!3=ծ	K	K   	 @	  
9/23 /3/10!!!!DjjϮ;  	 @ 	 /9/ /2/310!!##)2||    )@		 /9/23 /3/3/3/10#!!#!o};s  + 	 @		
9/32 /3/10!5!5!5!#}llBXϮ   	 @ 	 /39/ /2/310!5!##(|    )@    
/39/3 /3/3/3/10!5!!5!#;+BŮ XH 	 !@ 	  
9/23 /23//103!!!jX;Ϯ  H 	 @/9/ /3/310!333!ί1}} XH   )@

			/9/23 /23//3/10!!!!3oR +zH;s X+H 	 !@ 
9/32 /23//10!5!5!5!3+lXϮ  H 	 @ /39/ /3/310!5!333ձ̱}  XH   )@  

	/39/3 /23//3/103!5!3!5;RzH}  H  '@  
	  9/223 /23/3//103!!!!jj	;Ϯ;  H   '@ 	 	  /9/2 ///33//103!!!3=)ծ	}|	K H  	  ;@  


	
	
 /9/32/3 /23/3//33//1033!!!ίz)	KBs;s; +H  '@
9/332 /23/3//10!5!5!5!3#}llXϮK H   )@ 	 	 /339/ ///33//10!5!333(ձ̱K	K H  	  =@ 	 	 	  /39/3/3 /23/3//33//103!5!!5!#;z+	K	     '@	  
9/2333 /3/210!5!!5!!#(ljծծ;    !@ 
 /39/2 /22/310!5!!##++||    	  5@		

  

	/39/233 /3/33//3/10!5!!5!#!!!(+}+ծծs;  XH   +@	

 	 	9/2333 /323//10!5!3!!5!((ծ;ծ H  !@
 
/39/2 /3/3310!5!333!(ձ̱}}  XH    7@


 /39/233 /23/3//3/10!5!3!3!!5!ozձRz(ծs;ծ  H  5@

9/332223 /3223/323//10!5!5!5!3!!!!#}lljjXϮ;Ϯ;  H  1@ 	 /3239/322 /3/3322/310!5!333!!##+ձ̱+}}|| H     [@+  

	 /39/332//33 /23/333////33//10!!33!5!5!##!zұz+.s;ծ;s  mH   / /10!!(m m   / /10!!( H    / /10!	K  H    / /10!	K  H    / /10!	K   /H         # ' + / 3 7 ; ? C G K O S W [ _ c g k o s w@spptolltc``tTgddtTkhhTwtSPPT OLLT KHHT ?<<T C@@T GDDT ;88T 744T 300T '$$T +((T /,,T T T #  T T T T   \_X[TW &'>?^_vw
:;RSbc*+BCZ[rs67NOfg./FGVWno"#23JKoWG/gO7s[C+cS;k'?_w#3Kkyjk/9/333333339//////////////////////////// /???3/3/9/9/9/9/9/9/9/9/9/9/9/9/9/9/9/9/9/9//9/9/9/3/3/103#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#3#%3#%3#yyyyxx-xxyyyyxxyyyyyyyyxxyyyyxxyyyyxxyyyyxx-xxyyyyxxyyyyxxyyyyH}}}}}{}}}}}}}}}}}}}}}}}}}}}}}{|||||}}}}}}{}}}}}}{}}}}} <  H         # ' + / 3 7 ; ? C G K O S W [ _ c g k o s w {                               3#73#73#73#73#73#3#73#73#73#73#73#3#73#73#73#73#73#3#73#73#73#73#%3#3#73#73#73#73#73#3#%3#73#73#73#%3#3#'3#'3#'3#'3#'3#3#73#73#73#73#73#3#'3#'3#'3#'3#'3#3#73#73#73#77#73#yyyww{{yyyyyyyyxxyywwxxyyyyww{{yyyyyyxxyywwxxyyJyyyyyww{{yyyyyyyyyywwxxyy<xx=yyyyyy{{wwyyyyyxxyywwxxyyyyyyyyy{{wwyyyyyxxyywwxxyyH}}}}}}}}}}}{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}{|||||||||||}}}}}}}}}}}}}{{{{{{{{{{{}{}}}}}}}{}}} .  H = A E I M Q U Y ] a e i m q u y }                             @??
??|?{~koswgg?jnrvd`\XTf?c_[WSCGKO="?'+/37#BFJN<)-159>%=ȠxPT7Y4ǟwOĜtL쩇X3]0ÛsKpH譃\/a,ֿoGlD`+}e(@BڻkCh@|d' $	;U8
g?"/329/932/32/32/32/32/32/32/32/32/32/32 /322?32/39/329/329/329/329/329/329/3210#3#3#3#3!35#35#35#35#353353353353353353#%35335335335335#3'#3'#3'#3'#335335335335335#373533533533535!355#%353355##5##5##5##5#353353353353355##5##5##5##5#35335335335335yyyyyyyyXyyyyyyyyyyxwy{wyxyyyyJyxwy{wyxyyyyxxwwyyxxyxwy{wyxyxxwy{wyxyyJyh{wyxyyyyxyw{ywxyyxwy{wyxyyyyxyw{ywxyyxwy{wyxy}|{}}uu}t}w}u}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}||||||||||||}}}}}}}}}}}{{{{{{{{{{{}}}}}}}}}}    B   /9/ ?10!!OP    B   @ 	/9/ /?10!!!OLPd  R  /9/ /10!R1/  R   @
/2/ /3/10!!!R171L T     /9/ ?10!!TX  /    @	  /9/9 ??10!/u !  @
  /9/ ??910	!V+-  /m  @
  /9/9 ??10	:9mt  !  @
  /9/ ??910VX    }  	 ,@   	/3/99/9/9 /3?310!3'	T=d;1R33   #   @  /3/ /2/102#"&&5466"32654&&jx|u~|v|yeb`g_tjxwǌiuLeUuc֠Wh   #   /9/ /102#"&&5466jx|u~|v|tjxwǌiu     T   @
  /3/ /?103!"32654&VtyQQxr+uVTtvRVu  +     " &@ $ /23/2 /2/?2/103!"326654&&2#"&&5466+x|u|~v|xadՕh`c}uixwȋiuLaYbvXb  qf   @ 	/3/ /2/102#"&546"32654&jhilgGggGObghifjLfHJfmCHf      , 8 B U@)>==B99;@3-'!-! @		 =>069B$**B6>D/3/99//// /2/999///2/32/3102#"$54$"32$54$2#"&546!2#"&546327#"' 2jӭ0y#//#!//#//#!//FKK@ffӣc+0\/#!//!#//#!//!#/#    ( 2 I@"00+2 .## 2 +	 .2 -& 4)/23/92/23 //9/39/3999///102#"$54$"32654&!"32654&327'#"' 2jӭ0O!//!#//!//!#//ff@KKӣc+0X/#!//!#//#!//!#/^#   !FV / @ @r  $,))%/88 //00 $%%+  *+),,/& #<<$&##44$+**/$$//B$/23/33/9/39/39/339/339/393939393 /33//?3?3/9/3/9/339/3393939393103!!#&&''&&'!5!6677667"326654.NdX#3W9Ny9dHCoNnP1DD
PBF/%dZ%zw\V@G5qKCŜ2LR=>4VkCkT9E>Jw|oǅE  
  ( 9@
% %  	!*/33/39/32 ??329/310%!!#!5!"&&546632  326654&&#"6<3aÄ}сz~;;};|~Ԕq}|  oT  ' g@1     #)/3/9/939/39393 /9/3/99//329/10#"&&54 32'" 32 54."94PVh!uނVTfC I~05v|cv@       <@	    "/9/9// /?293939910#"'!72655#"&5467>u}C|]d	ZZ[Xr{8|rB[%%ZWH]}   7   5 E@%+%%!	0+5
 (!		!!(0/339/339939 ?9////10!!7>55'#"&5467.5463267632&&'&'J{yg9=\z^Ae#vtPREO"fwNs3.(X\D#0}M}svt1'I$"tPLp[`(tv<1=B>(    @
  /9/9 ?910&&''&&546326632 {aHBkc)&_oNU;}΄_Jl~~|fVǍo   j  @
 	 

/9/9 ?9910  &''66b+=6`4C|MmӬxC;n],RX,  %T   @ /39/ /?9991032#54&###"&54632'4{pbB[n}qLbT#g+lp{O{dq/   V1   6@    	" /39/9 ?/9/9999210%#"&547632"&5466328^oLL}/D7B^o}@OR]wU}bgEJӹ}P}bCpE- #  5 & I    L   #  & & I    O       /99/10667&&54632/!B;F`w7P'LLIV #   & I    I   #  5 & I    L   #  & & I    O   #   & I   ' I    L'   #   & I   ' I    O'    w  @
	 /99/ /3/10#"547/!A<F`ww8O'LLJV   5 h    /2/ /10#չ{hh  Fdi  y   X {  y L  =i t  y ;%i u  y -  oX  y -HX  y ZXi  y F  FX  y TTi  y PNi  y Fd}  l {  L=} t  ;%} u  -ol  -Hl  ZX}  FFl  TT}  PN}   q    /2/ /10!;i  \Tq   /2/ /10#!)ͽ;i  oq  %@  /2/9/3 /33/310'#3i  oq  %@ /2/9/9 /33/310#373ӑi hH   /2/ /10#!7hi  q\  !@   /2/ /92/3//10663232653#".#"qy=VD9!""
{BVA6!C-3-B=-8-  s
   @
		 /2/ /3/10#"&54632#"&54632sHJR;?NNDCGJR;?NNCJ9D?F=;HJ9D?F=;  7Z    /9/ /105!7   s5  @
  	/2/ /2/310#"&&533267sYkjYVIDX5XXWX/99/ 3} 
  @
  /2/ /2/10#"&546324#"32ngilqfXVVXsbdqsbZZZ  )q   '@ /23/9 /3210#!#!ͽ;5ͽ;ii  {
  	 9/ /10#"&54632HJR;?NNDJ9D?F=;     
 9@ 
 		/2/999//3 /3/33/310'#3'!<+#  Po  
 9@  	

	/23/99//3 /3/33/310'#3%!;+#  1   U@( 			 /2/999///39/3 /2/3/933//310'#3632#53254#"Cip^P+JL8(+5\JE_+;3   q   K@# 

 /2/999//9/ /92/3/33/39//10'#3663232673#".#"w1TJA!%
{6TG>!&{{Z'/'!' /'   s   -@  	/2/9/2 /92//310#"&&5332677!sWmlWVIDXh;XSSV>11>   s   -@  	/2/9/2 /92//310#"&&533267'!sWmlWVIDX ;iXSSV>11>   sb  " E@  ""   "	/9/32/99// /2/3/9/9/310#"&&533267632#53254#"sWmlWVIDXChqbN}+IK7*XSSV>11>=5\JH]+;3  qH  & A@###  &/2/99// /92/3/99///310#"&&533267%663232673#".#"sĥnYVIDXw1TJA!%
z6TG>!&兪MU=11=N'/'!&!/'   s    #@		 /92/9 /3/3/10#"&54632#"&54632'5!sHJR;?NNDCGJR;?NNCJ9C@E><GJ9C@E><{  s    -@		 /2/92 /3/3/10#"&54632#"&54632'!sHJR;?NNDCGJR;?NNC#{<J9C@E><GJ9C@E><V#  s    =@		 /2/9//9/ /333/3//310#"&54632#"&5463273#sHJR;?NNDCGJR;?NNC?J7A@E<:GJ7A@E<:{#  s    -@		 /2/9/2 /3/3/10#"&54632#"&54632'!sHJR;?NNDCGJR;?NNC<{J9C@E><GJ9C@E><V#    
 9@ 
 		/2/999//3 /3/33/310'#3'!<߅+#  Po  
 9@  	

	/23/99//3 /3/33/310'#3%!;߅+#  1   U@( 			 /2/999///39/3 /2/3/933//310'#3632#53254#"Fip^P+JL:&߅+5\JE_+<3   qN   K@# 

 /2/999//9/ /92/3/33/39//10'#3663232673#".#"w1TJA!%
z6TG>!&{{Z'0&!' /'   s   -@  	/2/9/2 /92//310#"&&533277!sWllWVIh;+WSSU=2o  s   -@  	/2/9/2 /92//310#"&&53327'!sWllWVI ;i+WSSU=2o  s  ! E@ !!  !	/9/32/99// /2/3/9/9/310#"&&53327632#53254#"sWllWVIDhq_Q}+IK5,+WSSU=2o=6\JG^+;4   q  % A@"
""  %/2/99// /92/3/99///310#"&533267%663232673#".#"sĥ¼VIDXw1TJA!%
{6TG>!&!>11>N'/'!'!/'  s    #@		 /92/9 /3/3/10#"&54632#"&54632'5!sHJR;?NNDCGJR;?NNChI:D?F><HI:D?F><{  s)    -@		 /2/92 /3/3/10#"&54632#"&54632'!sHJR;?NNDCGJR;?NNC#{<hI:D?F><HI:D?F><V#  s)    =@		 /2/9//9/ /333/3//310#"&54632#"&5463273#sHJR;?NNDCGJR;?NNC?fI8B?F;9HI8B?F;9{#  s)    -@		 /2/9/2 /3/3/10#"&54632#"&54632'!sHJR;?NNDCGJR;?NNC<{hI:D?F><HI:D?F><V# ;  )@
   	
/3/32/ /2/3/10632#53254#";Fhq^P+JL:&5\JE_+<3  ;T  )@
   	
/3/32/ /2/3/10632#53254#";Fhq^P+JL:&5\JE_+<3   u  @
 	/3/ /2/310#"&&533265u[kg[݋:RMJHLAT   s  @
 	/3/ /2/310#"&&533265sZljZݍ8RLKJLAT         U"  ~  $  -                     G W , . 0 2 4 6 8 : < > @ B 
 $ 
 - 
  
  
  
  
  
  
  
  
  
  
G 
W 
, 
. 
0 
2 
4 
6 
8 
: 
< 
> 
@ 
B  M   \ =   =   = 9 = }                     f  =   ! =  =  =  =  = }               $  -R  7 \                    R $ \ & \ ( \ G W _ \ }  q q q q q q     \  )  )  { R H   H  \   R  {  , . 0 2 4 6 8 : < > @ B   $ )  - )  7H  9q  :q  <3  F  G  H  J  R  T  Y  Z   )   )   )   )   )   )   =  3                           )   )   )                                 )     $H &H (H 6q 7 83 :3 D G ) L W ) Y = \ _H  )  )  ) H 3  3                )  )   )  ) H q q  )  
   ) %q & 'q ( )q * , ) . ) 0 ) 2 ) 4 ) 6 ) 8 ) : ) < ) > ) @ ) B ) E G I K M O Q S Y [ ] _ a c e g i k m o ~3 3 3 3 R R R R  )  7 $ & ( _   )     $ )  - )  7H  9q  :q  <3  F  G  H  J  R  T  Y  Z   )   )   )   )   )   )   =  3                           )   )   )                                 )     $H &H (H 6q 7 83 :3 D G ) L W ) Y = \ _H  )  )  ) H 3  3                )  )   )  ) H q q  )  
   ) %q & 'q ( )q * , ) . ) 0 ) 2 ) 4 ) 6 ) 8 ) : ) < ) > ) @ ) B ) E G I K M O Q S Y [ ] _ a c e g i k m o ~3 3 3 3 R R R R  )  $ )  - )  7  <   )   )   )   )   )   )     )   )   )   ) $ & ( 8 : G ) W ) _ }               )  )  )      )  )   )  )  q  )  ) , ) . ) 0 ) 2 ) 4 ) 6 ) 8 ) : ) < ) > ) @ ) B ) ~     )  $ )  - )  7  <   )   )   )   )   )   )     )   )   )   ) $ & ( 8 : G ) W ) _ }               )  )  )      )  )   )  )  q  )  ) , ) . ) 0 ) 2 ) 4 ) 6 ) 8 ) : ) < ) > ) @ ) B ) ~     ) $  $ 
 $  $  ) $  ) $  ) $  ) $ " $ & $ * $ 2 $ 4 $ 7\ $ 8 $ 9 $ : $ < $ W $ ]  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $  $ $ $ $ $$\ $% $&\ $' $(\ $) $* $, $. $0 $2 $4 $6 $8 $: $<  $>  $@  $C $E $K $M $O $Q $S $U $[ $_\ $` $% $' $) $X $Z $\ $^ $` $b $d $f $h $j $l $n $p $r $t $v $x $z $| $~ $ $ $ $H $\ $ ) $H $\ $ ) $ ) $\ % - % 7 % 9 % : % < %  %  %$ %& %( %6 %8 %: %_ %% %' %) %~ % % % & - & 9 & : & ; & < &  &  &6 &8 &: &% &' &) &~ & & & )  )  ) $ ) & ) * ) -
 ) 2 ) 4 ) 6 ) ; ) = ) D ) F ) G ) H ) J ) L ) M ) P ) Q ) R ) S ) T ) U ) V ) W ) X ) Y ) Z ) [ ) \ ) ] )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )   )  = )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  { )  ) )  )  )  )  ) 
 )  ) )  ) ) )
 ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) )  )! )" )# )% )' )) )+ )- )/ )1 )3 )5 )7 )9 ); )< )= )> )? )@ )C )D )F )G )H )J )K )L )N )P )R )T )V )W )X )Z )[ )\ )] )^ )` )a )& )( )* ), )- ). )/ )0 )1 )2 )3 )4 )5 )6 )7 )8 )9 ): ); )< )= )> )? )@ )A )B )C )E )G )I )K )M )O )Q )S )U )W )X )Y )Z )[ )\ )] )^ )_ )` )a )b )c )d )e )f )g )h )i )j )k )l )m )n )o )q )s )u )w )y ){ )} ) ) ) ) ) ) ) * - * 7 * 9 * : * ; * < *  *  *$ *& *( *6 *8 *: *_ *% *' *) *~ * * * - $ - - - ; -  -  -  -  -  -  -  -  -  -  -  -G -W -Y -, -. -0 -2 -4 -6 -8 -: -< -> -@ -B . $ . & . * . 2 . 4 . 6 . 7 . 8 . 9 . : . ; . < . D . F . G . H . I . J . L . M . P . Q . R . S . T . U . V . W . X . Y . Z . \ .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  
 .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  = .  
 .  .  .  .  .  .  . . .
 . . . . . . . . . . . . . . . . .  .! ." .# .$ .% .& .' .( .) .* .+ ., .- .. ./ .0 .1 .2 .3 .4 .5 .6 .7 .8 .9 .: .A .C .D .E .F .G .H .J .K .L .M .N .O .P .Q .R .S .T .U .V .W .X .Z .[ .\ .] .^ ._ .` .a .% .& .' .( .) .* ., .- .. ./ .0 .1 .2 .3 .4 .5 .6 .7 .8 .9 .: .; .< .= .> .? .@ .A .B .C .E .G .I .K .M .O .Q .S .U .W .X .Y .Z .[ .\ .] .^ ._ .` .a .b .c .d .e .f .g .h .i .j .k .l .m .n .o .p .q .r .s .t .u .v .w .x .y .z .{ .| .} .~ . . . . . . . .( .) .+ ., .- .. ./ /  / 
 / 3 /   /   /  ) /  ) / " / & / * / 2 / 4 / 6 / 7q / 8 / 9 / : / <q / F / G / H / J / R / T / W / Y / Z / \ / k / p /  /  /  /  /  /  /  /  /  /  /  / q /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  /  / / / / / / / / / / /  /" /$q /% /&q /' /(q /) /* /, /. /0 /2 /4 /6 /7 /8q /9 /:q /C /D /E /K /L /M /O /Q /S /U /[ /\ /] /_q /` /% /& /' /( /) /* /E /G /I /K /M /O /Q /S /X /Y /Z /[ /\ /] /^ /_ /` /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p /r /t /v /x /z /| /~q / /q / /q / /q / / / /  / / /  /  / 3  3  3 $ 3 , 3 -\ 3 6  3 7 3 9 
 3 : 
 3 ; 3 = 3 D 3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3 \ 3  3  3   3"  3$ 3& 3( 36 
 3; 3= 3? 3G 3H 3I 3W 3X 3Y 3Z 3]  3_ 3% 
 3' 
 3) 
 3, 3- 3. 3/ 30 31 32 33 34 35 36 37 38 39 3: 3; 3< 3= 3> 3? 3@ 3A 3B 3C 3T 3V 3 3 3 5 $ 5 7 5 9 5 : 5 < 5  5  5  5  5  5  5  5  5  5  5$ 5& 5( 56 58 5: 5G 5W 5_ 5% 5' 5) 5, 5. 50 52 54 56 58 5: 5< 5> 5@ 5B 5~ 5 5 5 6 - 6 7 6 9 6 : 6 ; 6 < 6  6  6$ 6& 6( 66 68 6: 6_ 6% 6' 6) 6~ 6 6 6 7  \ 7 H 7  7 H 7  7  7 " R 7 $\ 7 & 7 * 7 -q 7 2 7 4 7 6 7 ; 7 D3 7 F3 7 G3 7 H3 7 I 7 J3 7 L 7 M 7 PH 7 QH 7 R3 7 SH 7 T3 7 UH 7 V3 7 W 7 Xq 7 YH 7 ZH 7 [3 7 \q 7 ]d 7 k 7 mq 7 p 7 } 7 \ 7 \ 7 \ 7 \ 7 \ 7 \ 7 H 7  7  7  7  7  7  7  7 3 7 3 7 \ 7  7  7 3 7 3 7 3 7 3 7 3 7 3 7 3 7  7  7  = 7  { 7 3 7 H 7 3 7 3 7 3 7 3 7 3 7 3 7 q 7 q 7 q 7 q 7 q 7 q 7 \ 7 \ 7 \ 7 3 7 \ 7 3 7  7 3 7  7 3 7  7 3 7  7 3 7 3 7 3 7 3 7 3 7 3 7 3 7 3 7  7 3 7  7 3 7  7 3 7  7 3 7  { 7  R 7  R 7  7 H 7  7 q 7  = 7 H 7H 7H 7
H 7H 7 73 7 73 7 73 7 73 7H 7H 7H 7 73 7 7# 7  7!3 7" 7# 7% 7' 7) 7+q 7-q 7/q 71q 73q 75q 77H 79q 7<d 7>d 7@d 7A 7C 7D3 7Fq 7G\ 7H3 7J  7K 7L3 7Nq 7Pq 7Rq 7Tq 7Vq 7W\ 7X3 7YH 7Z3 7[ 7\3 7] 7^3 7` 7a 7&H 7(H 7*H 7+ 7,\ 7-3 7.\ 7/3 70\ 71{ 72\ 73 74\ 75q 76\ 77 78\ 79 7:\ 7; 7<\ 7=q 7>\ 7?q 7@\ 7A 7B\ 7Cq 7E3 7G3 7I 7K3 7M 7O3 7QR 7S3 7U 7W 7X 7Y3 7Z 7[3 7\ 7]3 7^ 7_ 7` 7a3 7b 7cf 7d 7e3 7f 7g3 7h 7i3 7j 7k3 7l 7m 7n 7o3 7qq 7sq 7uq 7wq 7yq 7{q 7}q 7q 7q 7q 7 7 7 7 7 ) 7 ) 7H 7 ) 7 ) 7H 7H 7q 7 7 R 7( 7) 7+ 7, 7- 7. 7/ 8 $ 8 - 8 ; 8  8  8  8  8  8  8  8  8  8  8G 8W 8, 8. 80 82 84 86 88 8: 8< 8> 8@ 8B 9 q 9 q 9 $ 9 & 9 * 9 -q 9 2 9 4 9 6 9 ; 9 < 9 D 9 E 9 F 9 G 9 H 9 I 9 J 9 K 9 N 9 O 9 P 9 Q 9 R 9 S 9 T 9 U 9 V 9 W 9 X 9 [ 9 \ 9 ] 9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  
 9  H 9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9  9   9  3 9   9  9 q 9  
 9  9  9  9  9  9 9 9 9 9
 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9  9! 9" 9# 9% 9' 9) 9+ 9- 9/ 91 93 95 98 99 9: 9< 9> 9@ 9A 9C 9D 9F 9G 9H 9K 9L 9N 9P 9R 9T 9V 9W 9X 9Y 9Z 9[ 9\ 9] 9^ 9` 9+ 9, 9- 9. 9/ 90 91 92 93 94 95 96 97 98 99 9: 9; 9< 9= 9> 9? 9@ 9A 9B 9C 9E 9G 9I 9K 9M 9O 9Q 9S 9X 9Y 9Z 9[ 9\ 9] 9^ 9_ 9` 9a 9b 9c 9d 9e 9f 9g 9h 9i 9j 9k 9l 9m 9n 9o 9q 9s 9u 9w 9y 9{ 9} 9~ 9 9 9 9 9 9 9 9q 9q 9q 9( 9) 9+ 9, 9- 9. 9/ : q : q : $ : & : * : -q : 2 : 4 : 6 : ; : < : D : E : F : G : H : I : J : K : N : O : P : Q : R : S : T : U : V : W : X : [ : \ : ] :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  
 :  H :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :  :   :  3 :   :  : q :  
 :  :  :  :  :  : : : : :
 : : : : : : : : : : : : : : : : :  :! :" :# :% :' :) :+ :- :/ :1 :3 :5 :8 :9 :: :< :> :@ :A :C :D :F :G :H :K :L :N :P :R :T :V :W :X :Y :Z :[ :\ :] :^ :` :+ :, :- :. :/ :0 :1 :2 :3 :4 :5 :6 :7 :8 :9 :: :; :< := :> :? :@ :A :B :C :E :G :I :K :M :O :Q :S :X :Y :Z :[ :\ :] :^ :_ :` :a :b :c :d :e :f :g :h :i :j :k :l :m :n :o :q :s :u :w :y :{ :} :~ : : : : : : : :q :q :q :( :) :+ :, :- :. :/ ; & ; * ; 2 ; 4 ; 6 ; 7 ; 8 ; 9 ; : ; < ; F ; G ; H ; I ; J ; P ; Q ; R ; S ; T ; U ; X ; Y ; Z ; k ; p ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ) ;  R ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  ;  R ;  = ;  = ;  ;  ; ; ;
 ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;  ;" ;$ ;& ;( ;* ;+ ;, ;- ;. ;/ ;0 ;1 ;2 ;3 ;4 ;5 ;6 ;7 ;8 ;: ;A ;C ;D ;E ;F ;J ) ;K ;L ;M ;N ;O ;P ;Q ;R ;S ;T ;U ;V ;[ ;\ ;] ;_ ;% ;& ;' ;( ;) ;* ;+ ;E ;G ;I ;K ;M ;O ;Q ;S ;X ;Y ;Z ;[ ;\ ;] ;^ ;_ ;` ;a ;b ;c ;d ;e ;f ;g ;h ;i ;j ;k ;l ;m ;n ;o ;p ;q ;r ;s ;t ;u ;v ;w ;x ;y ;z ;{ ;| ;} ;~ ; ; ; ;( ;) ;+ ;, ;- ;. ;/ < 3 < 3 <  <  < $ < & < * < -H < 2 < 4 < 6 < 9 < : < ; < = < D < E < Fq < Gq < Hq < I < Jq < K < L < M < N < O < P{ < Q{ < Rq < S{ < Tq < U{ < V < W < X < Y < Z < [ < ] < k < m < p <  <  <  <  <  <  < q <  <  <  <  <  <  <  <  <  <  <  <  <  <  <  < q < q < q < q < q <  <  <   <  f < q < { < q < q < q < q < q < q <  <  <  <  <  <  <  <  <  <  <  <  < q <  < q <  < q <  < q < q < q < q < q < q < q < q <  < q <  < q <  < q <  < q <  <  <  { <  R <  ) <  < { <  < H <  <  < { <  <  <  < < <{ <{ <
{ <{ < <q < <q < <q < <q <{ <{ <{ < < < < <  <! <" <# <% <' <) <+ <- </ <1 <3 <5 <6 <7 <; << <= <> <? <@ <A <C <Dq <F <G <H <J <K <Lq <N <P <R <T <V <W <X <Yq <Z <[ <\q <] <^ <` <a <% <& <' <( <) <* <+ <, <- <. </ <0 <1 <2 <3 <4 <5 <6 <7 <8 <9 <: <; << <= <> <? <@ <A <B <C <Eq <Gq <I <Kq <Mq <Oq <Qq <Sq <U <W <X <Yq <Z <[q <\ <]q <^ <_ <` <aq <b <cq <d <eq <f <gq <h <iq <j <kq <l <mq <n <oq <q <s <u <w <y <{ <} <3 <3 <3 < <( <) <+ <, <- <. </ = < =  =8 =: =~ = = = > M  > \ = >  = >  = >9 = >}  >  >  >  >  >  >  >  >  >  > f > = >  >! = > = > = > = > = @}  @  @  @  @  @  @  D W D% D' D) D` E  E  E Y E [ E \ E  E  E9 E E E E E E E E E E E I  = I  { I 
 { I   I   I  I  I " { I @  I `  I  R I  f I   I  f I   I   I   I  f IJ  I3 q I7  I;  I=  I?  IA  IM 3 IU 3 I_ = I  I f I { I I f I { I I I  K Y K Z K7 K& K( K* M \ ) M  ) M  ) M9 ) M ) M ) M ) M ) N D N F N G N H N J N R N T N V N Y N Z N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N  N N N N N N N! N# N7 ND NH NL NX NZ N\ N^ N& N( N* N- N/ N1 N3 N5 N7 N9 N; N= N? NA NC NE NG NI NK NM NO NQ NS NY N[ N] N_ Na Nc Ne Ng Ni Nk Nm No P Y P Z P7 P& P( P* Q Y Q Z Q7 Q& Q( Q* R  R  R Y R [ R \ R  R  R9 R R R R R R R R R R R S  S  S Y S [ S \ S  S  S9 S S S S S S S S S S S U  U  U D U F U G U H U I  U J U R U T U V U } ) U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U  U U U U U U U! U# UA  UD UH UL UX UZ U\ U^ U- U/ U1 U3 U5 U7 U9 U; U= U? UA UC UE UG UI UK UM UO UQ US UY U[ U] U_ Ua Uc Ue Ug Ui Uk Um Uo U ) U ) U U ) U ) U U U ) U(  U)  U+  U,  U-  U.  U/  V W V Y V Z V [ V% V' V) V7 V` V& V( V* W D  W F W G W H W I W J W R W T W X W Y W Z W ]  W   W   W   W   W   W   W   W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W   W   W   W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W W W W W+ W- W/ W1 W3 W5 W7 W<  W>  W@  WA WD WF WH  WL WN WP WR WT WV WX  WZ  W\ W& W( W* W-  W/  W1  W3  W5  W7  W9  W;  W=  W?  WA  WC  WE WG WI WK WM WO WQ WS WY W[ W] W_ Wa Wc We Wg Wi Wk Wm Wo Wq Ws Wu Ww Wy W{ W} W( W) W+ W, W- W. W/ Y  Y  Y D Y F Y G Y H Y J Y R Y T Y V Y \ Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y  Y Y Y Y Y Y Y! Y# Y9 YD YH YL YX YZ Y\ Y^ Y- Y/ Y1 Y3 Y5 Y7 Y9 Y; Y= Y? YA YC YE YG YI YK YM YO YQ YS YY Y[ Y] Y_ Ya Yc Ye Yg Yi Yk Ym Yo Y Y Y Y Y Y Y Z  Z  Z V Z \ Z  Z  Z Z Z! Z# Z9 Z^ Z Z Z Z Z Z Z [ F [ G [ H [ J [ R [ T [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [  [ [ [ [ [D [L [\ [E [G [I [K [M [O [Q [S [Y [[ [] [_ [a [c [e [g [i [k [m [o \  \ q \ q \ @ \ D \ F \ G \ H \ J \ R \ T \ V \ Y \ Z \ [ \ ` \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \  \ \ \ \ \ \ \! \# \7 \D \H \L \X \Z \\ \^ \& \( \* \- \/ \1 \3 \5 \7 \9 \; \= \? \A \C \E \G \I \K \M \O \Q \S \Y \[ \] \_ \a \c \e \g \i \k \m \o \q \q \q ] ]  ]<  ]>  ]@  ^ M  ^ \ = ^  = ^  = ^9 = ^}  ^  ^  ^  ^  ^  ^  ^  ^  ^  ^ f ^ = ^  ^! = ^ = ^ = ^ = ^ = `}  `  `  `  `  `  `  c 9 c : c < c  c6 c8 c: c% c' c) c~ c c c m 7 m$ m& m( m_ m}
 m
 m
 m
 m
 m
 m
 m mq w w w } 7q } < }  }$q }&q }(q }8 }: }_q }q } } }\ }~ } } }  7H  9  :  <H  H $H &H (H 6 8H :H _H % ' ) ~H H H H    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \  -  9  :  ;  <     6 8 : % ' ) ~     $  -  ;                     G W , . 0 2 4 6 8 : < > @ B  $  -  ;                     G W , . 0 2 4 6 8 : < > @ B  $  -  ;                     G W , . 0 2 4 6 8 : < > @ B  $  -  ;                     G W , . 0 2 4 6 8 : < > @ B  3  3      $  &  *  -H  2  4  6  9  :  ;  =  D  E  Fq  Gq  Hq  I  Jq  K  L  M  N  O  P{  Q{  Rq  S{  Tq  U{  V  W  X  Y  Z  [  ]  k  m  p              q                                q  q  q  q  q          f  q  {  q  q  q  q  q  q                          q    q    q    q  q  q  q  q  q  q  q    q    q    q    q       {   R   )    {    H      {         { { 
{ {  q  q  q  q { { {       ! " # % ' ) + - / 1 3 5 6 7 ; < = > ? @ A C Dq F G H J K Lq N P R T V W X Yq Z [ \q ] ^ ` a % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = > ? @ A B C Eq Gq I Kq Mq Oq Qq Sq U W X Yq Z [q \ ]q ^ _ ` aq b cq d eq f gq h iq j kq l mq n oq q s u w y { } 3 3 3  ( ) + , - . /      $  ,  -\  6   7  9  :  ;  =  D                                                              \        "  $ & ( 6 ; = ? G H I W X Y Z ]  _ % ' ) , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = > ? @ A B C T V         Y  [  \     9             W % ' ) `  W % ' ) `  W % ' ) `  W % ' ) `  W % ' ) `  W % ' ) `      Y  [  \     9             Y  Z 7 & ( *      Y  [  \     9                 Y  [  \     9                 Y  [  \     9                 Y  [  \     9                 Y  [  \     9                 Y  [  \     9               q  q  @  D  F  G  H  J  R  T  V  Y  Z  [  `                                                                                 ! # 7 D H L X Z \ ^ & ( * - / 1 3 5 7 9 ; = ? A C E G I K M O Q S Y [ ] _ a c e g i k m o q q q      Y  [  \     9               q  q  @  D  F  G  H  J  R  T  V  Y  Z  [  `                                                                                 ! # 7 D H L X Z \ ^ & ( * - / 1 3 5 7 9 ; = ? A C E G I K M O Q S Y [ ] _ a c e g i k m o q q q    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \  W % ' ) `    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \  W % ' ) `    
     )   )   )   )  "  &  *  2  4  7\  8  9  :  <  W  ]                                              $\ % &\ ' (\ ) * , . 0 2 4 6 8 : <  >  @  C E K M O Q S U [ _\ ` % ' ) X Z \ ^ ` b d f h j l n p r t v x z | ~    H \  ) H \  )  ) \  W % ' ) `  -  9  :  ;  <     6 8 : % ' ) ~     -  9  :  ;  <     6 8 : % ' ) ~     -  9  :  ;  <     6 8 : % ' ) ~     -  9  :  ;  <     6 8 : % ' ) ~        " f  @   D  F  G  H  J  R  T  X  `                                                                                         + - / 1 3 5 D F H L N P R T V X Z \ - / 1 3 5 7 9 ; = ? A C E G I K M O Q S Y [ ] _ a c e g i k m o q s u w y { }  R  =  R  =  -  7  9  :  ;  <     $ & ( 6 8 : _ % ' ) ~     -  7  9  :  ;  <     $ & ( 6 8 : _ % ' ) ~     -  7  9  :  ;  <     $ & ( 6 8 : _ % ' ) ~     -  7  9  :  ;  <     $ & ( 6 8 : _ % ' ) ~     Y  Z 7 & ( *  Y  Z 7 & ( *  $  -  ;                       G W Y , . 0 2 4 6 8 : < > @ B  $  -  ;                       G W Y , . 0 2 4 6 8 : < > @ B  $  &  *  2  4  6  7  8  9  :  ;  <  D  F  G  H  I  J  L  M  P  Q  R  S  T  U  V  W  X  Y  Z  \                                                                     
                                                                                         =   
               
                   ! " # $ % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : A C D E F G H J K L M N O P Q R S T U V W X Z [ \ ] ^ _ ` a % & ' ( ) * , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = > ? @ A B C E G I K M O Q S U W X Y Z [ \ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~        ( ) + , - . /  D  F  G  H  J  R  T  V  Y  Z                                                                                 ! # 7 D H L X Z \ ^ & ( * - / 1 3 5 7 9 ; = ? A C E G I K M O Q S Y [ ] _ a c e g i k m o  D  F  G  H  J  R  T  V  Y  Z                                                                                 ! # 7 D H L X Z \ ^ & ( * - / 1 3 5 7 9 ; = ? A C E G I K M O Q S Y [ ] _ a c e g i k m o    
  3         )   )  "  &  *  2  4  6  7q  8  9  :  <q  F  G  H  J  R  T  W  Y  Z  \  k  p                        q                                                                                       " $q % &q ' (q ) * , . 0 2 4 6 7 8q 9 :q C D E K L M O Q S U [ \ ] _q ` % & ' ( ) * E G I K M O Q S X Y Z [ \ ] ^ _ ` a b c d e f g h i j k l m n o p r t v x z | ~q  q  q  q                
  3         )   )  "  &  *  2  4  6  7q  8  9  :  <q  F  G  H  J  R  T  W  Y  Z  \  k  p                        q                                                                                       " $q % &q ' (q ) * , . 0 2 4 6 7 8q 9 :q C D E K L M O Q S U [ \ ] _q ` % & ' ( ) * E G I K M O Q S X Y Z [ \ ] ^ _ ` a b c d e f g h i j k l m n o p r t v x z | ~q  q  q  q                
  3         )   )  "  &  *  2  4  6  7q  8  9  :  <q  F  G  H  J  R  T  W  Y  Z  \  k  p                        q                                                                                       " $q % &q ' (q ) * , . 0 2 4 6 7 8q 9 :q C D E K L M O Q S U [ \ ] _q ` % & ' ( ) * E G I K M O Q S X Y Z [ \ ] ^ _ ` a b c d e f g h i j k l m n o p r t v x z | ~q  q  q  q                 " f  @   D  F  G  H  J  R  T  X  `                                                                                         + - / 1 3 5 D F H L N P R T V X Z \ - / 1 3 5 7 9 ; = ? A C E G I K M O Q S Y [ ] _ a c e g i k m o q s u w y { }  R  =  R  =  
 3      )  ) " & * 2 4 6 7q 8 9 : <q F G H J R T W Y Z \ k p            q                                      "$q%&q'(q)*,.024678q9:qCDEKLMOQSU[\]_q`%&'()*EGIKMOQSXYZ[\]^_`abcdefghijklmnoprtvxz|~qqqq    W % ' ) `  Y Z7&(* Y Z7&(*
 Y
 Z
7
&
(
* Y Z7&(* Y Z7&(*   Y [ \  9   Y [ \  9   Y [ \  9 $ 7 9 : <          $&(68:GW_%'),.02468:<>@B~   D F G H I  J R T V } )                                     !#A DHLXZ\^-/13579;=?ACEGIKMOQSY[]_acegikmo ) ) ) ) )( ) + , - . /  $ 7 9 : <          $&(68:GW_%'),.02468:<>@B~   D F G H I  J R T V } )                                     !#A DHLXZ\^-/13579;=?ACEGIKMOQSY[]_acegikmo ) ) ) ) )( ) + , - . /  $ 7 9 : <          $&(68:GW_%'),.02468:<>@B~   D F G H I  J R T V } )                                     !#A DHLXZ\^-/13579;=?ACEGIKMOQSY[]_acegikmo ) ) ) ) )( ) + , - . /  - 7 9 : ; <  $&(68:_%')~ W Y Z [%')7`&(* - 7 9 : ; <  $&(68:_%')~ W Y Z [%')7`&(*  -  7  9  :  ;  <     $ & ( 6 8 : _ % ' ) ~   ! W! Y! Z! [!%!'!)!7!`!&!(!*" -" 7" 9" :" ;" <" " "$"&"("6"8":"_"%"'")"~"""# W# Y# Z# [#%#'#)#7#`#&#(#*$  \$ H$ $ H$ $ $ " R$ $\$ &$ *$ -q$ 2$ 4$ 6$ ;$ D3$ F3$ G3$ H3$ I$ J3$ L$ M$ PH$ QH$ R3$ SH$ T3$ UH$ V3$ W$ Xq$ YH$ ZH$ [3$ \q$ ]d$ k$ mq$ p$ }$ \$ \$ \$ \$ \$ \$ H$ $ $ $ $ $ $ $ 3$ 3$ \$ $ $ 3$ 3$ 3$ 3$ 3$ 3$ 3$ $ $  =$  {$ 3$ H$ 3$ 3$ 3$ 3$ 3$ 3$ q$ q$ q$ q$ q$ q$ \$ \$ \$ 3$ \$ 3$ $ 3$ $ 3$ $ 3$ $ 3$ 3$ 3$ 3$ 3$ 3$ 3$ 3$ $ 3$ $ 3$ $ 3$ $ 3$  {$  R$  R$ $ H$ $ q$  =$ H$H$H$
H$H$$3$$3$$3$$3$H$H$H$$3$$#$ $!3$"$#$%$'$)$+q$-q$/q$1q$3q$5q$7H$9q$<d$>d$@d$A$C$D3$Fq$G\$H3$J $K$L3$Nq$Pq$Rq$Tq$Vq$W\$X3$YH$Z3$[$\3$]$^3$`$a$&H$(H$*H$+$,\$-3$.\$/3$0\$1{$2\$3$4\$5q$6\$7$8\$9$:\$;$<\$=q$>\$?q$@\$A$B\$Cq$E3$G3$I$K3$M$O3$QR$S3$U$W$X$Y3$Z$[3$\$]3$^$_$`$a3$b$cf$d$e3$f$g3$h$i3$j$k3$l$m$n$o3$qq$sq$uq$wq$yq${q$}q$q$q$q$$$$$ )$ )$H$ )$ )$H$H$q$$ R$($)$+$,$-$.$/% D % F% G% H% I% J% R% T% X% Y% Z% ] %  %  %  %  %  %  %  % % % % % % % % % % % % % % % % %  %  %  % % % % % % % % % % % % % % % %%%%%+%-%/%1%3%5%7%< %> %@ %A%D%F%H %L%N%P%R%T%V%X %Z %\%&%(%*%- %/ %1 %3 %5 %7 %9 %; %= %? %A %C %E%G%I%K%M%O%Q%S%Y%[%]%_%a%c%e%g%i%k%m%o%q%s%u%w%y%{%}%(%)%+%,%-%.%/&  \& H& & H& & & " R& $\& && *& -q& 2& 4& 6& ;& D3& F3& G3& H3& I& J3& L& M& PH& QH& R3& SH& T3& UH& V3& W& Xq& YH& ZH& [3& \q& ]d& k& mq& p& }& \& \& \& \& \& \& H& & & & & & & & 3& 3& \& & & 3& 3& 3& 3& 3& 3& 3& & &  =&  {& 3& H& 3& 3& 3& 3& 3& 3& q& q& q& q& q& q& \& \& \& 3& \& 3& & 3& & 3& & 3& & 3& 3& 3& 3& 3& 3& 3& 3& & 3& & 3& & 3& & 3&  {&  R&  R& & H& & q&  =& H&H&H&
H&H&&3&&3&&3&&3&H&H&H&&3&&#& &!3&"&#&%&'&)&+q&-q&/q&1q&3q&5q&7H&9q&<d&>d&@d&A&C&D3&Fq&G\&H3&J &K&L3&Nq&Pq&Rq&Tq&Vq&W\&X3&YH&Z3&[&\3&]&^3&`&a&&H&(H&*H&+&,\&-3&.\&/3&0\&1{&2\&3&4\&5q&6\&7&8\&9&:\&;&<\&=q&>\&?q&@\&A&B\&Cq&E3&G3&I&K3&M&O3&QR&S3&U&W&X&Y3&Z&[3&\&]3&^&_&`&a3&b&cf&d&e3&f&g3&h&i3&j&k3&l&m&n&o3&qq&sq&uq&wq&yq&{q&}q&q&q&q&&&&& )& )&H& )& )&H&H&q&& R&(&)&+&,&-&.&/' D ' F' G' H' I' J' R' T' X' Y' Z' ] '  '  '  '  '  '  '  ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' '  '  '  ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' '''''+'-'/'1'3'5'7'< '> '@ 'A'D'F'H 'L'N'P'R'T'V'X 'Z '\'&'('*'- '/ '1 '3 '5 '7 '9 '; '= '? 'A 'C 'E'G'I'K'M'O'Q'S'Y'[']'_'a'c'e'g'i'k'm'o'q's'u'w'y'{'}'(')'+','-'.'/(  \( H( ( H( ( ( " R( $\( &( *( -q( 2( 4( 6( ;( D3( F3( G3( H3( I( J3( L( M( PH( QH( R3( SH( T3( UH( V3( W( Xq( YH( ZH( [3( \q( ]d( k( mq( p( }( \( \( \( \( \( \( H( ( ( ( ( ( ( ( 3( 3( \( ( ( 3( 3( 3( 3( 3( 3( 3( ( (  =(  {( 3( H( 3( 3( 3( 3( 3( 3( q( q( q( q( q( q( \( \( \( 3( \( 3( ( 3( ( 3( ( 3( ( 3( 3( 3( 3( 3( 3( 3( 3( ( 3( ( 3( ( 3( ( 3(  {(  R(  R( ( H( ( q(  =( H(H(H(
H(H((3((3((3((3(H(H(H((3((#( (!3("(#(%('()(+q(-q(/q(1q(3q(5q(7H(9q(<d(>d(@d(A(C(D3(Fq(G\(H3(J (K(L3(Nq(Pq(Rq(Tq(Vq(W\(X3(YH(Z3([(\3(](^3(`(a(&H((H(*H(+(,\(-3(.\(/3(0\(1{(2\(3(4\(5q(6\(7(8\(9(:\(;(<\(=q(>\(?q(@\(A(B\(Cq(E3(G3(I(K3(M(O3(QR(S3(U(W(X(Y3(Z([3(\(]3(^(_(`(a3(b(cf(d(e3(f(g3(h(i3(j(k3(l(m(n(o3(qq(sq(uq(wq(yq({q(}q(q(q(q((((( )( )(H( )( )(H(H(q(( R((()(+(,(-(.(/) D ) F) G) H) I) J) R) T) X) Y) Z) ] )  )  )  )  )  )  )  ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) )  )  )  ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) )))))+)-)/)1)3)5)7)< )> )@ )A)D)F)H )L)N)P)R)T)V)X )Z )\)&)()*)- )/ )1 )3 )5 )7 )9 ); )= )? )A )C )E)G)I)K)M)O)Q)S)Y)[)])_)a)c)e)g)i)k)m)o)q)s)u)w)y){)})()))+),)-).)/* $* -* ;* * * * * * * * * * *G*W*,*.*0*2*4*6*8*:*<*>*@*B, $, -, ;, , , , , , , , , , ,G,W,,,.,0,2,4,6,8,:,<,>,@,B. $. -. ;. . . . . . . . . . .G.W.,...0.2.4.6.8.:.<.>.@.B0 $0 -0 ;0 0 0 0 0 0 0 0 0 0 0G0W0,0.00020406080:0<0>0@0B2 $2 -2 ;2 2 2 2 2 2 2 2 2 2 2G2W2,2.20222426282:2<2>2@2B4 $4 -4 ;4 4 4 4 4 4 4 4 4 4 4G4W4,4.40424446484:4<4>4@4B6 q6 q6 $6 &6 *6 -q6 26 46 66 ;6 <6 D6 E6 F6 G6 H6 I6 J6 K6 N6 O6 P6 Q6 R6 S6 T6 U6 V6 W6 X6 [6 \6 ]6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6  
6  H6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6  6  36  6 6 q6  
6 6 6 6 6 66666
66666666666666666 6!6"6#6%6'6)6+6-6/61636568696:6<6>6@6A6C6D6F6G6H6K6L6N6P6R6T6V6W6X6Y6Z6[6\6]6^6`6+6,6-6.6/606162636465666768696:6;6<6=6>6?6@6A6B6C6E6G6I6K6M6O6Q6S6X6Y6Z6[6\6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6q6s6u6w6y6{6}6~66666666q6q6q6(6)6+6,6-6.6/7 7 7 V7 \7 7 777!7#797^77777778 38 38 8 8 $8 &8 *8 -H8 28 48 68 98 :8 ;8 =8 D8 E8 Fq8 Gq8 Hq8 I8 Jq8 K8 L8 M8 N8 O8 P{8 Q{8 Rq8 S{8 Tq8 U{8 V8 W8 X8 Y8 Z8 [8 ]8 k8 m8 p8 8 8 8 8 8 8 q8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 q8 q8 q8 q8 q8 8 8  8  f8 q8 {8 q8 q8 q8 q8 q8 q8 8 8 8 8 8 8 8 8 8 8 8 8 q8 8 q8 8 q8 8 q8 q8 q8 q8 q8 q8 q8 q8 8 q8 8 q8 8 q8 8 q8 8 8  {8  R8  )8 8 {8 8 H8 8 8 {8 8 8 888{8{8
{8{88q88q88q88q8{8{8{88888 8!8"8#8%8'8)8+8-8/81838586878;8<8=8>8?8@8A8C8Dq8F8G8H8J8K8Lq8N8P8R8T8V8W8X8Yq8Z8[8\q8]8^8`8a8%8&8'8(8)8*8+8,8-8.8/808182838485868788898:8;8<8=8>8?8@8A8B8C8Eq8Gq8I8Kq8Mq8Oq8Qq8Sq8U8W8X8Yq8Z8[q8\8]q8^8_8`8aq8b8cq8d8eq8f8gq8h8iq8j8kq8l8mq8n8oq8q8s8u8w8y8{8}83838388(8)8+8,8-8.8/9 9 q9 q9 @9 D9 F9 G9 H9 J9 R9 T9 V9 Y9 Z9 [9 `9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9999999!9#979D9H9L9X9Z9\9^9&9(9*9-9/91939597999;9=9?9A9C9E9G9I9K9M9O9Q9S9Y9[9]9_9a9c9e9g9i9k9m9o9q9q9q: 3: 3: : : $: &: *: -H: 2: 4: 6: 9: :: ;: =: D: E: Fq: Gq: Hq: I: Jq: K: L: M: N: O: P{: Q{: Rq: S{: Tq: U{: V: W: X: Y: Z: [: ]: k: m: p: : : : : : : q: : : : : : : : : : : : : : : : q: q: q: q: q: : :  :  f: q: {: q: q: q: q: q: q: : : : : : : : : : : : : q: : q: : q: : q: q: q: q: q: q: q: q: : q: : q: : q: : q: : :  {:  R:  ): : {: : H: : : {: : : :::{:{:
{:{::q::q::q::q:{:{:{::::: :!:":#:%:':):+:-:/:1:3:5:6:7:;:<:=:>:?:@:A:C:Dq:F:G:H:J:K:Lq:N:P:R:T:V:W:X:Yq:Z:[:\q:]:^:`:a:%:&:':(:):*:+:,:-:.:/:0:1:2:3:4:5:6:7:8:9:::;:<:=:>:?:@:A:B:C:Eq:Gq:I:Kq:Mq:Oq:Qq:Sq:U:W:X:Yq:Z:[q:\:]q:^:_:`:aq:b:cq:d:eq:f:gq:h:iq:j:kq:l:mq:n:oq:q:s:u:w:y:{:}:3:3:3::(:):+:,:-:.:/; <; ;8;:;~;;;< ] << <> <@ = <= =8=:=~===> ] >< >> >@ ? <? ?8?:?~???@ ] @< @> @@ A FA GA HA JA L )A M )A RA TA A A A A A  )A  )A  )A  )A A A A A A A A A A A A A A A A A A A A A A A  )A  )A  )A  )A  )A  )AAAAADAJ )ALA\Aa )AEAGAIAKAMAOAQASAU )AW )AYA[A]A_AaAcAeAgAiAkAmAoC $C % RC ' RC ( RC ) RC + RC , =C -qC . RC / RC 0 RC 1 RC 3 RC 5 RC 6 RC 7 fC 9 fC : \C ; HC < RC = 3C C C C C C C  RC  RC  RC  RC  =C  =C  =C  =C  RC  RC  RC  RC C C C  RC  RC  RC  RC  RC  RC  RC  RC  RC  =C  =C  =C  =C  =C  =C qC  RC  RC  RC  RC RC RC RC RC	 RC RC RC RC RC RC RC  RC" RC$ fC& fC( fC6 \C8 RC: RC; 3C= 3C? 3CGCI =CWC] RC_ fC% \C' \C) \C+ RC,C.C0C2C4C6C8C:C<C>C@CBCD RCF RCH RCJ RCL RCN RCP RCR RCT =CV =C~ RC RC RC RD E )D I \D K )D L D M D N )D O )D P D Q D S D U D V D W RD X )D Y =D Z RD [ RD \ RD ] RD  )D  D  D  D  D  D  )D  )D  )D  )D  RD  )D  RD  )D  )D  D  D  D  D  D  D  D  )D  D  )D  )D  )D )D )D D D
 D D D D D D D! D# D% RD' RD) RD+ )D- )D/ )D1 )D3 )D5 )D7 RD9 RD< RD> RD@ RDA \DF )DJ DN )DP )DR )DT )DV )D^ D` RDa D& RD( RD* RDU DW Dq )Ds )Du )Dw )Dy )D{ )D} )D RD RD RD RD( \D) \D+ \D, \D- \D. \D/ \E $E % =E ' =E ( =E ) =E + =E , =E -\E . =E / =E 0 =E 1 =E 3 =E 5 =E 6 =E 7 fE 9 fE : RE ; =E < fE = =E E E E E E E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E  fE  =E E E E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E  =E \E  =E  =E  =E  =E =E =E =E =E	 =E =E =E =E =E =E =E  =E" =E$ fE& fE( fE6 RE8 fE: fE; =E= =E? =EGEI =EWE] =E_ fE% RE' RE) RE+ =E,E.E0E2E4E6E8E:E<E>E@EBED =EF =EH =EJ =EL =EN =EP =ER =ET =EV =E~ fE fE fE fF E =F F 
F G 
F H 
F I RF J 
F K =F L F M F N =F O =F P F Q F R 
F S F T 
F U F V F W RF X F Y RF Z =F [ 3F \ =F ] =F  =F  
F  
F  
F  
F  
F  F  F  F  F  
F  F  
F  
F  
F  
F  
F  
F  F  F  F  F  =F  =F  =F  
F  
F  
F  
F  
F  
F  
F  
F  
F  
F  
F  
F  
F  
F  
F  =F  =F  F  F  F  F  F  F  F  =F  F  =F  =F  =F =F =F F F
 F F 
F 
F 
F 
F F F F F F! F# F% RF' RF) RF+ F- F/ F1 F3 F5 F7 =F9 =F< =F> =F@ =FA RFD 
FF FJ FL 
FN FP FR FT FV F\ 
F^ F` RFa F& =F( =F* =FE 
FG 
FI 
FK 
FM 
FO 
FQ 
FS 
FU FW FY 
F[ 
F] 
F_ 
Fa 
Fc 
Fe 
Fg 
Fi 
Fk 
Fm 
Fo 
Fq Fs Fu Fw Fy F{ F} F =F =F =F =F( RF) RF+ RF, RF- RF. RF/ RG G 
G G  )G  )G  )G  )G "G &G *G 2G 4G 7\G 8G 9G :G <G WG ] G G G G G G G G G G G G G G G G G G G G GGGGG$\G%G&\G'G(\G)G*G,G.G0G2G4G6G8G:G< G> G@ GCGEGKGMGOGQGSGUG[G_\G`G%G'G)GXGZG\G^G`GbGdGfGhGjGlGnGpGrGtGvGxGzG|G~GGGGHG\G )GHG\G )G )G\H WH%H'H)H`L L L YL [L \L L L9LLLLLLLLLLLM $M -M ;M M M M M M M M M M MGMWM,M.M0M2M4M6M8M:M<M>M@MBO $O -O ;O O O O O O O O O O OGOWO,O.O0O2O4O6O8O:O<O>O@OBQ $Q -Q ;Q Q Q Q Q Q Q Q Q Q QGQWQ,Q.Q0Q2Q4Q6Q8Q:Q<Q>Q@QBS $S -S ;S S S S S S S S S S SGSWS,S.S0S2S4S6S8S:S<S>S@SBU $U -U ;U U U U U U U U U U UGUWU,U.U0U2U4U6U8U:U<U>U@UBW W 
W W  )W  )W  )W  )W "W &W *W 2W 4W 7\W 8W 9W :W <W WW ] W W W W W W W W W W W W W W W W W W W W WWWWW$\W%W&\W'W(\W)W*W,W.W0W2W4W6W8W:W< W> W@ WCWEWKWMWOWQWSWUW[W_\W`W%W'W)WXWZW\W^W`WbWdWfWhWjWlWnWpWrWtWvWxWzW|W~WWWWHW\W )WHW\W )W )W\X WX%X'X)X`\ \ \ Y\ [\ \\ \ \9\\\\\\\\\\\] -] 7] 9] :] ;] <] ] ]$]&](]6]8]:]_]%]'])]~]]]^ W^ Y^ Z^ [^%^'^)^7^`^&^(^*_  \_ H_ _ H_ _ _ " R_ $\_ &_ *_ -q_ 2_ 4_ 6_ ;_ D3_ F3_ G3_ H3_ I_ J3_ L_ M_ PH_ QH_ R3_ SH_ T3_ UH_ V3_ W_ Xq_ YH_ ZH_ [3_ \q_ ]d_ k_ mq_ p_ }_ \_ \_ \_ \_ \_ \_ H_ _ _ _ _ _ _ _ 3_ 3_ \_ _ _ 3_ 3_ 3_ 3_ 3_ 3_ 3_ _ _  =_  {_ 3_ H_ 3_ 3_ 3_ 3_ 3_ 3_ q_ q_ q_ q_ q_ q_ \_ \_ \_ 3_ \_ 3_ _ 3_ _ 3_ _ 3_ _ 3_ 3_ 3_ 3_ 3_ 3_ 3_ 3_ _ 3_ _ 3_ _ 3_ _ 3_  {_  R_  R_ _ H_ _ q_  =_ H_H_H_
H_H__3__3__3__3_H_H_H__3__#_ _!3_"_#_%_'_)_+q_-q_/q_1q_3q_5q_7H_9q_<d_>d_@d_A_C_D3_Fq_G\_H3_J _K_L3_Nq_Pq_Rq_Tq_Vq_W\_X3_YH_Z3_[_\3_]_^3_`_a_&H_(H_*H_+_,\_-3_.\_/3_0\_1{_2\_3_4\_5q_6\_7_8\_9_:\_;_<\_=q_>\_?q_@\_A_B\_Cq_E3_G3_I_K3_M_O3_QR_S3_U_W_X_Y3_Z_[3_\_]3_^___`_a3_b_cf_d_e3_f_g3_h_i3_j_k3_l_m_n_o3_qq_sq_uq_wq_yq_{q_}q_q_q_q_____ )_ )_H_ )_ )_H_H_q__ R_(_)_+_,_-_._/` D ` F` G` H` I` J` R` T` X` Y` Z` ] `  `  `  `  `  `  `  ` ` ` ` ` ` ` ` ` ` ` ` ` ` ` ` `  `  `  ` ` ` ` ` ` ` ` ` ` ` ` ` ` ` `````+`-`/`1`3`5`7`< `> `@ `A`D`F`H `L`N`P`R`T`V`X `Z `\`&`(`*`- `/ `1 `3 `5 `7 `9 `; `= `? `A `C `E`G`I`K`M`O`Q`S`Y`[`]`_`a`c`e`g`i`k`m`o`q`s`u`w`y`{`}`(`)`+`,`-`.`/}  )}  )}  )}  )} "}}}}\}}}}}}}}}}}q}}H}H} )}H}H} )} )         3 3   m w{q{qq{{qqqqq333 "   )  )  )  ) "\qHH )HH ) )  3  H H m
 w }3 ))) H 333 ) ) ) )
3)  )  )  )  ) "\qHH )HH ) )     =     w   \q =  )  )  )  ) "\qHH )HH ) )            =       
    \ H  H   " R mq wH }3\\\33H3)3\\3H3RH\3\333\)33)3 3)3 ) )H ) )HHq\ 3 3   m w{q{qq{{qqqqq333 w{{ f      = 3 3   m w{q{qq{{qqqqq333 "  "  "          )   )q R ) ) ) "   "\\H     )                  )  ) " w ) ) ) " "    "   ) @ ` ) ) )  3  3 3 m }3   )=  
 

3	
    !"$3333HRHR   ) @ ` ) ) ) 
!    HH\HqH 	
Hq { !"$ "\H
HHHH  3  3 3 m }3   )=  
 

3	
    !"$3333  )  )  )  ) } ) )   =    
 ) )  =  ! = ) ) ) ) 
! 
!   \ 
 
  \ H  H   m\ }qq\\q\3HH)3HHHHH H3HH3\q33	H
\HHHHHHH3H33 {HHH H!q"H$HHHH\q    HH\HqH 	
Hq { !"$ R  )  )  )  ) } ) )   =    
 ) )  =  ! = ) ) ) )  )  )  )  ) } ) )   =    
 ) )  =  ! = ) ) ) )HRHR! 3  3  )  )qq = )q = )3 = )33  )  )  )  ) )   3  ! 3 ) ) )!!  R   ) )  @ `!	  )	  )	  )	  )	 )	 	 	 3	 	 	! 3	 )	 )	 )  )  )  )  ) )   3  ! 3 ) ) )!! 3  3  )  )qq = )q = )3 = )33 )   " f  ! ! @! `!!!!!!!!!!!!!# # 3# # 3# 3# m# }3# #### # #)#=## #### ##### # ###
## #=# ## #  ## # ##
#
##3#	 #
 # # ## # ## # ### ### # # ## # #  #!#" #$ #3#3#3#####3$ 3$ $ 3$  )$  )$$q$$q$$$ =$$ )$$$ )$$ $q$ )$$$$ =$ )$3$ =$ )$3$3% q% q% $% &% *% -q% 2% 4% 6% ;% <% D% E% F% G% H% I% J% K% N% O% P% Q% R% S% T% U% V% W% X% [% \% ]% % % % % % % % % % % % % % % % % % % % % % % % % % % % %  
%  H% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %  %  3%  % % q%  
% % % % % %%%%%
%%%%%%%%%%%%%%%%% %!%"%#%%%'%)%+%-%/%1%3%5%8%9%:%<%>%@%A%C%D%F%G%H%K%L%N%P%R%T%V%W%X%Y%Z%[%\%]%^%`%+%,%-%.%/%0%1%2%3%4%5%6%7%8%9%:%;%<%=%>%?%@%A%B%C%E%G%I%K%M%O%Q%S%X%Y%Z%[%\%]%^%_%`%a%b%c%d%e%f%g%h%i%j%k%l%m%n%o%q%s%u%w%y%{%}%~%%%%%%%%q%q%q%(%)%+%,%-%.%/& & & V& \& & &&&!&#&9&^&&&&&&&' q' q' $' &' *' -q' 2' 4' 6' ;' <' D' E' F' G' H' I' J' K' N' O' P' Q' R' S' T' U' V' W' X' [' \' ]' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' '  
'  H' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' '  '  3'  ' ' q'  
' ' ' ' ' '''''
''''''''''''''''' '!'"'#'%''')'+'-'/'1'3'5'8'9':'<'>'@'A'C'D'F'G'H'K'L'N'P'R'T'V'W'X'Y'Z'['\']'^'`'+','-'.'/'0'1'2'3'4'5'6'7'8'9':';'<'='>'?'@'A'B'C'E'G'I'K'M'O'Q'S'X'Y'Z'['\']'^'_'`'a'b'c'd'e'f'g'h'i'j'k'l'm'n'o'q's'u'w'y'{'}'~''''''''q'q'q'(')'+','-'.'/( ( ( V( \( ( (((!(#(9(^((((((() q) q) $) &) *) -q) 2) 4) 6) ;) <) D) E) F) G) H) I) J) K) N) O) P) Q) R) S) T) U) V) W) X) [) \) ]) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) )  
)  H) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) )  )  3)  ) ) q)  
) ) ) ) ) )))))
))))))))))))))))) )!)")#)%)')))+)-)/)1)3)5)8)9):)<)>)@)A)C)D)F)G)H)K)L)N)P)R)T)V)W)X)Y)Z)[)\)])^)`)+),)-).)/)0)1)2)3)4)5)6)7)8)9):);)<)=)>)?)@)A)B)C)E)G)I)K)M)O)Q)S)X)Y)Z)[)\)])^)_)`)a)b)c)d)e)f)g)h)i)j)k)l)m)n)o)q)s)u)w)y){)})~))))))))q)q)q)()))+),)-).)/* * * V* \* * ***!*#*9*^*******+ $+ -+ 7+ 9+ :+ ;+ <+ + + + + + + + + + + + +$+&+(+6+8+:+G+W+Y+_+%+'+)+++,+.+0+2+4+6+8+:+<+>+@+B+~+++, , 
, ,  ),  ),  ),  ), ", &, *, 2, 4, 7\, 8, 9, :, <, W, ] , , , , , , , , , , , , , , , , , , , , ,,,,,$\,%,&\,',(\,),*,,,.,0,2,4,6,8,:,< ,> ,@ ,C,E,K,M,O,Q,S,U,[,_\,`,%,',),X,Z,\,^,`,b,d,f,h,j,l,n,p,r,t,v,x,z,|,~,,,,H,\, ),H,\, ), ),\- W-%-'-)-`. . 
. .  ).  ).  ).  ). ". &. *. 2. 4. 7\. 8. 9. :. <. W. ] . . . . . . . . . . . . . . . . . . . . .....$\.%.&\.'.(\.).*.,...0.2.4.6.8.:.< .> .@ .C.E.K.M.O.Q.S.U.[._\.`.%.'.).X.Z.\.^.`.b.d.f.h.j.l.n.p.r.t.v.x.z.|.~....H.\. ).H.\. ). ).\/ W/%/'/)/`0 0 
0 0  )0  )0  )0  )0 "0 &0 *0 20 40 7\0 80 90 :0 <0 W0 ] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 00000$\0%0&\0'0(\0)0*0,0.00020406080:0< 0> 0@ 0C0E0K0M0O0Q0S0U0[0_\0`0%0'0)0X0Z0\0^0`0b0d0f0h0j0l0n0p0r0t0v0x0z0|0~0000H0\0 )0H0\0 )0 )0\1 W1%1'1)1`2 2 
2 2  )2  )2  )2  )2 "2 &2 *2 22 42 7\2 82 92 :2 <2 W2 ] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 22222$\2%2&\2'2(\2)2*2,2.20222426282:2< 2> 2@ 2C2E2K2M2O2Q2S2U2[2_\2`2%2'2)2X2Z2\2^2`2b2d2f2h2j2l2n2p2r2t2v2x2z2|2~2222H2\2 )2H2\2 )2 )2\3 W3%3'3)3`4 4 
4 4  )4  )4  )4  )4 "4 &4 *4 24 44 7\4 84 94 :4 <4 W4 ] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 44444$\4%4&\4'4(\4)4*4,4.40424446484:4< 4> 4@ 4C4E4K4M4O4Q4S4U4[4_\4`4%4'4)4X4Z4\4^4`4b4d4f4h4j4l4n4p4r4t4v4x4z4|4~4444H4\4 )4H4\4 )4 )4\5 W5%5'5)5`6 6 
6 6  )6  )6  )6  )6 "6 &6 *6 26 46 7\6 86 96 :6 <6 W6 ] 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 66666$\6%6&\6'6(\6)6*6,6.60626466686:6< 6> 6@ 6C6E6K6M6O6Q6S6U6[6_\6`6%6'6)6X6Z6\6^6`6b6d6f6h6j6l6n6p6r6t6v6x6z6|6~6666H6\6 )6H6\6 )6 )6\7 W7%7'7)7`8 8 
8 8  )8  )8  )8  )8 "8 &8 *8 28 48 7\8 88 98 :8 <8 W8 ] 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 88888$\8%8&\8'8(\8)8*8,8.80828486888:8< 8> 8@ 8C8E8K8M8O8Q8S8U8[8_\8`8%8'8)8X8Z8\8^8`8b8d8f8h8j8l8n8p8r8t8v8x8z8|8~8888H8\8 )8H8\8 )8 )8\9 W9%9'9)9`: : 
: :  ):  ):  ):  ): ": &: *: 2: 4: 7\: 8: 9: :: <: W: ] : : : : : : : : : : : : : : : : : : : : :::::$\:%:&\:':(\:):*:,:.:0:2:4:6:8:::< :> :@ :C:E:K:M:O:Q:S:U:[:_\:`:%:':):X:Z:\:^:`:b:d:f:h:j:l:n:p:r:t:v:x:z:|:~::::H:\: ):H:\: ): ):\; W;%;';);`< < 
< <  )<  )<  )<  )< "< &< *< 2< 4< 7\< 8< 9< :< << W< ] < < < < < < < < < < < < < < < < < < < < <<<<<$\<%<&\<'<(\<)<*<,<.<0<2<4<6<8<:<< <> <@ <C<E<K<M<O<Q<S<U<[<_\<`<%<'<)<X<Z<\<^<`<b<d<f<h<j<l<n<p<r<t<v<x<z<|<~<<<<H<\< )<H<\< )< )<\= W=%='=)=`> > 
> >  )>  )>  )>  )> "> &> *> 2> 4> 7\> 8> 9> :> <> W> ] > > > > > > > > > > > > > > > > > > > > >>>>>$\>%>&\>'>(\>)>*>,>.>0>2>4>6>8>:>< >> >@ >C>E>K>M>O>Q>S>U>[>_\>`>%>'>)>X>Z>\>^>`>b>d>f>h>j>l>n>p>r>t>v>x>z>|>~>>>>H>\> )>H>\> )> )>\? W?%?'?)?`@ @ 
@ @  )@  )@  )@  )@ "@ &@ *@ 2@ 4@ 7\@ 8@ 9@ :@ <@ W@ ] @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @@@@@$\@%@&\@'@(\@)@*@,@.@0@2@4@6@8@:@< @> @@ @C@E@K@M@O@Q@S@U@[@_\@`@%@'@)@X@Z@\@^@`@b@d@f@h@j@l@n@p@r@t@v@x@z@|@~@@@@H@\@ )@H@\@ )@ )@\A WA%A'A)A`B B 
B B  )B  )B  )B  )B "B &B *B 2B 4B 7\B 8B 9B :B <B WB ] B B B B B B B B B B B B B B B B B B B B BBBBB$\B%B&\B'B(\B)B*B,B.B0B2B4B6B8B:B< B> B@ BCBEBKBMBOBQBSBUB[B_\B`B%B'B)BXBZB\B^B`BbBdBfBhBjBlBnBpBrBtBvBxBzB|B~BBBBHB\B )BHB\B )B )B\C WC%C'C)C`W M =Y Y Y YY [Y \Y Y Y9YYYYYYYYYYY[ [ [ Y[ [[ \[ [ [9[[[[[[[[[[[] ] ] Y] [] \] ] ]9]]]]]]]]]]]_ _ _ Y_ [_ \_ _ _9___________a a a Ya [a \a a a9aaaaaaaaaaac c c Yc [c \c c c9ccccccccccce e e Ye [e \e e e9eeeeeeeeeeef $f % Rf ' Rf ( Rf ) Rf + Rf , =f -qf . Rf / Rf 0 Rf 1 Rf 3 Rf 5 Rf 6 Rf 7 ff 9 ff : \f ; Hf < Rf = 3f f f f f f f  Rf  Rf  Rf  Rf  =f  =f  =f  =f  Rf  Rf  Rf  Rf f f f  Rf  Rf  Rf  Rf  Rf  Rf  Rf  Rf  Rf  =f  =f  =f  =f  =f  =f qf  Rf  Rf  Rf  Rf Rf Rf Rf Rf	 Rf Rf Rf Rf Rf Rf Rf  Rf" Rf$ ff& ff( ff6 \f8 Rf: Rf; 3f= 3f? 3fGfI =fWf] Rf_ ff% \f' \f) \f+ Rf,f.f0f2f4f6f8f:f<f>f@fBfD RfF RfH RfJ RfL RfN RfP RfR RfT =fV =f~ Rf Rf Rf Rg E )g I \g K )g L g M g N )g O )g P g Q g S g U g V g W Rg X )g Y =g Z Rg [ Rg \ Rg ] Rg  )g  g  g  g  g  g  )g  )g  )g  )g  Rg  )g  Rg  )g  )g  g  g  g  g  g  g  g  )g  g  )g  )g  )g )g )g g g
 g g g g g g g! g# g% Rg' Rg) Rg+ )g- )g/ )g1 )g3 )g5 )g7 Rg9 Rg< Rg> Rg@ RgA \gF )gJ gN )gP )gR )gT )gV )g^ g` Rga g& Rg( Rg* RgU gW gq )gs )gu )gw )gy )g{ )g} )g Rg Rg Rg Rg( \g) \g+ \g, \g- \g. \g/ \h $h % Rh ' Rh ( Rh ) Rh + Rh , =h -qh . Rh / Rh 0 Rh 1 Rh 3 Rh 5 Rh 6 Rh 7 fh 9 fh : \h ; Hh < Rh = 3h h h h h h h  Rh  Rh  Rh  Rh  =h  =h  =h  =h  Rh  Rh  Rh  Rh h h h  Rh  Rh  Rh  Rh  Rh  Rh  Rh  Rh  Rh  =h  =h  =h  =h  =h  =h qh  Rh  Rh  Rh  Rh Rh Rh Rh Rh	 Rh Rh Rh Rh Rh Rh Rh  Rh" Rh$ fh& fh( fh6 \h8 Rh: Rh; 3h= 3h? 3hGhI =hWh] Rh_ fh% \h' \h) \h+ Rh,h.h0h2h4h6h8h:h<h>h@hBhD RhF RhH RhJ RhL RhN RhP RhR RhT =hV =h~ Rh Rh Rh Ri E )i I \i K )i L i M i N )i O )i P i Q i S i U i V i W Ri X )i Y =i Z Ri [ Ri \ Ri ] Ri  )i  i  i  i  i  i  )i  )i  )i  )i  Ri  )i  Ri  )i  )i  i  i  i  i  i  i  i  )i  i  )i  )i  )i )i )i i i
 i i i i i i i! i# i% Ri' Ri) Ri+ )i- )i/ )i1 )i3 )i5 )i7 Ri9 Ri< Ri> Ri@ RiA \iF )iJ iN )iP )iR )iT )iV )i^ i` Ria i& Ri( Ri* RiU iW iq )is )iu )iw )iy )i{ )i} )i Ri Ri Ri Ri( \i) \i+ \i, \i- \i. \i/ \j $j % Rj ' Rj ( Rj ) Rj + Rj , =j -qj . Rj / Rj 0 Rj 1 Rj 3 Rj 5 Rj 6 Rj 7 fj 9 fj : \j ; Hj < Rj = 3j j j j j j j  Rj  Rj  Rj  Rj  =j  =j  =j  =j  Rj  Rj  Rj  Rj j j j  Rj  Rj  Rj  Rj  Rj  Rj  Rj  Rj  Rj  =j  =j  =j  =j  =j  =j qj  Rj  Rj  Rj  Rj Rj Rj Rj Rj	 Rj Rj Rj Rj Rj Rj Rj  Rj" Rj$ fj& fj( fj6 \j8 Rj: Rj; 3j= 3j? 3jGjI =jWj] Rj_ fj% \j' \j) \j+ Rj,j.j0j2j4j6j8j:j<j>j@jBjD RjF RjH RjJ RjL RjN RjP RjR RjT =jV =j~ Rj Rj Rj Rk E )k I \k K )k L k M k N )k O )k P k Q k S k U k V k W Rk X )k Y =k Z Rk [ Rk \ Rk ] Rk  )k  k  k  k  k  k  )k  )k  )k  )k  Rk  )k  Rk  )k  )k  k  k  k  k  k  k  k  )k  k  )k  )k  )k )k )k k k
 k k k k k k k! k# k% Rk' Rk) Rk+ )k- )k/ )k1 )k3 )k5 )k7 Rk9 Rk< Rk> Rk@ RkA \kF )kJ kN )kP )kR )kT )kV )k^ k` Rka k& Rk( Rk* RkU kW kq )ks )ku )kw )ky )k{ )k} )k Rk Rk Rk Rk( \k) \k+ \k, \k- \k. \k/ \l $l % Rl ' Rl ( Rl ) Rl + Rl , =l -ql . Rl / Rl 0 Rl 1 Rl 3 Rl 5 Rl 6 Rl 7 fl 9 fl : \l ; Hl < Rl = 3l l l l l l l  Rl  Rl  Rl  Rl  =l  =l  =l  =l  Rl  Rl  Rl  Rl l l l  Rl  Rl  Rl  Rl  Rl  Rl  Rl  Rl  Rl  =l  =l  =l  =l  =l  =l ql  Rl  Rl  Rl  Rl Rl Rl Rl Rl	 Rl Rl Rl Rl Rl Rl Rl  Rl" Rl$ fl& fl( fl6 \l8 Rl: Rl; 3l= 3l? 3lGlI =lWl] Rl_ fl% \l' \l) \l+ Rl,l.l0l2l4l6l8l:l<l>l@lBlD RlF RlH RlJ RlL RlN RlP RlR RlT =lV =l~ Rl Rl Rl Rm E )m I \m K )m L m M m N )m O )m P m Q m S m U m V m W Rm X )m Y =m Z Rm [ Rm \ Rm ] Rm  )m  m  m  m  m  m  )m  )m  )m  )m  Rm  )m  Rm  )m  )m  m  m  m  m  m  m  m  )m  m  )m  )m  )m )m )m m m
 m m m m m m m! m# m% Rm' Rm) Rm+ )m- )m/ )m1 )m3 )m5 )m7 Rm9 Rm< Rm> Rm@ RmA \mF )mJ mN )mP )mR )mT )mV )m^ m` Rma m& Rm( Rm* RmU mW mq )ms )mu )mw )my )m{ )m} )m Rm Rm Rm Rm( \m) \m+ \m, \m- \m. \m/ \n $n % Rn ' Rn ( Rn ) Rn + Rn , =n -qn . Rn / Rn 0 Rn 1 Rn 3 Rn 5 Rn 6 Rn 7 fn 9 fn : \n ; Hn < Rn = 3n n n n n n n  Rn  Rn  Rn  Rn  =n  =n  =n  =n  Rn  Rn  Rn  Rn n n n  Rn  Rn  Rn  Rn  Rn  Rn  Rn  Rn  Rn  =n  =n  =n  =n  =n  =n qn  Rn  Rn  Rn  Rn Rn Rn Rn Rn	 Rn Rn Rn Rn Rn Rn Rn  Rn" Rn$ fn& fn( fn6 \n8 Rn: Rn; 3n= 3n? 3nGnI =nWn] Rn_ fn% \n' \n) \n+ Rn,n.n0n2n4n6n8n:n<n>n@nBnD RnF RnH RnJ RnL RnN RnP RnR RnT =nV =n~ Rn Rn Rn Ro E )o I \o K )o L o M o N )o O )o P o Q o S o U o V o W Ro X )o Y =o Z Ro [ Ro \ Ro ] Ro  )o  o  o  o  o  o  )o  )o  )o  )o  Ro  )o  Ro  )o  )o  o  o  o  o  o  o  o  )o  o  )o  )o  )o )o )o o o
 o o o o o o o! o# o% Ro' Ro) Ro+ )o- )o/ )o1 )o3 )o5 )o7 Ro9 Ro< Ro> Ro@ RoA \oF )oJ oN )oP )oR )oT )oV )o^ o` Roa o& Ro( Ro* RoU oW oq )os )ou )ow )oy )o{ )o} )o Ro Ro Ro Ro( \o) \o+ \o, \o- \o. \o/ \p $p -p ;p p p p p p p p p p pGpWp,p.p0p2p4p6p8p:p<p>p@pBr $r -r ;r r r r r r r r r r rGrWr,r.r0r2r4r6r8r:r<r>r@rBt $t % =t ' =t ( =t ) =t + =t , =t -\t . =t / =t 0 =t 1 =t 3 =t 5 =t 6 =t 7 ft 9 ft : Rt ; =t < ft = =t t t t t t t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t  ft  =t t t t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t  =t \t  =t  =t  =t  =t =t =t =t =t	 =t =t =t =t =t =t =t  =t" =t$ ft& ft( ft6 Rt8 ft: ft; =t= =t? =tGtI =tWt] =t_ ft% Rt' Rt) Rt+ =t,t.t0t2t4t6t8t:t<t>t@tBtD =tF =tH =tJ =tL =tN =tP =tR =tT =tV =t~ ft ft ft fu E =u F 
u G 
u H 
u I Ru J 
u K =u L u M u N =u O =u P u Q u R 
u S u T 
u U u V u W Ru X u Y Ru Z =u [ 3u \ =u ] =u  =u  
u  
u  
u  
u  
u  u  u  u  u  
u  u  
u  
u  
u  
u  
u  
u  u  u  u  u  =u  =u  =u  
u  
u  
u  
u  
u  
u  
u  
u  
u  
u  
u  
u  
u  
u  
u  =u  =u  u  u  u  u  u  u  u  =u  u  =u  =u  =u =u =u u u
 u u 
u 
u 
u 
u u u u u u! u# u% Ru' Ru) Ru+ u- u/ u1 u3 u5 u7 =u9 =u< =u> =u@ =uA RuD 
uF uJ uL 
uN uP uR uT uV u\ 
u^ u` Rua u& =u( =u* =uE 
uG 
uI 
uK 
uM 
uO 
uQ 
uS 
uU uW uY 
u[ 
u] 
u_ 
ua 
uc 
ue 
ug 
ui 
uk 
um 
uo 
uq us uu uw uy u{ u} u =u =u =u =u( Ru) Ru+ Ru, Ru- Ru. Ru/ Rv $v % =v ' =v ( =v ) =v + =v , =v -\v . =v / =v 0 =v 1 =v 3 =v 5 =v 6 =v 7 fv 9 fv : Rv ; =v < fv = =v v v v v v v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v  fv  =v v v v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v  =v \v  =v  =v  =v  =v =v =v =v =v	 =v =v =v =v =v =v =v  =v" =v$ fv& fv( fv6 Rv8 fv: fv; =v= =v? =vGvI =vWv] =v_ fv% Rv' Rv) Rv+ =v,v.v0v2v4v6v8v:v<v>v@vBvD =vF =vH =vJ =vL =vN =vP =vR =vT =vV =v~ fv fv fv fw E =w F 
w G 
w H 
w I Rw J 
w K =w L w M w N =w O =w P w Q w R 
w S w T 
w U w V w W Rw X w Y Rw Z =w [ 3w \ =w ] =w  =w  
w  
w  
w  
w  
w  w  w  w  w  
w  w  
w  
w  
w  
w  
w  
w  w  w  w  w  =w  =w  =w  
w  
w  
w  
w  
w  
w  
w  
w  
w  
w  
w  
w  
w  
w  
w  =w  =w  w  w  w  w  w  w  w  =w  w  =w  =w  =w =w =w w w
 w w 
w 
w 
w 
w w w w w w! w# w% Rw' Rw) Rw+ w- w/ w1 w3 w5 w7 =w9 =w< =w> =w@ =wA RwD 
wF wJ wL 
wN wP wR wT wV w\ 
w^ w` Rwa w& =w( =w* =wE 
wG 
wI 
wK 
wM 
wO 
wQ 
wS 
wU wW wY 
w[ 
w] 
w_ 
wa 
wc 
we 
wg 
wi 
wk 
wm 
wo 
wq ws wu ww wy w{ w} w =w =w =w =w( Rw) Rw+ Rw, Rw- Rw. Rw/ Rx $x % =x ' =x ( =x ) =x + =x , =x -\x . =x / =x 0 =x 1 =x 3 =x 5 =x 6 =x 7 fx 9 fx : Rx ; =x < fx = =x x x x x x x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x  fx  =x x x x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x  =x \x  =x  =x  =x  =x =x =x =x =x	 =x =x =x =x =x =x =x  =x" =x$ fx& fx( fx6 Rx8 fx: fx; =x= =x? =xGxI =xWx] =x_ fx% Rx' Rx) Rx+ =x,x.x0x2x4x6x8x:x<x>x@xBxD =xF =xH =xJ =xL =xN =xP =xR =xT =xV =x~ fx fx fx fy E =y F 
y G 
y H 
y I Ry J 
y K =y L y M y N =y O =y P y Q y R 
y S y T 
y U y V y W Ry X y Y Ry Z =y [ 3y \ =y ] =y  =y  
y  
y  
y  
y  
y  y  y  y  y  
y  y  
y  
y  
y  
y  
y  
y  y  y  y  y  =y  =y  =y  
y  
y  
y  
y  
y  
y  
y  
y  
y  
y  
y  
y  
y  
y  
y  =y  =y  y  y  y  y  y  y  y  =y  y  =y  =y  =y =y =y y y
 y y 
y 
y 
y 
y y y y y y! y# y% Ry' Ry) Ry+ y- y/ y1 y3 y5 y7 =y9 =y< =y> =y@ =yA RyD 
yF yJ yL 
yN yP yR yT yV y\ 
y^ y` Rya y& =y( =y* =yE 
yG 
yI 
yK 
yM 
yO 
yQ 
yS 
yU yW yY 
y[ 
y] 
y_ 
ya 
yc 
ye 
yg 
yi 
yk 
ym 
yo 
yq ys yu yw yy y{ y} y =y =y =y =y( Ry) Ry+ Ry, Ry- Ry. Ry/ Rz $z % =z ' =z ( =z ) =z + =z , =z -\z . =z / =z 0 =z 1 =z 3 =z 5 =z 6 =z 7 fz 9 fz : Rz ; =z < fz = =z z z z z z z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z  fz  =z z z z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z  =z \z  =z  =z  =z  =z =z =z =z =z	 =z =z =z =z =z =z =z  =z" =z$ fz& fz( fz6 Rz8 fz: fz; =z= =z? =zGzI =zWz] =z_ fz% Rz' Rz) Rz+ =z,z.z0z2z4z6z8z:z<z>z@zBzD =zF =zH =zJ =zL =zN =zP =zR =zT =zV =z~ fz fz fz f{ E ={ F 
{ G 
{ H 
{ I R{ J 
{ K ={ L { M { N ={ O ={ P { Q { R 
{ S { T 
{ U { V { W R{ X { Y R{ Z ={ [ 3{ \ ={ ] ={  ={  
{  
{  
{  
{  
{  {  {  {  {  
{  {  
{  
{  
{  
{  
{  
{  {  {  {  {  ={  ={  ={  
{  
{  
{  
{  
{  
{  
{  
{  
{  
{  
{  
{  
{  
{  
{  ={  ={  {  {  {  {  {  {  {  ={  {  ={  ={  ={ ={ ={ { {
 { { 
{ 
{ 
{ 
{ { { { { {! {# {% R{' R{) R{+ {- {/ {1 {3 {5 {7 ={9 ={< ={> ={@ ={A R{D 
{F {J {L 
{N {P {R {T {V {\ 
{^ {` R{a {& ={( ={* ={E 
{G 
{I 
{K 
{M 
{O 
{Q 
{S 
{U {W {Y 
{[ 
{] 
{_ 
{a 
{c 
{e 
{g 
{i 
{k 
{m 
{o 
{q {s {u {w {y {{ {} { ={ ={ ={ ={( R{) R{+ R{, R{- R{. R{/ R| $| % =| ' =| ( =| ) =| + =| , =| -\| . =| / =| 0 =| 1 =| 3 =| 5 =| 6 =| 7 f| 9 f| : R| ; =| < f| = =| | | | | | |  =|  =|  =|  =|  =|  =|  =|  =|  =|  =|  f|  =| | | |  =|  =|  =|  =|  =|  =|  =|  =|  =|  =|  =|  =|  =|  =|  =| \|  =|  =|  =|  =| =| =| =| =|	 =| =| =| =| =| =| =|  =|" =|$ f|& f|( f|6 R|8 f|: f|; =|= =|? =|G|I =|W|] =|_ f|% R|' R|) R|+ =|,|.|0|2|4|6|8|:|<|>|@|B|D =|F =|H =|J =|L =|N =|P =|R =|T =|V =|~ f| f| f| f} E =} F 
} G 
} H 
} I R} J 
} K =} L } M } N =} O =} P } Q } R 
} S } T 
} U } V } W R} X } Y R} Z =} [ 3} \ =} ] =}  =}  
}  
}  
}  
}  
}  }  }  }  }  
}  }  
}  
}  
}  
}  
}  
}  }  }  }  }  =}  =}  =}  
}  
}  
}  
}  
}  
}  
}  
}  
}  
}  
}  
}  
}  
}  
}  =}  =}  }  }  }  }  }  }  }  =}  }  =}  =}  =} =} =} } }
 } } 
} 
} 
} 
} } } } } }! }# }% R}' R}) R}+ }- }/ }1 }3 }5 }7 =}9 =}< =}> =}@ =}A R}D 
}F }J }L 
}N }P }R }T }V }\ 
}^ }` R}a }& =}( =}* =}E 
}G 
}I 
}K 
}M 
}O 
}Q 
}S 
}U }W }Y 
}[ 
}] 
}_ 
}a 
}c 
}e 
}g 
}i 
}k 
}m 
}o 
}q }s }u }w }y }{ }} } =} =} =} =}( R}) R}+ R}, R}- R}. R}/ R~ 3~ 3~ ~ ~ $~ &~ *~ -H~ 2~ 4~ 6~ 9~ :~ ;~ =~ D~ E~ Fq~ Gq~ Hq~ I~ Jq~ K~ L~ M~ N~ O~ P{~ Q{~ Rq~ S{~ Tq~ U{~ V~ W~ X~ Y~ Z~ [~ ]~ k~ m~ p~ ~ ~ ~ ~ ~ ~ q~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ q~ q~ q~ q~ q~ ~ ~  ~  f~ q~ {~ q~ q~ q~ q~ q~ q~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ q~ ~ q~ ~ q~ ~ q~ q~ q~ q~ q~ q~ q~ q~ ~ q~ ~ q~ ~ q~ ~ q~ ~ ~  {~  R~  )~ ~ {~ ~ H~ ~ ~ {~ ~ ~ ~~~{~{~
{~{~~q~~q~~q~~q~{~{~{~~~~~ ~!~"~#~%~'~)~+~-~/~1~3~5~6~7~;~<~=~>~?~@~A~C~Dq~F~G~H~J~K~Lq~N~P~R~T~V~W~X~Yq~Z~[~\q~]~^~`~a~%~&~'~(~)~*~+~,~-~.~/~0~1~2~3~4~5~6~7~8~9~:~;~<~=~>~?~@~A~B~C~Eq~Gq~I~Kq~Mq~Oq~Qq~Sq~U~W~X~Yq~Z~[q~\~]q~^~_~`~aq~b~cq~d~eq~f~gq~h~iq~j~kq~l~mq~n~oq~q~s~u~w~y~{~}~3~3~3~~(~)~+~,~-~.~/  q q @ D F G H J R T V Y Z [ `                                     !#7DHLXZ\^&(*-/13579;=?ACEGIKMOQSY[]_acegikmoqqq 3 3   $ & * -H 2 4 6 9 : ; = D E Fq Gq Hq I Jq K L M N O P{ Q{ Rq S{ Tq U{ V W X Y Z [ ] k m p       q                q q q q q      f q { q q q q q q             q  q  q  q q q q q q q q  q  q  q  q    {  R  )  {  H   {   {{
{{qqqq{{{ !"#%')+-/13567;<=>?@ACDqFGHJKLqNPRTVWXYqZ[\q]^`a%&'()*+,-./0123456789:;<=>?@ABCEqGqIKqMqOqQqSqUWXYqZ[q\]q^_`aqbcqdeqfgqhiqjkqlmqnoqqsuwy{}333()+,-./  q q @ D F G H J M R R T V Y Z [ `                                     !#7DHLXZ\^&(*-/13579;=?ACEGIKMOQSY[]_acegikmoqqq 3 3   $ & * -H 2 4 6 9 : ; = D E Fq Gq Hq I Jq K L M N O P{ Q{ Rq S{ Tq U{ V W X Y Z [ ] k m p       q                q q q q q      f q { q q q q q q             q  q  q  q q q q q q q q  q  q  q  q    {  R  )  {  H   {   {{
{{qqqq{{{ !"#%')+-/13567;<=>?@ACDqFGHJKLqNPRTVWXYqZ[\q]^`a%&'()*+,-./0123456789:;<=>?@ABCEqGqIKqMqOqQqSqUWXYqZ[q\]q^_`aqbcqdeqfgqhiqjkqlmqnoqqsuwy{}333()+,-./  q q @ D F G H J R T V Y Z [ `                                     !#7DHLXZ\^&(*-/13579;=?ACEGIKMOQSY[]_acegikmoqqq 3 3   $ & * -H 2 4 6 9 : ; = D E Fq Gq Hq I Jq K L M N O P{ Q{ Rq S{ Tq U{ V W X Y Z [ ] k m p       q                q q q q q      f q { q q q q q q             q  q  q  q q q q q q q q  q  q  q  q    {  R  )  {  H   {   {{
{{qqqq{{{ !"#%')+-/13567;<=>?@ACDqFGHJKLqNPRTVWXYqZ[\q]^`a%&'()*+,-./0123456789:;<=>?@ABCEqGqIKqMqOqQqSqUWXYqZ[q\]q^_`aqbcqdeqfgqhiqjkqlmqnoqqsuwy{}333()+,-./  q q @ D F G H J R T V Y Z [ `                                     !#7DHLXZ\^&(*-/13579;=?ACEGIKMOQSY[]_acegikmoqqq 7$&(_ ) 7$&(_ ) 7$&(_ ) $H -
 7 ) F G H J R T H H H H H H H             H H H                
$ )& )( )DGHLWHYH\_ )}






 HHH )   ) )
H )HH )\\,H.H0H2H4H6H8H:H<H>H@HBHEGIKMOQSY[]_acegikmoH R R $H -
 7 ) F G H J R T H H H H H H H             H H H                
$ )& )( )DGHLWHYH\_ )}






 HHH )   = )
3 )H3 )\\,H.H0H2H4H6H8H:H<H>H@HBHEGIKMOQSY[]_acegikmoRRRH $ ) - ) 7H 9q :q <3 F G H J R T Y Z  )  )  )  )  )  )  = 3              )  )  )                 )$H&H(H6q783:3DG )LW )Y =\_H ) ) )H33 ) ) ) )Hqq )
 )%q&'q()q*, ). )0 )2 )4 )6 )8 ): )< )> )@ )B )EGIKMOQSY[]_acegikmo~3333RRRR ) R R $H -
 7 ) F G H J R T H H H H H H H             H H H                
$ )& )( )DGHLWHYH\_ )} f





 HHH )   = )
3 )H3 )\\,H.H0H2H4H6H8H:H<H>H@HBHEGIKMOQSY[]_acegikmoRRRH $H -
 7 ) F G H J R T H H H H H H H             H H H                
$ )& )( )DGHLWHYH\_ )} f f f f f f f HHH )   ) )
H )HH )\\,H.H0H2H4H6H8H:H<H>H@HBHEGIKMOQSY[]_acegikmoH R R $H -
 7 ) F G H J R T H H H H H H H             H H H                
$ )& )( )DGHLWHYH\_ )} f f f f f f f HHH )   = )
3 )H3 )\\,H.H0H2H4H6H8H:H<H>H@HBHEGIKMOQSY[]_acegikmoRRRH $ ) - ) 7H 9q :q <3 F G H J R T Y Z  )  )  )  )  )  )  = 3              )  )  )                 )$H&H(H6q783:3DG )LW )Y =\_H ) ) )H33 ) ) ) )Hqq )
 )%q&'q()q*, ). )0 )2 )4 )6 )8 ): )< )> )@ )B )EGIKMOQSY[]_acegikmo~3333RRRR ) $ ) - ) 7H 9q :q <3 F G H J R T Y Z  )  )  )  )  )  )  = 3              )  )  )                 )$H&H(H6q783:3DG )LW )Y =\_H ) ) )H33 ) ) ) )Hqq )
 )%q&'q()q*, ). )0 )2 )4 )6 )8 ): )< )> )@ )B )EGIKMOQSY[]_acegikmo~3333RRRR ) 7$&(_} R R R R R R Rq 7q < $q&q(q8:_qq\~ Y Z7&(*  )  )  )  ) "\qHH )HH ) )+  =+  {+ 
 {+  +  + + + " {+ @ + ` +  R+  f+  +  f+  +  +  +  f+J +3 q+7 +; += +? +A +M 3+U 3+_ =+ + f+ {++ f+ {+++      &                 
                                                                       d        /]  	    	    	    	  >  	    	     	    	  "  	  4  	  .P  	 ~  	  ^FFont software Copyright  2012 Intel Corporation. Licensed under the Apache License, Version 2.0.  http://www.apache.org/licenses/LICENSE-2.0Clear SansBoldIntel Clear Sans Bold Build 100Version 1.00ClearSans-Boldhttp://01.org/http://01.org/clearsansLicensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License. See the License for the specific language governing permissions and limitations under the License.http://www.apache.org/licenses/LICENSE-2.0.html F o n t   s o f t w a r e   C o p y r i g h t      2 0 1 2   I n t e l   C o r p o r a t i o n .   L i c e n s e d   u n d e r   t h e   A p a c h e   L i c e n s e ,   V e r s i o n   2 . 0 .     h t t p : / / w w w . a p a c h e . o r g / l i c e n s e s / L I C E N S E - 2 . 0 C l e a r   S a n s B o l d I n t e l   C l e a r   S a n s   B o l d   B u i l d   1 0 0 V e r s i o n   1 . 0 0 C l e a r S a n s - B o l d h t t p : / / 0 1 . o r g / h t t p : / / 0 1 . o r g / c l e a r s a n s L i c e n s e d   u n d e r   t h e   A p a c h e   L i c e n s e ,   V e r s i o n   2 . 0   ( t h e   " L i c e n s e " ) ;   y o u   m a y   n o t   u s e   t h i s   f i l e   e x c e p t   i n   c o m p l i a n c e   w i t h   t h e   L i c e n s e .   Y o u   m a y   o b t a i n   a   c o p y   o f   t h e   L i c e n s e   a t   h t t p : / / w w w . a p a c h e . o r g / l i c e n s e s / L I C E N S E - 2 . 0 .   U n l e s s   r e q u i r e d   b y   a p p l i c a b l e   l a w   o r   a g r e e d   t o   i n   w r i t i n g ,   L i c e n s o r   p r o v i d e s   t h e   W o r k   ( a n d   e a c h   C o n t r i b u t o r   p r o v i d e s   i t s   C o n t r i b u t i o n s )   o n   a n   " A S   I S "   B A S I S ,   W I T H O U T   W A R R A N T I E S   O R   C O N D I T I O N S   O F   A N Y   K I N D ,   e i t h e r   e x p r e s s   o r   i m p l i e d ,   i n c l u d i n g ,   w i t h o u t   l i m i t a t i o n ,   a n y   w a r r a n t i e s   o r   c o n d i t i o n s   o f   T I T L E ,   N O N - I N F R I N G E M E N T ,   M E R C H A N T A B I L I T Y ,   o r   F I T N E S S   F O R   A   P A R T I C U L A R   P U R P O S E .   Y o u   a r e   s o l e l y   r e s p o n s i b l e   f o r   d e t e r m i n i n g   t h e   a p p r o p r i a t e n e s s   o f   u s i n g   o r   r e d i s t r i b u t i n g   t h e   W o r k   a n d   a s s u m e   a n y   r i s k s   a s s o c i a t e d   w i t h   Y o u r   e x e r c i s e   o f   p e r m i s s i o n s   u n d e r   t h i s   L i c e n s e .   S e e   t h e   L i c e n s e   f o r   t h e   s p e c i f i c   l a n g u a g e   g o v e r n i n g   p e r m i s s i o n s   a n d   l i m i t a t i o n s   u n d e r   t h e   L i c e n s e . h t t p : / / w w w . a p a c h e . o r g / l i c e n s e s / L I C E N S E - 2 . 0 . h t m l         f f                    o          	 
                        ! " # $ % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = > ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ^ _ ` a                                 b c  d  e        f     g      h    j i k m l n  o q p r s u t v w  x z y { } |    ~     	
       !"#$%&'()*+,-./01 23456789:;<=>?@  ABCDEFGHIJKLMNO  PQRSTUVWXY    Z[\]^_`abcdefghijklmno pqrs  t uvwxyz{|}~          	
 !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~                               	
 ! "#$%&'()*+,-./012345  6789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvNULLuni00A0uni00ADmacronperiodcenteredAmacronamacronAbreveabreveAogonekaogonekCcircumflexccircumflex
Cdotaccent
cdotaccentDcarondcaronDcroatdcroatEmacronemacronEbreveebreve
Edotaccent
edotaccentEogonekeogonekEcaronecaronGcircumflexgcircumflex
Gdotaccent
gdotaccentGcommaaccentgcommaaccentHcircumflexhcircumflexHbarhbarItildeitildeImacronimacronIbreveibreveIogonekiogonek
IdotaccentIJijJcircumflexjcircumflexKcommaaccentkcommaaccentkgreenlandicLacutelacuteLcommaaccentlcommaaccentLcaronlcaronLdotldotNacutenacuteNcommaaccentncommaaccentNcaronncaronnapostropheEngengOmacronomacronObreveobreveOhungarumlautohungarumlautRacuteracuteRcommaaccentrcommaaccentRcaronrcaronSacutesacuteScircumflexscircumflexuni0162uni0163TcarontcaronTbartbarUtildeutildeUmacronumacronUbreveubreveUringuringUhungarumlautuhungarumlautUogonekuogonekWcircumflexwcircumflexYcircumflexycircumflexZacutezacute
Zdotaccent
zdotaccentlongsOhornohornUhornuhornAcaronacaronIcaronicaronOcaronocaronUcaronucaronUdieresismacronudieresismacronUdieresisacuteudieresisacuteUdieresiscaronudieresiscaronUdieresisgraveudieresisgrave
Aringacute
aringacuteAEacuteaeacuteOslashacuteoslashacuteScommaaccentscommaaccentuni021Auni021Bdotlessjuni02C0uni02C9	gravecomb	acutecombuni0302	tildecombuni0304uni0306uni0307uni0308hookabovecombuni030Auni030Cdotbelowcombuni0374uni0375uni037Etonosdieresistonos
Alphatonos	anoteleiaEpsilontonosEtatonos	IotatonosOmicrontonosUpsilontonos
OmegatonosiotadieresistonosAlphaBetaGammauni0394EpsilonZetaEtaThetaIotaKappaLambdaMuNuXiOmicronPiRhoSigmaTauUpsilonPhiChiPsiuni03A9IotadieresisUpsilondieresis
alphatonosepsilontonosetatonos	iotatonosupsilondieresistonosalphabetagammadeltaepsilonzetaetathetaiotakappalambdauni03BCnuxiomicronrhosigma1sigmatauupsilonphichipsiomegaiotadieresisupsilondieresisomicrontonosupsilontonos
omegatonosuni0400uni0401uni0402uni0403uni0404uni0405uni0406uni0407uni0408uni0409uni040Auni040Buni040Cuni040Duni040Euni040Funi0410uni0411uni0412uni0413uni0414uni0415uni0416uni0417uni0418uni0419uni041Auni041Buni041Cuni041Duni041Euni041Funi0420uni0421uni0422uni0423uni0424uni0425uni0426uni0427uni0428uni0429uni042Auni042Buni042Cuni042Duni042Euni042Funi0430uni0431uni0432uni0433uni0434uni0435uni0436uni0437uni0438uni0439uni043Auni043Buni043Cuni043Duni043Euni043Funi0440uni0441uni0442uni0443uni0444uni0445uni0446uni0447uni0448uni0449uni044Auni044Buni044Cuni044Duni044Euni044Funi0450uni0451uni0452uni0453uni0454uni0455uni0456uni0457uni0458uni0459uni045Auni045Buni045Cuni045Duni045Euni045Funi0490uni0491WgravewgraveWacutewacute	Wdieresis	wdieresisEszett	Adotbelow	adotbelow
Ahookabove
ahookaboveAcircumflexacuteacircumflexacuteAcircumflexgraveacircumflexgraveAcircumflexhookaboveacircumflexhookaboveAcircumflextildeacircumflextildeAcircumflexdotbelowacircumflexdotbelowAbreveacuteabreveacuteAbrevegraveabrevegraveAbrevehookaboveabrevehookaboveAbrevetildeabrevetildeAbrevedotbelowabrevedotbelow	Edotbelow	edotbelow
Ehookabove
ehookaboveEtildeetildeEcircumflexacuteecircumflexacuteEcircumflexgraveecircumflexgraveEcircumflexhookaboveecircumflexhookaboveEcircumflextildeecircumflextildeEcircumflexdotbelowecircumflexdotbelow
Ihookabove
ihookabove	Idotbelow	idotbelow	Odotbelow	odotbelow
Ohookabove
ohookaboveOcircumflexacuteocircumflexacuteOcircumflexgraveocircumflexgraveOcircumflexhookaboveocircumflexhookaboveOcircumflextildeocircumflextildeOcircumflexdotbelowocircumflexdotbelow
Ohornacute
ohornacute
Ohorngrave
ohorngraveOhornhookaboveohornhookabove
Ohorntilde
ohorntildeOhorndotbelowohorndotbelow	Udotbelow	udotbelow
Uhookabove
uhookabove
Uhornacute
uhornacute
Uhorngrave
uhorngraveUhornhookaboveuhornhookabove
Uhorntilde
uhorntildeUhorndotbelowuhorndotbelowYgraveygrave	Ydotbelow	ydotbelow
Yhookabove
yhookaboveYtildeytildeuni2010	afii00208underscoredblquotereversedminutesecond	exclamdblinterrobanguni203Ezero.superiorfour.superiorfive.superiorsix.superiorseven.superioreight.superiornine.superior
n.superiorzero.inferiorone.inferiortwo.inferiorthree.inferiorfour.inferiorfive.inferiorsix.inferiorseven.inferioreight.inferiornine.inferiorlirapesetadongEurouni20B9uni20BA	afii61248	afii61289uni2116	estimated	oneeighththreeeighthsfiveeighthsseveneighths	arrowleftarrowup
arrowright	arrowdown	arrowboth	arrowupdnarrowupdnbseDeltauni2215uni2219
orthogonalintersectionequivalencehouserevlogicalnot
integraltp
integralbtuni2500uni2502uni250cuni2510uni2514uni2518uni251cuni2524uni252cuni2534uni253cuni2550uni2551uni2552uni2553uni2554uni2555uni2556uni2557uni2558uni2559uni255auni255buni255cuni255duni255euni255funi2560uni2561uni2562uni2563uni2564uni2565uni2566uni2567uni2568uni2569uni256auni256buni256cupblockdnblockblocklfblockrtblockltshadeshadedkshade	filledboxH22073H18543H18551
filledrecttriaguptriagrttriagdntriaglfcircleH18533	invbullet	invcircle
openbullet	smilefaceinvsmilefacesunfemalemalespadeclubheartdiamondmusicalnotemusicalnotedblf_if_lcommaaccentf_ff_f_if_f_luniFEFFcommaaccent.alt	tonos.capzero.denominatorone.denominatortwo.denominatorthree.denominatorfour.denominatorfive.denominatorsix.denominatorseven.denominatoreight.denominatornine.denominatorzero.numeratorone.numeratortwo.numeratorthree.numeratorfour.numeratorfive.numeratorsix.numeratorseven.numeratoreight.numeratornine.numerator	grave.cap	acute.capcircumflex.cap	caron.cap	caron.alt	tilde.capdieresis.cap
macron.cap	breve.capring.caphungarumlaut.capdotaccent.capcircumflexacutecircumflexgravecircumflexhookabovecircumflextilde
breveacute
brevegravebrevehookabove
brevetildedieresismacrondieresisacutedieresiscarondieresisgravecircumflexacute.capcircumflexgrave.capcircumflexhookabove.capcircumflextilde.capbreveacute.capbrevegrave.capbrevehookabove.capbrevetilde.capdieresismacron.capdieresisacute.capdieresiscaron.capdieresisgrave.cap	hookabovehookabove.capcyrbrevecyrbreve.cap           
 0 J cyrl latn                 kern kern                  p `     >P^djpvPrN`fpz 
 *DR`nx<^djpv| *4>HNTZlrx		
			 	6	<	^													




"
(
2
8
B
H
R
X
b
h
n



.@F\n  M   f  }  { { q q q q   "     =  {  )  )    
  =  
    3 "  $  \ " R \    =  { \ 3  {  R  R  =H##J Pq+1{35q79;=q?qACqIMQR_cfm   
  H     3    
+   
  H     3    
+   )  R  R  =  =J )+ 
    f  {  R  ) +3I_  M   f  )   =   " {  R  f    f        fJ 3 q7 ; = ? A M 3U 3_ =   M   f  } R   "   "   "   "   "   " 
    f  {  R  ) +3I_ ) ) ) ) ) )   " )   " )   " )  " f      
  =  
    3 "   3 "   3 "   " f    3 "  $  \ " R \    =  { \ 3  {  R  R  =H##J Pq+1{35q79;=q?qACqIMQR_cfm $  \ " R \    =  { \ 3  {  R  R  =H##J Pq+1{35q79;=q?qACqIMQR_cfm $  \ " R \    =  { \ 3  {  R  R  =H##J Pq+1{35q79;=q?qACqIMQR_cfm   
  H     3    
+ 
    f  {  R  ) +3I_ 
    f  {  R  ) +3I_   " )   " ) $  \ " R \    =  { \ 3  {  R  R  =H##J Pq+1{35q79;=q?qACqIMQR_cfm  "      "   "     "     =     =  "       =        \ " R \    f   =   R   "\   )    "  "  "   "  ! R R  
  {  "H  !    
  
   \ {  {  R     R R     R      )    " f = !     
  H     3    
+   
  H     3    
+   
  H     3    
+ +   " )   " )   " )   " )   " )   " )   " )   " )   " )   " )   " )   " )  M = 
    f  {  R  ) +3I_ 
    f  {  R  ) +3I_  M R 
    f  {  R  ) +3I_ 
    f  {  R  ) +3I_ } f
  ) } f
  = q } f
  = } f
  ) } f
  = q q } R  "   =   " {  R  f    f        fJ 3 q7 ; = ? A M 3U 3_ =  Uf     .&`f
 &0VX 5 $ -R 7 \          R$ \& \( \GW_ \qqqqqq \ ) )RHH \ R,.02468:<>@B  \ )  )  )9 ) ) ) ) )  9 : < 68:%')~   7H 9 : <H H$H&H(H68H:H_H%')~HHHH  7 9 : ;$&(6_%')  W % ' ) `    +                  	             " $   ) ) . $ 7 9 : ; <           $&(68:GWY_%'),.02468:<>@B~  R R $H -
 7 ) F G H J R T H H H H H H H             H H H                
$ )& )( )DGHLWHYH\_ )




HHH ) )
3 )H3 )\\,H.H0H2H4H6H8H:H<H>H@HBHEGIKMOQSY[]_acegikmoRRRH  Y Z7&(* P   RX j _                                                                                                                                                                                      \   ) ) \H\                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          q  q  )                                                                                                                                                  \ 
 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \q          H  d R ) )  3H33qHH3qH  q                                                                                                                                                                                                                                                                                                              q        q                                                                                                                                                                                                                                                                                                                  H      3        {q  q                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             {            f {                                                                                                                                                                                                                                                                                                                                                                            ) )                              )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  q                                                                                                                                                                                                                                                                                                                                                            ) )                                                                     ) ) ) ) )                                                                                                ) )Hqq  3                RR                   =                 ) )H ) ) )H3  q                                                                                                                                                        q          
                                                                                                  q                                                                        \        q                                                                                                                                                                                                           )                                                                                                                                 =                                                            =                                                                                                                                                                                                                                                                   H
 )                                                H                HH  
 )\H )  
                                                                                        H
 )          R                                    H                H3  
 )\H )  
                                                                                                                                                                                                                                                                                                                 R =                                                                                                                                                                      ) )          HH                                                        \            q                                                                                                                                                                                                                                                                          3                                                                                    q                {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                H           ) )                                3
3                )                H                                                                                                                                                                                                                                                                                                                             \          q                                                                                                                                                   
                                                                                                                                                                                                                                                                                         H           ) )                                q                \      \          \3\3    333  H3  R)                                                                                                                                    {          {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  )                                                                                                                                                               )                                                                                      q                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \          H                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 H                                                                                                                                                                                                                                                                                                                    3                                              33    )                
             
                                  =
3                                                                                                                                                                                                                                                                                                                                                                                                          ) )                                                   )         )                                  =                                             =  
   ) )                                                                                                                                                                                                                                                                                H  H                                                            qq\    H                                  HH                                              \                                                                                                                                                                              \                
                                                                                                                                              )                                                                                                                                      H                                              \q    \\  q              \\H            q                                333q  )HH3H                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  3 )           = )                                                  q             =   )                                                              q                                                                                                                                                                                                                       ) )                                                                                                  3                                                     )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  )   )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      q        q                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      q f f \ H R                     R 3                           =                                                                                                                         R                           R R                  ) = R R R   \           )                                                                                                                    \ f f R = f                     = =                           =                                                                                                                         =                           R =               
   R = 3 =   R           =                                                                                                                                                             )                                                                                                                                                         $ ) . / 7 9 : ; < > D I ^ m                         $&(68:GHWX_}	#$%')+,-./0123456789:;<=>?@ABCW~+    M c w  #$+  g     
         $ ' 	 ) *  - /  2 >  @ @  D E   I I " K K # N N $ P S % U W ) Y ^ , ` ` 2 m m 3 w w 4 } } 5   6   <   =   >   C   Q   X   Y   c   d   e   f   i   j   k   l   m   n   o   p   q   u   v x y z
 { }* ,, .. 00 22 44 6A CH KM OO QQ SS UU WX [` }}      
!#%&'(	).03457!!8#C9XpZrrstt++  ' '         ' # $      "                                                          	   
    b     #   $                                     d     #   $                                             <           !                                                         	                                                                     (                                                                               (                                  
  
  
                                             i   e f g h                                                                                              )   .   , * + - 8 ) / 0 ) . 1   * , 2 )     . *   3 4 5 + * 6 7 - , + 8 ; < 8 ` 8 9 = 9 ; ? < @ 8 A B < = C 9 c 9 E D F ` 9 > ` : 8 ` 9 ` : K K R J N U     a H H R G   O   P I I J M K G I     G       L   Q N S O L T M     M H   H L L   [ V   W Y   X       X       V   V   ] \ V ^ Y     Y Z   Z V V         W   _       Z Z   X   \   J W                                                                                             e f e f e f e f e f       g h g h g h g h g h           " " "   % &    % &                 !                                                                   -                           )                                                                                                                                                                                                   +             &     	 " 	                       
 
            ^  ^ ^ ^  ^ !  ^ ^ ^ ^  ^  ^             &        %      %   % %                   &                         #                   E           $                 ^ ^ ^ ^ ! ! ! ! ^ ^              ^ %                                %                ^  ^  ^  ^  ^  ^  ^          ^ % ^ % !  !  !  !  !  !    ^ %  ^ % ^ % ^ % ^ % ^ % ^  ^  ^    ^          ^  ^  ^                                                !                                                                               0   0 0 0 0 0 0 A -     -   D   ? L   -       ?       . / ? B 6 F L / 8 H E A K 8 G 7 8 H I E @ A J C E 7 ; 8 1 = 8 8 9 K 8 : K > A K 8 K >     +   M O     * (   +         '       S   ] T       (     M     M )   M N   2     +     T   U P V Z Z W Q X Y Z Z Z , Z Z Q Z Z Q 3 < Q [ Z 4 Z Z 5 Z Z Y Z \ Q Q   Z Q R Z Z Z , Z   Z Z < Z   Z       ^                         ^  ^  ^  ^  ^  ^  ^  ^  !  !                                                  " " "     	     	       	       # $                                                                  F                           -                                                                                                                                                                                                       
 0 J cyrl latn                 liga liga                    6       " (.  I L/  I O+  I,  L-  O   I           (    (                                                           0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000                                        \àáX                            2󟬺󟬸.                    84            2|||||z{zz{{{zz{zz{{{zz{{}.     meefffffffffeeeeeeeeeedeegx    Z󞬺ibbbbbccccccccccccccccbbbdw󡬷X˟ibcccbccccccccccccccccbbbewàicbbbbaabbbbbbbbaaaccbaacev碬icbbbbcbaaabb`bbaabbbbaacev硬icbbbbaabcbbcccceedaabaacev砬icbbbbbbj|kbcexqdaaacev砬icbbbbbbwcbzq`aacdwu砬icbbbbb`|decbacdwzcnw砬icbbbbeczbnyedabdwrsshr{fmvo|砬icbbbbac|bspgdabdwfrzu|jv~dmwv砬icbaaccc|gveaacewr}cnx砬icbaacyguvbaacevt{dnw砬icbaadepgcbacev}o{dmv砬icbaaccjwdbbcevxgnxbmv砬icbbbbmce}bbbcevnwamv砬ibaabbbhcbqkbcbbdv砬icaabbadfwmbacl}{kdacbbdv砬icbbbbbbbccbaabbacccbbbbcev砬icbbbbbbbbbbbbbbbbbbbbaacev砬icbbbbbbbbbbbbbbbbbbbbaacev砬icbbbbbbbbbbbbbbbbbbbbaacev砬icbbbbbbbbbbbbbbbbbbbbaabev砬habcccbbbbbbbbbbbbbbbbbbbex硬jbbbbbaaaaaababbbabbbaaaacw硬mcdeeeeeeeeeeeeeeeeeeeddcfz硬硬砬砬砬]xQqSpSpSpSpSpSqSqSpSpTpTpTpTpTpTpTpTpTpTpTpToSpRqTsosqrqrrrrrqqrrrrrrrrrssrrrw砬yyzyxxxxxxxyyyxxxxxxxxxxx~Bc9]:\;\;\;\;\;\;\;\:\:\:\:\:\:\:\:\:\:\:\:\<\;\;]<^[v{daaaaaaaaaaaaaaaaaabbbbbbh砬xxyxxxxxyxxxvvxxxxxxxxxxw}Bb9\9\9\:\:\;[;[;[;[:\:\:\:\:\:\:\:\:\:\:\:\:\:\9\<]Zuzdbbbbbbbbbbbbbbbbbbbbbbbaf砬yxxxxxxxyxxxvwxxxxxxxxxxx~Bb:\8\9\:\:\:[:[:[:[:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\;]Zuzebbbbbbbbbbbbbbbbbbbbbbbbf砬yxxxxxxxxxxyxxxxxxxxxxxww}Bb:\:\:\:\:\8\8\8\8\:\:\:\:\:\:\:\:\:\:\:\:\8\:\:\<\Zuyc`bbbbbaaaabbbbbbbbbbbbcbg砬yxxxxxxwxwtxxwwwwxxxxxxxx}Bc:]9\:\:\:\;\<[;[:\;\;[8\9\9[=[9\:[9[9\:\:\9\9\:\<][vzcabbbbba```acaaaa``abbbbbg砬yxxxxxxxxyx|{yxxxxxxxxx}Bc:\9\:\:\9\:\<^AbEf?c:^;\:\:[;[<\<]<^;^<\9\9\9\:\<][vzcabbbbbacdcbcabhlkfbbbbbbg砬yxxxxxxxx}xxxxxxxxx}Bc:\:[:[9\8\>_]x^y@a9\9[9[=\Tpqa~Bb9\9\9\:\<][vzcabbbbbbrjddooabbbbg砬s}hq{hq{hq{hq{pyyxxxxxxwz|wwxxxxxx}Bc:\:[:[8\9]Zu\w;^:]<]?`{Ol9]:\9\9\<][vzcabbbbbeqbkkbabbg砬enwu~yxxxxxxwxxxxxxxx}Bc:\:[9[8\=]Xv}De:\9\9\<][vzcabbbbafsd}|cabbg砬zvyxxxxxxx{yxwxxxxx}Bc:]:[:[9\A`{Jf{Pn8\8\:\<][vzcabbbaaftgpcbbbg砬y}yxxxxxxw~xxwxxxxx}Bc;\;[:[:\DdMhsFg9\8\:\<][vzcabbbaadsgpcbbbg砬xyyxxxxxxxz{vwwxxxxx}Bc:\:[9[9\EdKiVr<\:\9\9\;][vzcababcedsgxbbbbg砬q{yxxxxxxxxxwwxxxxxx}Bc:]9\9[;[GcOn;^ZuOn<[:\:\8\;][vzcabaahshhbbbbg砬q{yxxxxxxx{~xxxxxxxx}Bc:];\:\:\B`w}dFf=[<`tNn;[9]:\8\;][vzcaa`bkqcveaabbg砬znx|qzyxxxxxxx|xxxxxxxx}Bc:];\:[8\>]ug=^:]IjOm:\9]:\8\;][vzcab`beqbmaabbg砬ku~r{wkt}yxxxxxxwy{wwxxxxxx}Bc:\;[:[8\<\a}^{;]:[<][xOl:\9]:\8\;][vzcababbhrbjkaabbg砬yxxxxxxxxxwwxxxxxx}Bc:\;[:[8\9\A`ltEd:\:]9\=ahwEe:\:\:\9\<][vzcababbafnabt{eaabbg砬yxxxxxxxww}ywxxxxxxxx}Bc:\:\:\9]:\;[=_KiSpNlAa;]:\:\8\:\@_FeBc8^9\:[:\:\<][vzcabbbbbafsncabdjttkdcbbbbg砬yxxxxxxxwxyyvxzyxxxxxxxxx}Bc:]9\:\:\;[<[9\<[<[:\:\:[:\9[8[;[9[:\;\9[;[:[:\:\<][vzcabbbbbb``aaabaccaaaabbbbg砬yxxxxxxxxvwyyxxxxxxxxxxxx}Bc:]:\:\:\:[:\:\;[:[:\:\9\9\9\:\9[9\:\:\:\7[:\:\:\;][vzcabbbbbbcabcaaacbbbbaabbbg砬wvvxxxxxxxxxxxxxxxxxxxxxw}Cb:\9\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\9\:\9\9\;]Zvzcabbbbbbbbbbbbbbbbbbbbbbbg砬yxxyyyyyyyyyyyyyyyyyyyyxw~Cb:\9\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\;\:\:\<]Zvzcabbbbbbbbbbbbbbbbbbbbbbbg砬ywwyyyyyyyyyyyyyyyyyyyyxx~Cb:\9\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\;\9\:\<]Zvzcabbbbbbbbbbbbbbbbbbbbbbbg砬ywwwxxxxxxxxxxxxxxxxxxxwxBb:\9\9\9\9\9\9\9\9\8\8\8\8\8\8\8\8\8\8\8\8\8\8]8\;]Zvycababbbbbbbbbbbbbbbbbbbbbg砬ywwwxxxxxxxxxxxxxxxxxxxww~Ab9]8\9\9\9\9\9\9\9\8\8[8[8[8[8[8[8[8[8[8[8[8\9\9[<\[vzdcbbccccccccccccccccccbb`g砬~~~~~~~~~~~~~~~~~~~~~~~OkCcBcCcCcCcCcCcCcCcDcDcDcDcDcDcDcDcDcDcDcDcDcDbDbGdd~mkkkkkkkkkkkkkkkkkkkkkkkjr砬砬砬砬砬{hededddddddddddddddddddden~~~~~~~~~~~~~~~~~~~~~砬q`{^{]{^{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]z]{e}vxyyyyyyyyyyyxxxxxxxxvwwz砬q^{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{\{]{^{]{]{]{]{^{e~xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{]{]{^{^{^{^{^{_{e}xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{^{^{^{^z^z^{^{^z^{^{^{^{^{^{^{\{^{^{^{^{_{e}xwxxxxwvxyxxyxxxxxxxxwvxz硬q^{^{^{^{^{^{^{^z^z^{^{^z^z^{^{^{_{_{^{\{^{^{^{^{_{e}xwxxxxwwxywwyxxxxxxxxwvxz硬q^{^{^{^{]{\{a}gkjb~_{^{bjheegg^{]z_{^{^{e}xwxxxxyzwz~yvxwxxxwvxz硬q^{^{^{^{^zc}mbe~^{]{]{^{e}xwxxxxxyy|yxxxxwvxz硬q^{^{^{^{_|zih_{]{^{_{e}xwxxxwxxxxxxxwvxzpydmwgpyhq{hr{s~硬q^{^{^{^{b}jzc}_z^{^{_{e}xwxxxwxyyxxxxwvxzhr{~硬q^{^{^{^{`|yenemb~_z^z^{^{_{e}xwxxxxwx{xxxxwvxz|硬q^{^{^{^{^{c|cfxg_{gf]z\z^{^{_{e}xwxxxwxy{xxxxwvxzw硬q^{^{^{^{\{^|\{i_|]{\|h]|]z^z^{_{e}xwxxxwxy|wxxxxwvxz|pz硬q^{^{^{^{^{^{_zg\|_|c|b}ha~^z^z^{_{e}xwxxxxvx}vxxxxwvxzku硬q^{^{^{^{_znwd}mg^{]{^z_{e}xwxxxxxxzxxxxwvxzqzq{硬q^{^{^{^{^|b|e]{]{^z_{e}xwxxxwwx{xxxxwvxz}s|kt~y硬q^{^{^{^{\zj|^}oa}]{^{^z^{e}xwxxxwwy~wwxxxwvxzt~kt}js}r|硬q^{^{^{^{^z_|r~c}_za}vk]{]{^z^z^{e}xwxxxxwxwxvwxxxwvxz硬q^{^{^{^{]z]z^{c~gd]|]z_{^{_{c}fd^|[{]{]{^z^z_{e}xwxxxxwxwxz~|ywwxxxxwvxz硬q^{^{^{^{_z^z]{^{^{\|\|]{_z^z^z_z_z^z\{\{^{^{^{^{_{e}xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{_{_{^{]{]{^z_y`z^z^z^z`z`z^z]{]{^{^{^{^{_{e}xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{\{^{^{]{\{]{]z^z^z^z^z_z^{]{]{]{^{^{^{^{_{e}xwxxxxxxwwwxyxxxxxxxxwvxz硬q^|^z^z^z^{^{^{^{^{^{^{^{]{]{]{]{^{^{^{^{^{^{^{]{^{e~xwxxxxxxxxxxxxxxxxxxxxxxy砬q^{^{^{^{^{^{^{^{^{^{^{^{]{]{]{]{^{^{^{^{^{^{^{^{_{e~xwxxxxxxxxxxxxxxxxxxxxxxy砬q^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{]{^{e}xwxxxxxxxxxxxxxxxxxxxxxxy砬s`|^{^{^{^{^{^{^{^{^{^{^{_{_{_{_{_{^{^{^{^{^{^{^{]{f~yxxxxxxxxxxxxxxxxxxxxxxxz砬pnnnoonnnonnooonnonnoonnnv砬砬砬砬硬硬硬硬砬砬砬砬o~u~s|t}s}s}s}t}t}s|wl}砬cnxnwdmvoxr|r|foxgpyqzr{w|dmw砬}q~dmvshqzyr{kucmvx砬fpys~{p|dmvp}xwfqzv|ku~dnuu砬o{dnxu~q{q}zenv砬nzdoxzkt~xcow砬rdpwkt~qz|tcnv砬r|gqydpvir|{jt}rhoxemv砬ju~fnxuit|hq{ir{~kuq{js}fmv砬sxoxq{s|oxur砬砬砬砬砬砬硬˟â\󝬻󡬶\         42            @>                    8󟬻󟬸6                            \˟ˠZ                                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         PNG

   IHDR         F    IDATxYu_DR{@ b)HHHv[#[}G4s朞9~p_u|ϙ̴ei[)R;H@ \@l/-";ddU֞ $TD-_~*G rh|߉]Ws7ݓ+R__?Q.TP ӂ
A~k侫{Zk.)`f]?qvp%k}"©NuM0U$]I6Vr(@O=8ꨢ8ׁ^qG.b({Ҹ}Ē󟷹wVuRc%M[Z$<)TUj5DSE!/^J5E^>qt(>oSU
bmzoc/!n!ήxdҬPjջ߭k"ɚ-r8x+Ů\|ʢ9#j e-ٻcJI4B J}khn?/*^;0&UógOxvF	WLz2O!9&M %k{zK~f%k""ٵr(kڹdrsAlz= \` 05 wwEeTQq6 hnuy䐖ǋځYEh,L=K8?ŉg?IQڷ͂o\;i5Dcߧ&LZh|i&M},eP r4TD6jDX#Q`Q,Mo\k3쬊1?7UJ]/!F7DH2>QLIrq][;9qM#E	zll*JVk@ohͣE2M>ۺAF^[+AصkQ#j~~ȥKp]={pM7a)G1?7֭[ٿ?ba/QTٺy=zg!i 	Ûo_ߐwLgGRc駟ƞ+rw/<1M駟&tvx.^o5?%567f-K8[XTiD.{=Ν;G.ȑϠ-T4_^ C8C=DWWcccWEx*Հ,՚xfde(/WxSCX1XuPi1]>|J~HRajjM:X33ӸG
]]]K%^}5FFGnE*6121bfkU`-?c9rw?`H+_رc
 Uu];۷oΟ!]]]qJ:84v	OxwٷVzJŏ6-oЄ	s?|P|yq
Bk-*Z]v144Աq|. FGG9urw83W㡇8b7:FZ @*03;n{#9Z]ke__/8sU>(Z{۷w`kEnz³Ͼ|ʱ/>HOO1Nq"Գ5H_:Ε
޺Sezj6)λro1O>_zǏ3447XtV#*06:cJ%~8E3rnbjzɩ_E] 3dV` MBRLOM*gΜ^xe0<#'
[|8ۆ7IU	dNOMOJRG#Gz_D⼫6Pezr}!%AЁ},P{ٶ}8핹?c~;۶殽;<*;v̙3۷O?=T+z-vDnʝw܆Mj,O!{dֿ6HK,!J<.\gqÃG!oDvrq|7huLΝ;ǹshtd$	Ν;;$@{Nn޽+Nprۑ>y_ h|E<W2ԏqFBchjjADdQ%y3_ccc,j'x\cba/ s2.Rmѻd#cÛ?/=!B~\=w߽)f?ia@}M,d&^Xju}\Zq]2(JX1K5JVIi^s9_4Oqhf0}SK6,%4~+`ROʼG 6;me=XH?iJFq	,zURړΎvY`ӊamZ,O? ޔҊڧ5Ngt(Av6"hTô]Zp5TbwTrD p25&l4pDmI  )JMn5PFGsR?R+Y\j3|.505u&LpeGJ{Bu!"ɳbjr2hjag)HVV.`&ZTZQU諗,BTAm6lses&
mk0`ll'a&er0Xff8ڇT%NJ)Z%e85Q*+,|ie$,FB먉r"0Ģ*XqdVWIq%J90`pSnA"*G=yq0^ZEJ354\(nĆA͔P"$zvLIlS+rB.;=I.^ .|,kDBӃÄ4`Н'OERV{ 0)QL?A-[tn]bw47*b)BϕY]{B&}z@[+e d@"L4Y⋇Bz8iVo iK^&''6@W Pi]ؔg5 6*KAsdBȤ7P[#1npԈ9A"jM##Ln0тdB v:kXVOZ ɪx؈:%aM{-a15sl`tmvA]߉+j*T-ۮ$F(>Yr$Rπuʾ^41ƿ%p8L05}
"w9(rV$uѦvMزE-xaB`:4
F%:m&8%M-Sj\6	XILVTtjX;ױQJr^ebA
1JRuQD96}|I$
E-SǣV%0ZxB뒯wԣQŚS@E	*8t0BQ~OZ>MQ
}t{C7bt>kCԺ7Qx>xyluwOP~5
ID:.s v+1^o݋`˳}6
b:"DSxטP(o^~AhQ=H=Ǡw+-켕-_6۩!՜Cϗp۽Ho?'t? f8^eS,+[`؁*3 c?CT'L~7oAB;C̕M#г-_y?Qct}A"@2x^Y ,nLzS'D(^G:ʉ'e߾}|O>+Wnh'4_a\>GCBF}NzuWvJs%²YߢZ19l!aU0LPcӶ7LOo/Xsͻ0&JN@@4A9{{K=[	GF:CAjx#~5iC=`B	d(jW}3	g.c{>/t̍ǕO1p]w¥K6dhh%uשG5fo/:38eQWYv!wM07k/Rw`>bo-{@`gqks0::/K Oa X%pg?_M]}zZ+1F.X٘IQ`]|?zql{oCH裏2??Ͻˑ#G6.,ցAj~g>xW_[g	z@w>/CWzqo~C-`i@K|bť{^Bp"$4<<裔J%;߿;/kF#cNcEi=8SXq6î{Li8c4 Oy;񘛛?)sss<|3ٸ _ga!RB7@C_c{f<A6%j<vq(3ni`HU[
o+C нi/	.jmC/"1KˑaT810#ȭGqm=9sOwAw|̀cp7mи( m<0I(]>K~NJ!΍2s7YihJnV.9y@ef6DwGZ36=E9ޠ8z&~k@D16j,p˳Z|U
Be+< ^V˳_<[c_맧Nq5F3~g4*E߇S~+*`0X5x?\@!	Ӭ,iQ%'mƶsJd~:yZ(]a& !D^jebq"1@ZB0$VǨFG̍AZT{8G6]R4>8Pw+ODD2]rz7i 6|LfKRmީWJgm~.B$:`ij߶hZZp`Dv^Ye`Y"&&&S7')zy4Tgōj$Cw*BBr%ť)y?إHqY*
UՐ21f*O-V☐Ba<]eص^Z	axلD1[+[SDy^4egv[9tBPde
^("R.B[mzPãLi6`i&Z(JM;ͶminUjP J a7&Zv%8jqҕ%׺4/yT"JQaltr4,oZʀ4b
ǬYc#\im	Đ6ER7F)ϓiQEƆ0EHvh8cvK(hY+sH,fsseM#mв./YlklhAݨX3xt/?L!Qԩ8 5Rh~k!1XofY[NxZu
ب007S83*1LWԾ*WҌKNǜ*F*^U;WRWPC	ڜQxb<AZYۿ };SA80hJlq~45I͡&yj?_īNya7Ϋ3Bh1(ֽƐ}cl.yLce#Jy7ŕ,ˀhCWW7ƸXcTJݱY%50⯃l헣`Lt#
n*aLںbxPbPߟ@lHc&
k8XF3%` E3i^~iW4	*J\26=4]J7ZI5f9pm4mlgcPM`@"Z!EشO/k\SXL̬$َ,,$JwTfTn Bh\ebo82,xal~GfNJfhw Q2hFv9IY瘊T+CvWY0ܸXw5ڡ¤&}f<m2Rot|tWW#3aDW,peUo7ߒJGAY&hHv%	&G;D+dԳ}5|ZI%֍DfILGcr:/$*svr2B 8$*u$8aUp4ᚔ%BZwQL̙ǒiFE:,KWKĎ'JSj58*^Qʺ6ĵO)!V4M`ĔHVkluU;O5U+M#?ژ jbcI$]B؁R|'hPb",ǆNcf'%UXQ%p,YP	M7-F]K2/\dvvAnڱ\.AM 	w&PkgpFҢg(BPu[>>M>(a&XhtS͕<}StύEg`~k@ٹ0(%.spJS"X!m7cv~
{Z	Wkq39t?33qE0<o~ `lc趇{[=;6/ᏞUNqT!Õ\/2?TL3^~'<kٱ0<7s? IeMc	qe'O 3$$4	b@ux>оX1v_3?c xꩧaM=zB˗y;b%b6l<M^$(ѻ)6w{6( 4WdT/~-n3?K߶N|a+`n|a.i	A%{dHX؊ULXCk{\ټ#xmczz׾֭/ɥK,6F)O(s'(rЇ1ݰ%KC{	̽ߔ6otK!#O Ndl"MI|:3:Dh",(FhlvN]fٿSE>qGiӳa{J%j&3ӱjCH8?_>f݄U4a5Q݊޼
e2Fn>ȶGFyz<`_V5mPurlڎs7q8l03=En>.. >&OFn
1V1;qUc |f?zm6f=x/2r1$q`32-_^wkrleG	2ۿM3Ǐ_zzؠc[QbɅ5JNG9!<NHtڋV^?GjsX	16<j7ʪro>nC|7-DA%=5/qKp,""g~'eK`>.
ur{v3ҳȻob FsZ_ c{O[?|6ռqsT>v7Xq܆p$<S.yǟo>կvmfH1(nwsN1?2y%ѿHFmU]j-
ӯ?Kf'{p狀a#c8ގabnaxU,kkS%i3ipQ#Q3L1i<  IDAT]5[j>?;wGr1r9Du{-X^4YwA؇ΏMDC<ca2s3T'm拄6#nEW9'
F`lcSRcGnEsȶ(O\SGTgWK075N6zȶl1RU^|EΜ> r.\ uٹsgqbDJnK23Vdċ[疃~v|h+-Aky1{
z^~*k:DW	*&p!JaN12CC;\TxPl455ŉ'PUx>/LDm"f=G+t=u\e(^wUxZc͗|_{{L\@?ySox	1?va=m6z>c BQ7+
lڎs̝;CUFoXFFFpba
ׯ0{5E͇WF9nJ?Z/]a{sC1]pŉMڀ@*83he90Sw/P8y$0P(f_w3<o^ÿ	P83o>HʃG|iwA7#Of
u[*J.$#%ނj;;kørB")(Uf_Wqm.A[si~ բ@(mw#b`wnܕIzGY5߆qz[K(?X
f`f8X/mdF#UNGrBcpJ>Vx1idbJEZ7(Vq.ΥX.#o !J q⾩	46I*"8U:dXl`6I5ިנ@(pXHIWC
"J֦YK&4v9TL^\r$`V5Fqa,*aԬ.	Rj&5V8ոM
bXc0NGeQ.虙I?G	Q=I2@cvTK.GfDۓz-X0W3$K#a92Ɠe
DJ4%iɳY)k#̢M2:rbb[Ks8
&,YưRgICc]AtYh6Y+2Ŷ ;WDˢbGF^mn4V@mDR⯔MXϛn/1ڦ_t]&əLImChX؈p*)snPgl!ǳfWF4.m1nHLH`4g^bqJMGM]I=jc#GMfI<[Fl]֦iPƠ薹r¬`ϬƐ&BqeR3BDD%9OA,ܜSesbɂ2ʸu9`Pubd߻Oӭ.}rOIouUe|d$vgrhp5g%У&_.̭S*OXY@
WIhLVSegVڈr/&m%C{\ qb|2m,`݈v!PJXSi\ 4y@u~8:fָI5I3V(z\Pq|{ڤF_PLB@upMZ4-!@cR!<^!Jd	qc[ZjL)HK@yۢm{aSU¦%@ͩZeEڤzSbȑ
ų>
Hڴ+^BG4#f6lou71G肕Zwr,D=_Z=1WFt(<Aƥ*gzS>u4 $ia6	߉:{ zM(T)*WS_xYކvKLq7;;<ݕ6xmwP9PT)ϧ\XcKeZ&2A+z Vr8l޼-ÛSdI\qEjJ0%FtBN$"d,;VᘴXƉ@Ql4$|xO81"F)WY*]b+r.;W 	ӳ4[!M4BaZi$RuR:SɥY)٭_|_K70^erfeԣNDؠW5,n)m\X*:o%M!N;DX'uiHE:0M ݸ WM޸nЍk#rC֯}g5D \vG}n\kQ:q¨VBB#EDenY?ʕ6!#&:#D
~C*;Mb;l`<ϐs~V
G܉JIB:3QF789rm۶ly7hUkd6E)0ڦlkhbbZV}܎cC8b1o?CV3y(j[rgy7mȎl۶)7@tP.gCڿ6*!F;|vh;\zo]Db{d?\&&fxI4eaŤiٺ1rr @=nU&O 71SqJI2@֝'V́<sTk4[.Mj-VaZe*83>y7ά8FTq1зC87C.1]H%CMxΟ]wApE.o:7sLӧ*F=V4kQu@M)c<~NAJ-=9Q^}-v޼;=~7oh5JQuY:)<K\i,KgR:
q=J05̱&]*k<p]/}dJ6Y -xZUHNa#˸7	w\Z_
3'ߦo$si"nn =G(nԑPdg"o8ySyj"BW^<}4@bAö&1I^sԞR? b^\8@P]ā=j5KinIab|_.?j'D$@ɣq%*>!׷w3tMBunB{a*7_:mH?{J߿1~Ԃ@b@IDe0ڨ_MlXP9IBQiYK!q1[}VX/M6#1eܺqQS'ٓBLj-5ޕ&n#J>	Z!4Q7r̨O	fGo;B08鵫Bu%Ek벱q5>0nV5Q}V<QD}rc2TҬP$7 HLа#VKE	$6B[t1ԐD8'fP!Sdmg [64Y7~]=nSjw᭱M̼KqLIFs\tN7f@P5X"!=4n,]NChK,ķ?ejHڨj.)NIP2G7~Vg1-d1ᓰDNK3!5,-6<VI_t](	tP.fҲ
zK I5Y&\!NCl1kÆgDf{mq2y1wVOKuЦDDWu6֨M)ؔaH5U&L$vƢ]HvjhWڤG0
Ob
a{(dӛX4!9509nGAO&=3Fż5&|"|Z|7FVwl6?hVB-Q1w47
Pt^WplQgjpܪ,I̬b(yyz<(f+9,zM3n6"9 B~׿ݩ%ahWHp8rלt`UN<UŁ	E\a.#ePՖW%ܑ+yd~;|u-:_~zgmh$~HL(lY"gQ']I\E&8u/b~|gfM{#Pam:QA];$+Ҕ0|Mۼ{&k0:<FDwz䏿7kR-,    IENDB`PNG

   IHDR   H   H   UG  IDATxݜYp\Uz߹uKlX6P0,cٗ-T2OI)yK򐼤*OT&L3@0&}1,-Ȳew9_zrmTuu9m9
uX1hb4h1X[E_O3cjlʤXb@ޕز寎UʛgFE0oXSuT'#&~z\?>v.2Wy#H$YwH<D!J߲~ƙci4?D,Zt:A;(=z8>^w,ۙH,^=ݰZ HOrxT%Kƾ"^Dچ=r0&M~*?Iwέ$J/9xôgx,Jӈ!]KCѶW A+oӆծOMJ3}E)x>6P|A<k{Rw^r\SccybZXC=[;?hk8c9ٶ~ GY~6^FFFچgpGk^Om;(!Q{@p%rw)
<c?ɏY`!cTB˯RlwXyzao|r#Jq300@Xdc*5.<f}c	駟3rh[w0<<̍7=~aϞ|.k;&& Y2.޸nN9ihhWoX,SO2>>{rBg~/<_|qMWa8bXjE,Y/5uH%b'}q+w+HB.+]]]H'9}ũ_Mg}mWCK]\ZWWm0^֞w㰣D^fԲ?nꜨ4H^sjRΡ.U2ECL&Vac+ <l],PA0vl,wh<pFGq'܂j͍Cd썛WgZD.D.oP|$ȪJ3iZvȒjxnLMu.f׉/RBd#4RD}O0TCs2O&qb(RrN3vL$9d>OZP2"ʹG"EyMNrƞ0wz_/Ӷ&De3LB"vG}4Wv,@ꃴ T"3J+z)_*)Ϟ%*seJo8AMfI2-˔,64իtڕiohMUȬsYV*@NB D0&i`E(SDS81|+FYmq=YPYJƤLS'^M1HlZ-B&IL&ۍyW'{=m{T*7*9y{	> $=Mu;G&AV2r"@z!SyLv!t.L 7D2>(gA;>%]co׿Dq}UҌ@0y(Ͻ8N?&lBoo/} )BhҨ]}M[@v]L"W{[z]=$2>}"UAOj*֬YIx.RDnԖy>q	OkbI7S
8VuۢϿ<i69Y,zu$s#D/,6"豽>ek2!H&_2|r["w}?EHE1jA F_$`8uRFvt]n۲eVPeWdcJ}aghVB{	XՈCZ-Zg<Ou6"sq	jJv)icWMC,r<@inh)0GQNՃ^Wl	dof,0>f1*J$ƞr?c1&VwB|Zjݠb)I&V0q+9ű!F-GRrLɂAj -^+b+ Lr|CX8T
%$eKOkxM_*\]h&p*0ԹÙS-81l:%~wN/S,V,0*eT䑴l՝Qҷ
.Y[DKG]nzRÑ9fY6J6IV)t:ٹ45ѴfmБ
۪Ұv7MuŲ+up"ӧǓe3T
bEM+ir㜷a˖MX})&M0=QMJ//BP$rW#}`pFd6T'ݭ$G5QӨ;pA/^3xx%U?MItk6
ޣc&V't^w̖Duאx3f)}х+bM.a֭[_dbߒEQ(΂S	!E-񋖎3aWIy3֓Xs6xxD:C~=K!t'ImZP"Qm5W_^dJJթ8I4pMHzʳa"ly/@B"
ן-VT\L0:w}6\ltt'xM6Nw`(ŁW144+hmQ_G"vibnA;}"4*@a>H;Mڹs'<ĎA#-bxZpn-qXOFph?]o=
׆qG"BDd^Bׅ},ĎAW^y%W\qeΑg&v܏Mfp
-i!Y?R~X~0,4~HEHE!pcfզi~hݴDf~
0whCR~*%R,DJ1ƿؠ+dqlAE[R@hN%ђ[4 lQjBʓ\@,j	*,i9zT2L߽VicexLʠVXS[S!SڊW
25,W>2U*@5rSbft+q!UY(YxZ5*H8ոaXum*$P]+IbJpV&@W
hljV?P1͠m{z[:G1([mN&lC[V uI&uzqĐʤ+x6dEnc@$kA_b:)bUaxL.&_r3cHF^Qe?J2k3TZP<"q9s;蚗%;R2@'hމn3&<}l:#xaOֶf&btJ_+23{KIMh:"bo~-hm&\~dxI_d9Ihkɮ]<39!ǡ6lW3Χ?RJn3Ƚ$ԇo<o*pogL#"I@"C5^Y!Ek^xt -PdC(#NXhY)Ρ~EPyV} YOb}FI\[4}%_܀
\tSϔb7@pBBx*6uwgQ`k[j!@)MX#UWr:6,ZsYռ
|CFeQVNĘuʎXӎ\#s pTM	W$Vx-0Cc^gSTJc05aAwPY<Q0MPQ&O+R|'ŢEISmݪGǊr!o޿H79~טiihzURqAZLd$47z3"Azk5ŔRJŽLIS9QՇf~y~T}n(~b X~r    IENDB`PNG

   IHDR         w=   	pHYs       
MiCCPPhotoshop ICC profile  xڝSwX>eVBl "#Y a@Ņ
VHUĂ
H(gAZU\8ܧ}zy&j 9R<:OHɽH g  yx~t?o  p.$P&W   "R .T  Sd
   ly|B"  I> ة آ  (G$@ `UR, @".Y2G vX@` B,  8 C L0ҿ_pH ˕͗K3w!lBa)f	"#HL  8?flŢko">! N_puk[ V h]3	Z
zy8@P<
%b0>3o~@z q@qanvRB1n#ǅ)4\,XP"MyRD!ɕ2	w ONl~Xv @~- g42y  @+ ͗  \L  D*AaD@$<B
AT:18\p`	Aa!:b""aH4 Q"rBj]H#-r9\@ 2G1Qu@Ơst4]k=Kut }c1fa\E`X&cX5V5cX7va$^lGXLXC%#W	1'"O%zxb:XF&!!%^'_H$ɒN
!%2IIkHH-S>iL&m O:ňL	$RJ5e?2BQͩ:ZImvP/S4u%͛Cˤ-Кigih/t	݃EЗkwHb(k{/LӗT02goUX**|:V~TUsU?yTU^V}FUP	թU6RwRPQ__cFHTc!2eXBrV,kMb[Lvv/{LSCsfffqƱ9ٜJ!{--?-jf~7zھbrup@,:m:u	6Qu>cy	Gm7046l18c̐ckihhI'&g5x>fob4ek<abi2ۤĤ)͔kfѴt,ܬج9՜kaټEJ6ǖږ|MV>VyVV׬I\,mWlPW:˶vm))Sn1
9a%m;t;|rtuvlp4éĩWggs5KvSmnz˕ҵܭm=}M.]=AXq㝧/^v^Y^O&0m[{`:>=e>>z"=#~~~;yN`k5/>B	Yroc3g,Z0&L~oL̶Gli})*2.QStqt,֬Yg񏩌;jrvgjlRlc웸xEt$	=sl3Ttcܢ˞w<Y5Y|8? BP/OnM򄛅OEQJ<V8;}ChOFu3	OR+y#MVDެq-9Ri+0(Of++ym#slLѣRPL/+x[[xHHZ3f#|PظxY"E#Sw.1]Rdxi}h˲PXRUjyRҥC+W4nZcadUj[V*_pFWN_|ymJHnYJjAІ_mJtzjʹ5a5[̶6z]V&ֿw{;켵+xWkE}nݏb~ݸGwOŞ{{Ejtolܯ	mR6H:p囀oڛwpZ*A'ߦ|{PߙHy+:u-m=茣^G~1cu5W(=䂓dN?=ԙyLk]Q]gCϞ?tL_]p"b%K==G~pH[oeW<tM;js.]yn&%vw
L]zxem``Y	ӇGG#F#dΓ᧲~VysKXϿyr﫩:#y=}ǽ(@PcǧO>|/%ҟ3    cHRM  z%        u0  `  :  o_F  IDATxڄo<>l-&ۀ1`)jDU':jHdIU"UBm'mFJy(P|0~R.L`s^{-xo\1{# "* DZ´e5Q"ʅb
4󳟜[]BZL8z$$IBUy69gߺVywR;-w6>VZr</=61vC $~Z$"iCZ
"z>m!r.F=g$b$I,~7oRut]tF1>oh6Do%4u{Qt:.66MR ,\&MSJÑ#s"">ipi&Yƨ?£AƘHYz3f{Ha0&cEysGy	@ (j-\эquBg00lw#Jh4Ȕ_3)3O9q1l~dG8_= + ԭp/R[	'[rܾuHP:To^&ZCz\E^Y\/xO\_Jx81FwKȑU+ADvF#@SeJh2+1y6IT$Yx'Wz:ּs,,,DiL!ڠg<j/FMDaۗSd2<g3
Wa=RyY+//Q#vj5Ґp///ֆ'W@	yj:;κ#$bY~׈PdHY}gCŢE@)v	L$⪒q&ΟG[xlRO]"t?"`Wނ2vPM4̏(/@63LREp8Zb`( "DjYA - N@l:q<,4q6H4P=@M& ϰi޺M!J[TfV19|5$v1<O+IqJX^V8XtU2X:ŁQ;<20ͩLk2"g!ɥJљ{ϴ(*aFԹ+V$F> `ZssIơZ NmIyudfCMi,YIFBO	*OSKpԜUI_ᇔ?7/2/<2" 6AgP]TprZ34uBMQsFyŋ^Ҋ+)4LF?P>G	5y06OG:I/ #>}`46`{vqg:d%0ˬiH?̊_g a    IENDB`PNG

   IHDR   0   0   W  IDAThřkoϙ]L		H% &U@WߡRWMV(T$/PR" lc m{ߝ9/_vvrݵwسgժ
o);6t~Gd={X+c{讆;p=ɶ؎f27hM	7*37H`[VcF
}VUx+ߵv]gݔ27stuwktqu(
ܜk*Q'P.^u`_PC  q3{=-
+Ag&&9rT( G>{2>>8wrj{qСp4P(ꢪR\LLO#F~&&nεbǎ|;6
煏'>;0=ubx8qcs[[[9q$n87/rmqXx 7'6lm	> 
uyQ;8)ᅝҖLjkkvDD"N&¯fh<0恁Ps-be
^;HuB+,+ɜ2l u)ʁʕ*T(
nB>`=ayK}-fIʻ~+,+=rm05 cxK!o+"dЭX%@4qdcDM^H.e۴	+
NUPb#<;FMDX.ÉeNvW勂 Ft
e{C?p1T2%ɐNb0ZG+	wa#cK\忭Z= +zlډ	qÇdppƮϟ䲐{f[,}U38x\ҋ/y.VXIT[;ՎqvJy|3x*<H*ui cWqV=,'p#ӽNjS$-QR~!yWQu&!rLT)ں)'/g潅d\%ۼѮ~"na!oaFRkף#ؖݰ
4\MKK"tt]4&eFo0
291qAMH{nC@ $rj ZZmFK%:kq	Ԇè7baʶus?gffhSTY.!a863Cfɺp<jL^_7'dwfXN,
9_A7(֚USBPIuԽs#
qfЉv¨yl۶\,ղHŷszyh=`^XZizʅp $_[HUMn"1_"('JO
$fmb5~3rr6E0I"OEoDbqh:E_ۄ}i_m@k78{1%`R&S||81=nsH>K˧k&jWbBk Kӽ1ShKuLG18KX܎։`mWK(5Gx.b\BP崍/7a\,$HҠD)FdQN }_U5Pw7	BfUhbF̽k]VknFśC|xqhPy;HukF\rJ̈́pB,8sFQ!]l]h!Z@ŚB=bm(a?`آޅAбw^bjPfhOG o*_`z~~.WཿOP y?>%.T(7<c8t G]ЄdnP=zhry2&&xNC S^O;{Ч?B hW_`p(ͺGC? %4kxM+gʙP(JuC_A&ɂ&h"zpZkܪ8@˩V8^d9`jUrH֧绉{ry*xMJ=jx˨ШM{nEQGBgR    IENDB`PNG

   IHDR   `   `   w8  IDATx[ˬ[W_խ$@ɖ2	7la[gm؉؇yc61/މ'ec %Z}%;YYVUW
]U_f8~Y:o[̼0W^.Þh~1XϣwDطYB	 ]uGWݺwqQY(O3}ε&pn	o@J5/̝w2`߾gܵy0лl]=DTfPXIgW7q\CC`;(coٳg'	쮖lֶt`mf J+1ֶ6o,P0:2ՎD4忬vqC_9_5g*Շ+MBU"$dأuD+G+!Jn/:iRY5rPOـւ5Q?S2N< 	jV'ULs^%[AS.\Jzu"r#G^'֭[d>G̙3,[֭[IRѱI8~6lp5%/|X@_x_xMꫯS<⥗_&Lr~Xw[wN>?Q}5EF5H(8bvV*b#Pu~6.V1-Ñc!*!OS?ѱ)z[oivΝ;̙3\y啱1ncLMMq?5ڛ|VT/UAZ>usU*Bc=F:fǎ===ͯkپ}{,jX,gvV:: V#12@㓾~Q%+V7};Rw\#OIEy1Z|_'LƢxOft$ǡ_Fm{'wgɒ1̀v~
LLNsa6lXOOOOrAN:3H|+_>,gΜa?VvK{}.ehh#[%Aau^}֬T&hÏf9sPZ[[P<SdY 3;ڳlڸ0:u`ݺ5Rɺ-ú%l Zr7s˃q\?A! H<A#/硿nÆi@XCqb\x!L/U+*I7(UAk\"/ CS߲(̈́ϥzJS)sjC,?9VĚ^"՟f0Y uuPEsS1Ν{uJFxGGFjԔV%?weddHH1h#K~H }4x/7690`"7Qc*FG=/SN2
s 8,A10Fsb"բ6&PŨz0Dj%pE	a.qm<dX,=EsJfdqtW(=:hCgX{/#KXj)jaUaam+a+> ##s3u]D|%D1"f>a@QZ$K@"xÕq+Q?C{G']đS\,02<XKB;+zA:#F#K9⌡ɼpiW3;(vA\K>5.Sv:Hm|IB)D/ٹw`DϪK]EQ1U̖kr/f2%0$"u04Ol J-C>E	bE>PS!C3|{N@MaYq峟H
-/+G@*?X&.[\"!JJқJ\.sW`elٲ!K"J\Wtr]vRrg.;nvZnP6IH,Z*j;5_ƗxށxJ%{ *9q9	y_#0=݈Mf2>oYg\)R d:)2ދ$&UUl۶ￏUVr<'^{'A+$)z>N6Bk2>\[¨J}R`P|1$ԩ7iYQ'A"ݻdhh͛7>$@qbFab'H"C2s@)K|qpں$(NkWp)y:;;ٶm ²՘#2q2Z(ZLk_+ FMCx627POS$uٵ N,P,yGf|[j8vP6B斯{L^k2oǹ&s$܈(82]zȢlrn x3i&8O?---<x?2Ȳdk+!}\ɮٵ3j
i<{/\ɒ1?DRQBȇ~D*OoG'JI??C[Ha$(g|\^`^ي2z1&zD5G]ioJ&?aM#܋PH'$65;ޓT#Aj9H$J-6,$v_$]\P%MHAvhmj&	H|f%BsSl4U).8!c0-*jtn|&\C"rYJxnr˜28eUMY4K,鬤|T0-RWȦX[Ƨ+>BTFזGWTt׊	
c%e(ƆQGERr|S#KXJm"oD6aÈme@:0!T#*\IHRh3xluuRncJ
HXkoC$RXbTZE"ՔŨAį_W[eltuuR|.DnLĢf@;0*,:NEf}Ɨ_Ъk0xtOY5@>c.R]5RP=::e"284\i%vV6qH^F}:?`IIkj>Ӱ =q[q5j8Jwa$ְC^!(HeF*"6) JnTU1\HUB}!b:57#ĔsW"Mϊ@}njOYqvX=.`#.VxT(H0S`q{\QUq4IL퓈LrXkk5Z-UihjjX7##(<?RQTbK˦`F<q	ł5	'zmW(3' ~=O?Gq[oMߩ>tH,Sm$.ۂڐaJ}pBYP	}IP܍_OÊbXe+d?S0]u=n{'gpDiA}	g5:֏0)jeF%ѣ<sݻ78%n;+nhԐ@C[`._Kv7I||x%IϞwVa1Sn+%zS28;1i8k,^ٸq#wO>G~4H4ĳLRCO'du	~%~_'+*	qw`_㛷"aʎ[JȡN܆ٴM7S*fIZFݣ?K͸jux,]vqw>Z*S}ol!u8"F"*NO75\w]&A<
u}AC40'Ĵ<>By*ƼdN:Eb:#Z|btDRP=~of׮]cn"d:j cC21IRf[h_2| $Ѩ~MUUw{GmaA5J1KV~ׂ(ݻQx:::b!9!})~ORвz$,E	<rx1^;lSW%zٍXݿ$_Pb]$=	UՇGMu|OcA
0+Yp5Ā#G['رc⋱4u O۰O,F=JK;1n#+ac?̓xmd|NW	G%ES 0;Krz+IuX!ZI	}]=믿)N&ݱ7}D2Aὗp՛	k%
齏a	ɞ^&+?"W$z)(sdN/X(M7KLy-˒?o7/5dcEcL ԫD8[-"9@rO7&e|j;$cI2;Sz1Jpq	9iÝʑ)0!3u)X(88alIơ, Jej I^Z"ꂒ43U5t!Fk/lYV V140OwoLg^ůNКd=j2&qUw'Zɢ^ '5K锯N!Vn䨄&8=c(%F$2م^3g@$}XY,4*[F$I#
*p!ef
fT		]hup?ԉ3F@\Z8>H-3CʹpW5l@+Xkad>x:MX7"yZpcRTf5r1Ք䬌֩DDY΋&ͯ{&̥k+5bhxDj*";GVaogUL0c`l>"UH'	Z3Բ錰: [%4Cu2VAR_.P5g?_1/~(9'X 1USAe|?H8LT
M-BTJg,|_9WP)T-rNaIwmEbW06c||J)RSLOJ$c;M0G8sC>Ձ/>)J<f0`vY
u%u	wvakY\H!22+bX9,i,rNrO3ה8>.>^0_]D8?#.a.UkMMmZT
]>b]hzJi/߈V>$W\^);9oi#Ӆ0MQ)ӫדmRk	n"{7I\Gv]57Uo߿=x$:{;nݔ|T}-21&?CffɑF\3\ƂOK"#/;3Rn
Djz kGELW`d$/[pAL
_hJ'`[г䗿FqeQygZJx#%E	kOS<&}|@kyXn}>swx?þ`,̥khQj0m˔KFH^+X_cԏ)뗀6nqa4'7g^JIXV2\:aAPh0vQ2WtqRIǞ2.nq#;vM`_%Mϐsrn8V)O-wx&ڍ79Bjj4;o	YsrCL:dd<yw GOˇoL#$SPS2@*e\u/=+UZW*P,:mhԷ+y`jN*R3)z&w!aR8FfOMR22I¢z~~0eZSp5w"?s4t-ufw/5aNGmeD.؊{i e~L__ʻe죲Uxe/{~Ǔm/VxFJdjm	aLN1/Kԙ~Uk|fd&|_Ȩ+Vbُ={FYt$
??d ]E3ꫮԔ"͌ ۜ
A:hE*5?}?oO=`xmv|Y$դ`@Ỏ˯sKxZg4    IENDB`PNG

   IHDR         F    IDATxYu_DR{@ b)HHHv[#[}G4s朞9~p_u|ϙ̴ei[)R;H@ \@l/-";ddU֞ $TD-_~*G rh|߉]Ws7ݓ+R__?Q.TP ӂ
A~k侫{Zk.)`f]?qvp%k}"©NuM0U$]I6Vr(@O=8ꨢ8ׁ^qG.b({Ҹ}Ē󟷹wVuRc%M[Z$<)TUj5DSE!/^J5E^>qt(>oSU
bmzoc/!n!ήxdҬPjջ߭k"ɚ-r8x+Ů\|ʢ9#j e-ٻcJI4B J}khn?/*^;0&UógOxvF	WLz2O!9&M %k{zK~f%k""ٵr(kڹdrsAlz= \` 05 wwEeTQq6 hnuy䐖ǋځYEh,L=K8?ŉg?IQڷ͂o\;i5Dcߧ&LZh|i&M},eP r4TD6jDX#Q`Q,Mo\k3쬊1?7UJ]/!F7DH2>QLIrq][;9qM#E	zll*JVk@ohͣE2M>ۺAF^[+AصkQ#j~~ȥKp]={pM7a)G1?7֭[ٿ?ba/QTٺy=zg!i 	Ûo_ߐwLgGRc駟ƞ+rw/<1M駟&tvx.^o5?%567f-K8[XTiD.{=Ν;G.ȑϠ-T4_^ C8C=DWWcccWEx*Հ,՚xfde(/WxSCX1XuPi1]>|J~HRajjM:X33ӸG
]]]K%^}5FFGnE*6121bfkU`-?c9rw?`H+_رc
 Uu];۷oΟ!]]]qJ:84v	OxwٷVzJŏ6-oЄ	s?|P|yq
Bk-*Z]v144Աq|. FGG9urw83W㡇8b7:FZ @*03;n{#9Z]ke__/8sU>(Z{۷w`kEnz³Ͼ|ʱ/>HOO1Nq"Գ5H_:Ε
޺Sezj6)λro1O>_zǏ3447XtV#*06:cJ%~8E3rnbjzɩ_E] 3dV` MBRLOM*gΜ^xe0<#'
[|8ۆ7IU	dNOMOJRG#Gz_D⼫6Pezr}!%AЁ},P{ٶ}8핹?c~;۶殽;<*;v̙3۷O?=T+z-vDnʝw܆Mj,O!{dֿ6HK,!J<.\gqÃG!oDvrq|7huLΝ;ǹshtd$	Ν;;$@{Nn޽+Nprۑ>y_ h|E<W2ԏqFBchjjADdQ%y3_ccc,j'x\cba/ s2.Rmѻd#cÛ?/=!B~\=w߽)f?ia@}M,d&^Xju}\Zq]2(JX1K5JVIi^s9_4Oqhf0}SK6,%4~+`ROʼG 6;me=XH?iJFq	,zURړΎvY`ӊamZ,O? ޔҊڧ5Ngt(Av6"hTô]Zp5TbwTrD p25&l4pDmI  )JMn5PFGsR?R+Y\j3|.505u&LpeGJ{Bu!"ɳbjr2hjag)HVV.`&ZTZQU諗,BTAm6lses&
mk0`ll'a&er0Xff8ڇT%NJ)Z%e85Q*+,|ie$,FB먉r"0Ģ*XqdVWIq%J90`pSnA"*G=yq0^ZEJ354\(nĆA͔P"$zvLIlS+rB.;=I.^ .|,kDBӃÄ4`Н'OERV{ 0)QL?A-[tn]bw47*b)BϕY]{B&}z@[+e d@"L4Y⋇Bz8iVo iK^&''6@W Pi]ؔg5 6*KAsdBȤ7P[#1npԈ9A"jM##Ln0тdB v:kXVOZ ɪx؈:%aM{-a15sl`tmvA]߉+j*T-ۮ$F(>Yr$Rπuʾ^41ƿ%p8L05}
"w9(rV$uѦvMزE-xaB`:4
F%:m&8%M-Sj\6	XILVTtjX;ױQJr^ebA
1JRuQD96}|I$
E-SǣV%0ZxB뒯wԣQŚS@E	*8t0BQ~OZ>MQ
}t{C7bt>kCԺ7Qx>xyluwOP~5
ID:.s v+1^o݋`˳}6
b:"DSxטP(o^~AhQ=H=Ǡw+-켕-_6۩!՜Cϗp۽Ho?'t? f8^eS,+[`؁*3 c?CT'L~7oAB;C̕M#г-_y?Qct}A"@2x^Y ,nLzS'D(^G:ʉ'e߾}|O>+Wnh'4_a\>GCBF}NzuWvJs%²YߢZ19l!aU0LPcӶ7LOo/Xsͻ0&JN@@4A9{{K=[	GF:CAjx#~5iC=`B	d(jW}3	g.c{>/t̍ǕO1p]w¥K6dhh%uשG5fo/:38eQWYv!wM07k/Rw`>bo-{@`gqks0::/K Oa X%pg?_M]}zZ+1F.X٘IQ`]|?zql{oCH裏2??Ͻˑ#G6.,ցAj~g>xW_[g	z@w>/CWzqo~C-`i@K|bť{^Bp"$4<<裔J%;߿;/kF#cNcEi=8SXq6î{Li8c4 Oy;񘛛?)sss<|3ٸ _ga!RB7@C_c{f<A6%j<vq(3ni`HU[
o+C нi/	.jmC/"1KˑaT810#ȭGqm=9sOwAw|̀cp7mи( m<0I(]>K~NJ!΍2s7YihJnV.9y@ef6DwGZ36=E9ޠ8z&~k@D16j,p˳Z|U
Be+< ^V˳_<[c_맧Nq5F3~g4*E߇S~+*`0X5x?\@!	Ӭ,iQ%'mƶsJd~:yZ(]a& !D^jebq"1@ZB0$VǨFG̍AZT{8G6]R4>8Pw+ODD2]rz7i 6|LfKRmީWJgm~.B$:`ij߶hZZp`Dv^Ye`Y"&&&S7')zy4Tgōj$Cw*BBr%ť)y?إHqY*
UՐ21f*O-V☐Ba<]eص^Z	axلD1[+[SDy^4egv[9tBPde
^("R.B[mzPãLi6`i&Z(JM;ͶminUjP J a7&Zv%8jqҕ%׺4/yT"JQaltr4,oZʀ4b
ǬYc#\im	Đ6ER7F)ϓiQEƆ0EHvh8cvK(hY+sH,fsseM#mв./YlklhAݨX3xt/?L!Qԩ8 5Rh~k!1XofY[NxZu
ب007S83*1LWԾ*WҌKNǜ*F*^U;WRWPC	ڜQxb<AZYۿ };SA80hJlq~45I͡&yj?_īNya7Ϋ3Bh1(ֽƐ}cl.yLce#Jy7ŕ,ˀhCWW7ƸXcTJݱY%50⯃l헣`Lt#
n*aLںbxPbPߟ@lHc&
k8XF3%` E3i^~iW4	*J\26=4]J7ZI5f9pm4mlgcPM`@"Z!EشO/k\SXL̬$َ,,$JwTfTn Bh\ebo82,xal~GfNJfhw Q2hFv9IY瘊T+CvWY0ܸXw5ڡ¤&}f<m2Rot|tWW#3aDW,peUo7ߒJGAY&hHv%	&G;D+dԳ}5|ZI%֍DfILGcr:/$*svr2B 8$*u$8aUp4ᚔ%BZwQL̙ǒiFE:,KWKĎ'JSj58*^Qʺ6ĵO)!V4M`ĔHVkluU;O5U+M#?ژ jbcI$]B؁R|'hPb",ǆNcf'%UXQ%p,YP	M7-F]K2/\dvvAnڱ\.AM 	w&PkgpFҢg(BPu[>>M>(a&XhtS͕<}StύEg`~k@ٹ0(%.spJS"X!m7cv~
{Z	Wkq39t?33qE0<o~ `lc趇{[=;6/ᏞUNqT!Õ\/2?TL3^~'<kٱ0<7s? IeMc	qe'O 3$$4	b@ux>оX1v_3?c xꩧaM=zB˗y;b%b6l<M^$(ѻ)6w{6( 4WdT/~-n3?K߶N|a+`n|a.i	A%{dHX؊ULXCk{\ټ#xmczz׾֭/ɥK,6F)O(s'(rЇ1ݰ%KC{	̽ߔ6otK!#O Ndl"MI|:3:Dh",(FhlvN]fٿSE>qGiӳa{J%j&3ӱjCH8?_>f݄U4a5Q݊޼
e2Fn>ȶGFyz<`_V5mPurlڎs7q8l03=En>.. >&OFn
1V1;qUc |f?zm6f=x/2r1$q`32-_^wkrleG	2ۿM3Ǐ_zzؠc[QbɅ5JNG9!<NHtڋV^?GjsX	16<j7ʪro>nC|7-DA%=5/qKp,""g~'eK`>.
ur{v3ҳȻob FsZ_ c{O[?|6ռqsT>v7Xq܆p$<S.yǟo>կvmfH1(nwsN1?2y%ѿHFmU]j-
ӯ?Kf'{p狀a#c8ގabnaxU,kkS%i3ipQ#Q3L1i<  IDAT]5[j>?;wGr1r9Du{-X^4YwA؇ΏMDC<ca2s3T'm拄6#nEW9'
F`lcSRcGnEsȶ(O\SGTgWK075N6zȶl1RU^|EΜ> r.\ uٹsgqbDJnK23Vdċ[疃~v|h+-Aky1{
z^~*k:DW	*&p!JaN12CC;\TxPl455ŉ'PUx>/LDm"f=G+t=u\e(^wUxZc͗|_{{L\@?ySox	1?va=m6z>c BQ7+
lڎs̝;CUFoXFFFpba
ׯ0{5E͇WF9nJ?Z/]a{sC1]pŉMڀ@*83he90Sw/P8y$0P(f_w3<o^ÿ	P83o>HʃG|iwA7#Of
u[*J.$#%ނj;;kørB")(Uf_Wqm.A[si~ բ@(mw#b`wnܕIzGY5߆qz[K(?X
f`f8X/mdF#UNGrBcpJ>Vx1idbJEZ7(Vq.ΥX.#o !J q⾩	46I*"8U:dXl`6I5ިנ@(pXHIWC
"J֦YK&4v9TL^\r$`V5Fqa,*aԬ.	Rj&5V8ոM
bXc0NGeQ.虙I?G	Q=I2@cvTK.GfDۓz-X0W3$K#a92Ɠe
DJ4%iɳY)k#̢M2:rbb[Ks8
&,YưRgICc]AtYh6Y+2Ŷ ;WDˢbGF^mn4V@mDR⯔MXϛn/1ڦ_t]&əLImChX؈p*)snPgl!ǳfWF4.m1nHLH`4g^bqJMGM]I=jc#GMfI<[Fl]֦iPƠ薹r¬`ϬƐ&BqeR3BDD%9OA,ܜSesbɂ2ʸu9`Pubd߻Oӭ.}rOIouUe|d$vgrhp5g%У&_.̭S*OXY@
WIhLVSegVڈr/&m%C{\ qb|2m,`݈v!PJXSi\ 4y@u~8:fָI5I3V(z\Pq|{ڤF_PLB@upMZ4-!@cR!<^!Jd	qc[ZjL)HK@yۢm{aSU¦%@ͩZeEڤzSbȑ
ų>
Hڴ+^BG4#f6lou71G肕Zwr,D=_Z=1WFt(<Aƥ*gzS>u4 $ia6	߉:{ zM(T)*WS_xYކvKLq7;;<ݕ6xmwP9PT)ϧ\XcKeZ&2A+z Vr8l޼-ÛSdI\qEjJ0%FtBN$"d,;VᘴXƉ@Ql4$|xO81"F)WY*]b+r.;W 	ӳ4[!M4BaZi$RuR:SɥY)٭_|_K70^erfeԣNDؠW5,n)m\X*:o%M!N;DX'uiHE:0M ݸ WM޸nЍk#rC֯}g5D \vG}n\kQ:q¨VBB#EDenY?ʕ6!#&:#D
~C*;Mb;l`<ϐs~V
G܉JIB:3QF789rm۶ly7hUkd6E)0ڦlkhbbZV}܎cC8b1o?CV3y(j[rgy7mȎl۶)7@tP.gCڿ6*!F;|vh;\zo]Db{d?\&&fxI4eaŤiٺ1rr @=nU&O 71SqJI2@֝'V́<sTk4[.Mj-VaZe*83>y7ά8FTq1зC87C.1]H%CMxΟ]wApE.o:7sLӧ*F=V4kQu@M)c<~NAJ-=9Q^}-v޼;=~7oh5JQuY:)<K\i,KgR:
q=J05̱&]*k<p]/}dJ6Y -xZUHNa#˸7	w\Z_
3'ߦo$si"nn =G(nԑPdg"o8ySyj"BW^<}4@bAö&1I^sԞR? b^\8@P]ā=j5KinIab|_.?j'D$@ɣq%*>!׷w3tMBunB{a*7_:mH?{J߿1~Ԃ@b@IDe0ڨ_MlXP9IBQiYK!q1[}VX/M6#1eܺqQS'ٓBLj-5ޕ&n#J>	Z!4Q7r̨O	fGo;B08鵫Bu%Ek벱q5>0nV5Q}V<QD}rc2TҬP$7 HLа#VKE	$6B[t1ԐD8'fP!Sdmg [64Y7~]=nSjw᭱M̼KqLIFs\tN7f@P5X"!=4n,]NChK,ķ?ejHڨj.)NIP2G7~Vg1-d1ᓰDNK3!5,-6<VI_t](	tP.fҲ
zK I5Y&\!NCl1kÆgDf{mq2y1wVOKuЦDDWu6֨M)ؔaH5U&L$vƢ]HvjhWڤG0
Ob
a{(dӛX4!9509nGAO&=3Fż5&|"|Z|7FVwl6?hVB-Q1w47
Pt^WplQgjpܪ,I̬b(yyz<(f+9,zM3n6"9 B~׿ݩ%ahWHp8rלt`UN<UŁ	E\a.#ePՖW%ܑ+yd~;|u-:_~zgmh$~HL(lY"gQ']I\E&8u/b~|gfM{#Pam:QA];$+Ҕ0|Mۼ{&k0:<FDwz䏿7kR-,    IENDB`         (    (                                                           0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000                                        \àáX                            2󟬺󟬸.                    84            2|||||z{zz{{{zz{zz{{{zz{{}.     meefffffffffeeeeeeeeeedeegx    Z󞬺ibbbbbccccccccccccccccbbbdw󡬷X˟ibcccbccccccccccccccccbbbewàicbbbbaabbbbbbbbaaaccbaacev碬icbbbbcbaaabb`bbaabbbbaacev硬icbbbbaabcbbcccceedaabaacev砬icbbbbbbj|kbcexqdaaacev砬icbbbbbbwcbzq`aacdwu砬icbbbbb`|decbacdwzcnw砬icbbbbeczbnyedabdwrsshr{fmvo|砬icbbbbac|bspgdabdwfrzu|jv~dmwv砬icbaaccc|gveaacewr}cnx砬icbaacyguvbaacevt{dnw砬icbaadepgcbacev}o{dmv砬icbaaccjwdbbcevxgnxbmv砬icbbbbmce}bbbcevnwamv砬ibaabbbhcbqkbcbbdv砬icaabbadfwmbacl}{kdacbbdv砬icbbbbbbbccbaabbacccbbbbcev砬icbbbbbbbbbbbbbbbbbbbbaacev砬icbbbbbbbbbbbbbbbbbbbbaacev砬icbbbbbbbbbbbbbbbbbbbbaacev砬icbbbbbbbbbbbbbbbbbbbbaabev砬habcccbbbbbbbbbbbbbbbbbbbex硬jbbbbbaaaaaababbbabbbaaaacw硬mcdeeeeeeeeeeeeeeeeeeeddcfz硬硬砬砬砬]xQqSpSpSpSpSpSqSqSpSpTpTpTpTpTpTpTpTpTpTpTpToSpRqTsosqrqrrrrrqqrrrrrrrrrssrrrw砬yyzyxxxxxxxyyyxxxxxxxxxxx~Bc9]:\;\;\;\;\;\;\;\:\:\:\:\:\:\:\:\:\:\:\:\<\;\;]<^[v{daaaaaaaaaaaaaaaaaabbbbbbh砬xxyxxxxxyxxxvvxxxxxxxxxxw}Bb9\9\9\:\:\;[;[;[;[:\:\:\:\:\:\:\:\:\:\:\:\:\:\9\<]Zuzdbbbbbbbbbbbbbbbbbbbbbbbaf砬yxxxxxxxyxxxvwxxxxxxxxxxx~Bb:\8\9\:\:\:[:[:[:[:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\;]Zuzebbbbbbbbbbbbbbbbbbbbbbbbf砬yxxxxxxxxxxyxxxxxxxxxxxww}Bb:\:\:\:\:\8\8\8\8\:\:\:\:\:\:\:\:\:\:\:\:\8\:\:\<\Zuyc`bbbbbaaaabbbbbbbbbbbbcbg砬yxxxxxxwxwtxxwwwwxxxxxxxx}Bc:]9\:\:\:\;\<[;[:\;\;[8\9\9[=[9\:[9[9\:\:\9\9\:\<][vzcabbbbba```acaaaa``abbbbbg砬yxxxxxxxxyx|{yxxxxxxxxx}Bc:\9\:\:\9\:\<^AbEf?c:^;\:\:[;[<\<]<^;^<\9\9\9\:\<][vzcabbbbbacdcbcabhlkfbbbbbbg砬yxxxxxxxx}xxxxxxxxx}Bc:\:[:[9\8\>_]x^y@a9\9[9[=\Tpqa~Bb9\9\9\:\<][vzcabbbbbbrjddooabbbbg砬s}hq{hq{hq{hq{pyyxxxxxxwz|wwxxxxxx}Bc:\:[:[8\9]Zu\w;^:]<]?`{Ol9]:\9\9\<][vzcabbbbbeqbkkbabbg砬enwu~yxxxxxxwxxxxxxxx}Bc:\:[9[8\=]Xv}De:\9\9\<][vzcabbbbafsd}|cabbg砬zvyxxxxxxx{yxwxxxxx}Bc:]:[:[9\A`{Jf{Pn8\8\:\<][vzcabbbaaftgpcbbbg砬y}yxxxxxxw~xxwxxxxx}Bc;\;[:[:\DdMhsFg9\8\:\<][vzcabbbaadsgpcbbbg砬xyyxxxxxxxz{vwwxxxxx}Bc:\:[9[9\EdKiVr<\:\9\9\;][vzcababcedsgxbbbbg砬q{yxxxxxxxxxwwxxxxxx}Bc:]9\9[;[GcOn;^ZuOn<[:\:\8\;][vzcabaahshhbbbbg砬q{yxxxxxxx{~xxxxxxxx}Bc:];\:\:\B`w}dFf=[<`tNn;[9]:\8\;][vzcaa`bkqcveaabbg砬znx|qzyxxxxxxx|xxxxxxxx}Bc:];\:[8\>]ug=^:]IjOm:\9]:\8\;][vzcab`beqbmaabbg砬ku~r{wkt}yxxxxxxwy{wwxxxxxx}Bc:\;[:[8\<\a}^{;]:[<][xOl:\9]:\8\;][vzcababbhrbjkaabbg砬yxxxxxxxxxwwxxxxxx}Bc:\;[:[8\9\A`ltEd:\:]9\=ahwEe:\:\:\9\<][vzcababbafnabt{eaabbg砬yxxxxxxxww}ywxxxxxxxx}Bc:\:\:\9]:\;[=_KiSpNlAa;]:\:\8\:\@_FeBc8^9\:[:\:\<][vzcabbbbbafsncabdjttkdcbbbbg砬yxxxxxxxwxyyvxzyxxxxxxxxx}Bc:]9\:\:\;[<[9\<[<[:\:\:[:\9[8[;[9[:\;\9[;[:[:\:\<][vzcabbbbbb``aaabaccaaaabbbbg砬yxxxxxxxxvwyyxxxxxxxxxxxx}Bc:]:\:\:\:[:\:\;[:[:\:\9\9\9\:\9[9\:\:\:\7[:\:\:\;][vzcabbbbbbcabcaaacbbbbaabbbg砬wvvxxxxxxxxxxxxxxxxxxxxxw}Cb:\9\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\9\:\9\9\;]Zvzcabbbbbbbbbbbbbbbbbbbbbbbg砬yxxyyyyyyyyyyyyyyyyyyyyxw~Cb:\9\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\;\:\:\<]Zvzcabbbbbbbbbbbbbbbbbbbbbbbg砬ywwyyyyyyyyyyyyyyyyyyyyxx~Cb:\9\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\;\9\:\<]Zvzcabbbbbbbbbbbbbbbbbbbbbbbg砬ywwwxxxxxxxxxxxxxxxxxxxwxBb:\9\9\9\9\9\9\9\9\8\8\8\8\8\8\8\8\8\8\8\8\8\8]8\;]Zvycababbbbbbbbbbbbbbbbbbbbbg砬ywwwxxxxxxxxxxxxxxxxxxxww~Ab9]8\9\9\9\9\9\9\9\8\8[8[8[8[8[8[8[8[8[8[8[8\9\9[<\[vzdcbbccccccccccccccccccbb`g砬~~~~~~~~~~~~~~~~~~~~~~~OkCcBcCcCcCcCcCcCcCcDcDcDcDcDcDcDcDcDcDcDcDcDcDbDbGdd~mkkkkkkkkkkkkkkkkkkkkkkkjr砬砬砬砬砬{hededddddddddddddddddddden~~~~~~~~~~~~~~~~~~~~~砬q`{^{]{^{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]z]{e}vxyyyyyyyyyyyxxxxxxxxvwwz砬q^{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{]{\{]{^{]{]{]{]{^{e~xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{]{]{^{^{^{^{^{_{e}xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{^{^{^{^z^z^{^{^z^{^{^{^{^{^{^{\{^{^{^{^{_{e}xwxxxxwvxyxxyxxxxxxxxwvxz硬q^{^{^{^{^{^{^{^z^z^{^{^z^z^{^{^{_{_{^{\{^{^{^{^{_{e}xwxxxxwwxywwyxxxxxxxxwvxz硬q^{^{^{^{]{\{a}gkjb~_{^{bjheegg^{]z_{^{^{e}xwxxxxyzwz~yvxwxxxwvxz硬q^{^{^{^{^zc}mbe~^{]{]{^{e}xwxxxxxyy|yxxxxwvxz硬q^{^{^{^{_|zih_{]{^{_{e}xwxxxwxxxxxxxwvxzpydmwgpyhq{hr{s~硬q^{^{^{^{b}jzc}_z^{^{_{e}xwxxxwxyyxxxxwvxzhr{~硬q^{^{^{^{`|yenemb~_z^z^{^{_{e}xwxxxxwx{xxxxwvxz|硬q^{^{^{^{^{c|cfxg_{gf]z\z^{^{_{e}xwxxxwxy{xxxxwvxzw硬q^{^{^{^{\{^|\{i_|]{\|h]|]z^z^{_{e}xwxxxwxy|wxxxxwvxz|pz硬q^{^{^{^{^{^{_zg\|_|c|b}ha~^z^z^{_{e}xwxxxxvx}vxxxxwvxzku硬q^{^{^{^{_znwd}mg^{]{^z_{e}xwxxxxxxzxxxxwvxzqzq{硬q^{^{^{^{^|b|e]{]{^z_{e}xwxxxwwx{xxxxwvxz}s|kt~y硬q^{^{^{^{\zj|^}oa}]{^{^z^{e}xwxxxwwy~wwxxxwvxzt~kt}js}r|硬q^{^{^{^{^z_|r~c}_za}vk]{]{^z^z^{e}xwxxxxwxwxvwxxxwvxz硬q^{^{^{^{]z]z^{c~gd]|]z_{^{_{c}fd^|[{]{]{^z^z_{e}xwxxxxwxwxz~|ywwxxxxwvxz硬q^{^{^{^{_z^z]{^{^{\|\|]{_z^z^z_z_z^z\{\{^{^{^{^{_{e}xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{_{_{^{]{]{^z_y`z^z^z^z`z`z^z]{]{^{^{^{^{_{e}xwxxxxxxxxxxxxxxxxxxxwvxz硬q^{^{^{^{\{^{^{]{\{]{]z^z^z^z^z_z^{]{]{]{^{^{^{^{_{e}xwxxxxxxwwwxyxxxxxxxxwvxz硬q^|^z^z^z^{^{^{^{^{^{^{^{]{]{]{]{^{^{^{^{^{^{^{]{^{e~xwxxxxxxxxxxxxxxxxxxxxxxy砬q^{^{^{^{^{^{^{^{^{^{^{^{]{]{]{]{^{^{^{^{^{^{^{^{_{e~xwxxxxxxxxxxxxxxxxxxxxxxy砬q^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{^{]{^{e}xwxxxxxxxxxxxxxxxxxxxxxxy砬s`|^{^{^{^{^{^{^{^{^{^{^{_{_{_{_{_{^{^{^{^{^{^{^{]{f~yxxxxxxxxxxxxxxxxxxxxxxxz砬pnnnoonnnonnooonnonnoonnnv砬砬砬砬硬硬硬硬砬砬砬砬o~u~s|t}s}s}s}t}t}s|wl}砬cnxnwdmvoxr|r|foxgpyqzr{w|dmw砬}q~dmvshqzyr{kucmvx砬fpys~{p|dmvp}xwfqzv|ku~dnuu砬o{dnxu~q{q}zenv砬nzdoxzkt~xcow砬rdpwkt~qz|tcnv砬r|gqydpvir|{jt}rhoxemv砬ju~fnxuit|hq{ir{~kuq{js}fmv砬sxoxq{s|oxur砬砬砬砬砬砬硬˟â\󝬻󡬶\         42            @>                    8󟬻󟬸6                            \˟ˠZ                                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         PNG

   IHDR   `   `   w8  IDATx[ˬ[W_խ$@ɖ2	7la[gm؉؇yc61/މ'ec %Z}%;YYVUW
]U_f8~Y:o[̼0W^.Þh~1XϣwDطYB	 ]uGWݺwqQY(O3}ε&pn	o@J5/̝w2`߾gܵy0лl]=DTfPXIgW7q\CC`;(coٳg'	쮖lֶt`mf J+1ֶ6o,P0:2ՎD4忬vqC_9_5g*Շ+MBU"$dأuD+G+!Jn/:iRY5rPOـւ5Q?S2N< 	jV'ULs^%[AS.\Jzu"r#G^'֭[d>G̙3,[֭[IRѱI8~6lp5%/|X@_x_xMꫯS<⥗_&Lr~Xw[wN>?Q}5EF5H(8bvV*b#Pu~6.V1-Ñc!*!OS?ѱ)z[oivΝ;̙3\y啱1ncLMMq?5ڛ|VT/UAZ>usU*Bc=F:fǎ===ͯkپ}{,jX,gvV:: V#12@㓾~Q%+V7};Rw\#OIEy1Z|_'LƢxOft$ǡ_Fm{'wgɒ1̀v~
LLNsa6lXOOOOrAN:3H|+_>,gΜa?VvK{}.ehh#[%Aau^}֬T&hÏf9sPZ[[P<SdY 3;ڳlڸ0:u`ݺ5Rɺ-ú%l Zr7s˃q\?A! H<A#/硿nÆi@XCqb\x!L/U+*I7(UAk\"/ CS߲(̈́ϥzJS)sjC,?9VĚ^"՟f0Y uuPEsS1Ν{uJFxGGFjԔV%?weddHH1h#K~H }4x/7690`"7Qc*FG=/SN2
s 8,A10Fsb"բ6&PŨz0Dj%pE	a.qm<dX,=EsJfdqtW(=:hCgX{/#KXj)jaUaam+a+> ##s3u]D|%D1"f>a@QZ$K@"xÕq+Q?C{G']đS\,02<XKB;+zA:#F#K9⌡ɼpiW3;(vA\K>5.Sv:Hm|IB)D/ٹw`DϪK]EQ1U̖kr/f2%0$"u04Ol J-C>E	bE>PS!C3|{N@MaYq峟H
-/+G@*?X&.[\"!JJқJ\.sW`elٲ!K"J\Wtr]vRrg.;nvZnP6IH,Z*j;5_ƗxށxJ%{ *9q9	y_#0=݈Mf2>oYg\)R d:)2ދ$&UUl۶ￏUVr<'^{'A+$)z>N6Bk2>\[¨J}R`P|1$ԩ7iYQ'A"ݻdhh͛7>$@qbFab'H"C2s@)K|qpں$(NkWp)y:;;ٶm ²՘#2q2Z(ZLk_+ FMCx627POS$uٵ N,P,yGf|[j8vP6B斯{L^k2oǹ&s$܈(82]zȢlrn x3i&8O?---<x?2Ȳdk+!}\ɮٵ3j
i<{/\ɒ1?DRQBȇ~D*OoG'JI??C[Ha$(g|\^`^ي2z1&zD5G]ioJ&?aM#܋PH'$65;ޓT#Aj9H$J-6,$v_$]\P%MHAvhmj&	H|f%BsSl4U).8!c0-*jtn|&\C"rYJxnr˜28eUMY4K,鬤|T0-RWȦX[Ƨ+>BTFזGWTt׊	
c%e(ƆQGERr|S#KXJm"oD6aÈme@:0!T#*\IHRh3xluuRncJ
HXkoC$RXbTZE"ՔŨAį_W[eltuuR|.DnLĢf@;0*,:NEf}Ɨ_Ъk0xtOY5@>c.R]5RP=::e"284\i%vV6qH^F}:?`IIkj>Ӱ =q[q5j8Jwa$ְC^!(HeF*"6) JnTU1\HUB}!b:57#ĔsW"Mϊ@}njOYqvX=.`#.VxT(H0S`q{\QUq4IL퓈LrXkk5Z-UihjjX7##(<?RQTbK˦`F<q	ł5	'zmW(3' ~=O?Gq[oMߩ>tH,Sm$.ۂڐaJ}pBYP	}IP܍_OÊbXe+d?S0]u=n{'gpDiA}	g5:֏0)jeF%ѣ<sݻ78%n;+nhԐ@C[`._Kv7I||x%IϞwVa1Sn+%zS28;1i8k,^ٸq#wO>G~4H4ĳLRCO'du	~%~_'+*	qw`_㛷"aʎ[JȡN܆ٴM7S*fIZFݣ?K͸jux,]vqw>Z*S}ol!u8"F"*NO75\w]&A<
u}AC40'Ĵ<>By*ƼdN:Eb:#Z|btDRP=~of׮]cn"d:j cC21IRf[h_2| $Ѩ~MUUw{GmaA5J1KV~ׂ(ݻQx:::b!9!})~ORвz$,E	<rx1^;lSW%zٍXݿ$_Pb]$=	UՇGMu|OcA
0+Yp5Ā#G['رc⋱4u O۰O,F=JK;1n#+ac?̓xmd|NW	G%ES 0;Krz+IuX!ZI	}]=믿)N&ݱ7}D2Aὗp՛	k%
齏a	ɞ^&+?"W$z)(sdN/X(M7KLy-˒?o7/5dcEcL ԫD8[-"9@rO7&e|j;$cI2;Sz1Jpq	9iÝʑ)0!3u)X(88alIơ, Jej I^Z"ꂒ43U5t!Fk/lYV V140OwoLg^ůNКd=j2&qUw'Zɢ^ '5K锯N!Vn䨄&8=c(%F$2م^3g@$}XY,4*[F$I#
*p!ef
fT		]hup?ԉ3F@\Z8>H-3CʹpW5l@+Xkad>x:MX7"yZpcRTf5r1Ք䬌֩DDY΋&ͯ{&̥k+5bhxDj*";GVaogUL0c`l>"UH'	Z3Բ錰: [%4Cu2VAR_.P5g?_1/~(9'X 1USAe|?H8LT
M-BTJg,|_9WP)T-rNaIwmEbW06c||J)RSLOJ$c;M0G8sC>Ձ/>)J<f0`vY
u%u	wvakY\H!22+bX9,i,rNrO3ה8>.>^0_]D8?#.a.UkMMmZT
]>b]hzJi/߈V>$W\^);9oi#Ӆ0MQ)ӫדmRk	n"{7I\Gv]57Uo߿=x$:{;nݔ|T}-21&?CffɑF\3\ƂOK"#/;3Rn
Djz kGELW`d$/[pAL
_hJ'`[г䗿FqeQygZJx#%E	kOS<&}|@kyXn}>swx?þ`,̥khQj0m˔KFH^+X_cԏ)뗀6nqa4'7g^JIXV2\:aAPh0vQ2WtqRIǞ2.nq#;vM`_%Mϐsrn8V)O-wx&ڍ79Bjj4;o	YsrCL:dd<yw GOˇoL#$SPS2@*e\u/=+UZW*P,:mhԷ+y`jN*R3)z&w!aR8FfOMR22I¢z~~0eZSp5w"?s4t-ufw/5aNGmeD.؊{i e~L__ʻe죲Uxe/{~Ǔm/VxFJdjm	aLN1/Kԙ~Uk|fd&|_Ȩ+Vbُ={FYt$
??d ]E3ꫮԔ"͌ ۜ
A:hE*5?}?oO=`xmv|Y$դ`@Ỏ˯sKxZg4    IENDB`
module("G2048", package.seeall)

local ___rawset = rawset
local ___pairs = pairs
local ___ipairs = ipairs

ALittle.RegStruct(-1842382794, "G2048.ItemInfo", {
name = "G2048.ItemInfo", ns_name = "G2048", rl_name = "ItemInfo", hash_code = -1842382794,
name_list = {"item","row","col"},
type_list = {"ALittle.DisplayObject","int","int"},
option_map = {}
})

g_GConfig = nil
GCenter = Lua.Class(nil, "G2048.GCenter")

function GCenter:Ctor()
	___rawset(self, "_loop_group", {})
end

function GCenter:ClearAnti()
	for k, v in ___pairs(self._loop_group) do
		if v:IsCompleted() == false then
			v:SetCompleted()
		end
	end
	self._loop_group = {}
end

function GCenter:Setup()
	g_GConfig = ALittle.CreateConfigSystem(g_ModuleBasePath .. "/User.cfg")
	ALittle.Math_RandomSeed(ALittle.Time_GetCurTime())
	ALittle.System_SetThreadCount(5, 2)
	self._main_layer = ALittle.DisplayLayout(g_Control)
	self._main_layer.width_type = 4
	self._main_layer.height_type = 4
	g_LayerGroup:AddChild(self._main_layer, nil)
	self._dialog_layer = ALittle.DisplayLayout(g_Control)
	self._dialog_layer.width_type = 4
	self._dialog_layer.height_type = 4
	g_LayerGroup:AddChild(self._dialog_layer, nil)
	g_Control:CreateControl("main_scene", self, self._main_layer)
	self._max_score_text._user_data = g_GConfig:GetConfig("max_score", 0)
	self._max_score_text.text = self._max_score_text._user_data
	self:Restart()
end

function GCenter:ShowMainMenu(content, show_back)
	if self._main_menu == nil then
		self._main_menu = g_Control:CreateControl("main_menu", self, nil)
		self._dialog_layer:AddChild(self._main_menu, nil)
	end
	self._main_menu.visible = true
	self._menu_content.text = content
	self._menu_back.visible = show_back
end

function GCenter:Restart()
	if self._main_menu ~= nil then
		self._main_menu.visible = false
	end
	self._score_text.text = "0"
	self._score_text._user_data = 0
	self._data_map = {}
	self._data_map[1] = {}
	self._data_map[2] = {}
	self._data_map[3] = {}
	self._data_map[4] = {}
	self._loop_group = {}
	self._tile_container:RemoveAllChild()
	self:GenerateItem(0)
	self:GenerateItem(0)
	self._item_moved = false
	self._loop_delay = 0
end

function GCenter:GenerateItem(delay_time)
	local list = {}
	local list_count = 0
	local i = 1
	while true do
		if not(i <= 4) then break end
		local j = 1
		while true do
			if not(j <= 4) then break end
			if self._data_map[i][j] == nil then
				local data = {}
				data[1] = i
				data[2] = j
				list_count = list_count + 1
				list[list_count] = data
			end
			j = j+(1)
		end
		i = i+(1)
	end
	if list_count == 0 then
		return false
	end
	local rand1 = ALittle.Math_RandomInt(1, 100)
	local number = 2
	if rand1 > 50 then
		number = 4
	end
	local rand2 = ALittle.Math_RandomInt(1, list_count)
	local row = list[rand2][1]
	local col = list[rand2][2]
	self:BornItem(number, row, col, delay_time, true)
	return true
end

function GCenter:CalcLeft()
	local moved = false
	local i = 1
	while true do
		if not(i <= 4) then break end
		local list = {}
		local list_count = 0
		local j = 1
		while true do
			if not(j <= 4) then break end
			if self._data_map[i][j] ~= nil then
				local info = {}
				info.item = self._data_map[i][j]
				info.row = i
				info.col = j
				list_count = list_count + 1
				list[list_count] = info
			end
			j = j+(1)
		end
		local new_list = {}
		if list_count == 1 then
			self:TransItem(list[1], i, 1)
		elseif list_count == 2 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], i, 1)
			else
				self:TransItem(list[1], i, 1)
				self:TransItem(list[2], i, 2)
			end
		elseif list_count == 3 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], i, 1)
				self:TransItem(list[3], i, 2)
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], i, 1)
				self:CombineItems(list[2], list[3], i, 2)
			else
				self:TransItem(list[1], i, 1)
				self:TransItem(list[2], i, 2)
				self:TransItem(list[3], i, 3)
			end
		elseif list_count == 4 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], i, 1)
				if list[3].item._user_data == list[4].item._user_data then
					self:CombineItems(list[3], list[4], i, 2)
				else
					self:TransItem(list[3], i, 2)
					self:TransItem(list[4], i, 3)
				end
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], i, 1)
				self:CombineItems(list[2], list[3], i, 2)
				self:TransItem(list[4], i, 3)
			elseif list[3].item._user_data == list[4].item._user_data then
				self:TransItem(list[1], i, 1)
				self:TransItem(list[2], i, 2)
				self:CombineItems(list[3], list[4], i, 3)
			end
		end
		i = i+(1)
	end
end

function GCenter:CalcRight()
	local i = 1
	while true do
		if not(i <= 4) then break end
		local list = {}
		local list_count = 0
		local j = 4
		while true do
			if not(j >= 1) then break end
			if self._data_map[i][j] ~= nil then
				local info = {}
				info.item = self._data_map[i][j]
				info.row = i
				info.col = j
				list_count = list_count + 1
				list[list_count] = info
			end
			j = j+(-1)
		end
		local new_list = {}
		if list_count == 1 then
			self:TransItem(list[1], i, 5 - 1)
		elseif list_count == 2 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], i, 5 - 1)
			else
				self:TransItem(list[1], i, 5 - 1)
				self:TransItem(list[2], i, 5 - 2)
			end
		elseif list_count == 3 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], i, 5 - 1)
				self:TransItem(list[3], i, 5 - 2)
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], i, 5 - 1)
				self:CombineItems(list[2], list[3], i, 5 - 2)
			else
				self:TransItem(list[1], i, 5 - 1)
				self:TransItem(list[2], i, 5 - 2)
				self:TransItem(list[3], i, 5 - 3)
			end
		elseif list_count == 4 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], i, 5 - 1)
				if list[3].item._user_data == list[4].item._user_data then
					self:CombineItems(list[3], list[4], i, 5 - 2)
				else
					self:TransItem(list[3], i, 5 - 2)
					self:TransItem(list[4], i, 5 - 3)
				end
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], i, 5 - 1)
				self:CombineItems(list[2], list[3], i, 5 - 2)
				self:TransItem(list[4], i, 5 - 3)
			elseif list[3].item._user_data == list[4].item._user_data then
				self:TransItem(list[1], i, 5 - 1)
				self:TransItem(list[2], i, 5 - 2)
				self:CombineItems(list[3], list[4], i, 5 - 3)
			end
		end
		i = i+(1)
	end
end

function GCenter:CalcUp()
	local j = 1
	while true do
		if not(j <= 4) then break end
		local list = {}
		local list_count = 0
		local i = 1
		while true do
			if not(i <= 4) then break end
			if self._data_map[i][j] ~= nil then
				local info = {}
				info.item = self._data_map[i][j]
				info.row = i
				info.col = j
				list_count = list_count + 1
				list[list_count] = info
			end
			i = i+(1)
		end
		local new_list = {}
		if list_count == 1 then
			self:TransItem(list[1], 1, j)
		elseif list_count == 2 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], 1, j)
			else
				self:TransItem(list[1], 1, j)
				self:TransItem(list[2], 2, j)
			end
		elseif list_count == 3 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], 1, j)
				self:TransItem(list[3], 2, j)
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], 1, j)
				self:CombineItems(list[2], list[3], 2, j)
			else
				self:TransItem(list[1], 1, j)
				self:TransItem(list[2], 2, j)
				self:TransItem(list[3], 3, j)
			end
		elseif list_count == 4 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], 1, j)
				if list[3].item._user_data == list[4].item._user_data then
					self:CombineItems(list[3], list[4], 2, j)
				else
					self:TransItem(list[3], 2, j)
					self:TransItem(list[4], 3, j)
				end
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], 1, j)
				self:CombineItems(list[2], list[3], 2, j)
				self:TransItem(list[4], 3, j)
			elseif list[3].item._user_data == list[4].item._user_data then
				self:TransItem(list[1], 1, j)
				self:TransItem(list[2], 2, j)
				self:CombineItems(list[3], list[4], 3, j)
			end
		end
		j = j+(1)
	end
end

function GCenter:CalcDown()
	local j = 1
	while true do
		if not(j <= 4) then break end
		local list = {}
		local list_count = 0
		local i = 4
		while true do
			if not(i >= 1) then break end
			if self._data_map[i][j] ~= nil then
				local info = {}
				info.item = self._data_map[i][j]
				info.row = i
				info.col = j
				list_count = list_count + 1
				list[list_count] = info
			end
			i = i+(-1)
		end
		local new_list = {}
		if list_count == 1 then
			self:TransItem(list[1], 5 - 1, j)
		elseif list_count == 2 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], 5 - 1, j)
			else
				self:TransItem(list[1], 5 - 1, j)
				self:TransItem(list[2], 5 - 2, j)
			end
		elseif list_count == 3 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], 5 - 1, j)
				self:TransItem(list[3], 5 - 2, j)
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], 5 - 1, j)
				self:CombineItems(list[2], list[3], 5 - 2, j)
			else
				self:TransItem(list[1], 5 - 1, j)
				self:TransItem(list[2], 5 - 2, j)
				self:TransItem(list[3], 5 - 3, j)
			end
		elseif list_count == 4 then
			if list[1].item._user_data == list[2].item._user_data then
				self:CombineItems(list[1], list[2], 5 - 1, j)
				if list[3].item._user_data == list[4].item._user_data then
					self:CombineItems(list[3], list[4], 5 - 2, j)
				else
					self:TransItem(list[3], 5 - 2, j)
					self:TransItem(list[4], 5 - 3, j)
				end
			elseif list[2].item._user_data == list[3].item._user_data then
				self:TransItem(list[1], 5 - 1, j)
				self:CombineItems(list[2], list[3], 5 - 2, j)
				self:TransItem(list[4], 5 - 3, j)
			elseif list[3].item._user_data == list[4].item._user_data then
				self:TransItem(list[1], 5 - 1, j)
				self:TransItem(list[2], 5 - 2, j)
				self:CombineItems(list[3], list[4], 5 - 3, j)
			end
		end
		j = j+(1)
	end
end

function GCenter:BornItem(number, row, col, delay_time, anti)
	local target = self["_tile" .. row .. col]
	local ui_name = "item_" .. number
	local item = g_Control:CreateControl(ui_name, nil, nil)
	self._data_map[row][col] = item
	item._user_data = number
	self._tile_container:AddChild(item, nil)
	local target_x = target.x
	local target_y = target.y
	local target_width = target.width
	local target_height = target.height
	if anti == true then
		item.width = 0
		item.height = 0
		item.x = target_x + target_width / 2
		item.y = target_y + target_height / 2
		item.visible = false
		local loop = ALittle.LoopAttribute(item, "visible", true, delay_time)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
		loop = ALittle.LoopLinear(item, "x", target_x, 100, delay_time, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
		loop = ALittle.LoopLinear(item, "y", target_y, 100, delay_time, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
		loop = ALittle.LoopLinear(item, "width", target_width, 100, delay_time, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
		loop = ALittle.LoopLinear(item, "height", target_height, 100, delay_time, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
	else
		item.width = target_width
		item.height = target_height
		item.x = target_x
		item.y = target_y
		item.visible = false
		local loop = ALittle.LoopAttribute(item, "visible", true, delay_time)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
	end
end

function GCenter:TransItem(item_info, to_row, to_col)
	local target = self["_tile" .. to_row .. to_col]
	local target_x = target.x
	local target_y = target.y
	if item_info.col ~= to_col then
		local loop = ALittle.LoopLinear(item_info.item, "x", target_x, 200, 0, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
		self._item_moved = true
	end
	if item_info.row ~= to_row then
		local loop = ALittle.LoopLinear(item_info.item, "y", target_y, 200, 0, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
		self._item_moved = true
	end
	self._data_map[item_info.row][item_info.col] = nil
	self._data_map[to_row][to_col] = item_info.item
	if self._loop_delay < 200 then
		self._loop_delay = 200
	end
end

function GCenter:CombineItems(item1_info, item2_info, to_row, to_col)
	self:TransAndRemoveItem(item1_info.item, item1_info.row, item1_info.col, to_row, to_col)
	self:TransAndRemoveItem(item2_info.item, item2_info.row, item2_info.col, to_row, to_col)
	self:BornItem(item1_info.item._user_data * 2, to_row, to_col, 200, false)
	self._score_text._user_data = self._score_text._user_data + item1_info.item._user_data * 2
	self._score_text.text = self._score_text._user_data
	self._item_moved = true
	if self._loop_delay < 300 then
		self._loop_delay = 300
	end
end

function GCenter:TransAndRemoveItem(item, from_row, from_col, to_row, to_col)
	local target = self["_tile" .. to_row .. to_col]
	local target_x = target.x
	local target_y = target.y
	if from_col ~= to_col then
		local loop = ALittle.LoopLinear(item, "x", target_x, 200, 0, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
	end
	if from_row ~= to_row then
		local loop = ALittle.LoopLinear(item, "y", target_y, 200, 0, nil)
		self._loop_group[loop] = loop
		A_LoopSystem:AddUpdater(loop)
	end
	local loop = ALittle.LoopTimer(Lua.Bind(self.EraseItem, self, item), 200)
	self._loop_group[loop] = loop
	A_LoopSystem:AddUpdater(loop)
	self._data_map[from_row][from_col] = nil
end

function GCenter:EraseItem(item)
	self._tile_container:RemoveChild(item)
end

function GCenter:HandleDragBegin(event)
	self._drag_total_x = 0
	self._drag_total_y = 0
end

function GCenter:HandleDrag(event)
	self._drag_total_x = self._drag_total_x + event.delta_x
	self._drag_total_y = self._drag_total_y + event.delta_y
end

function GCenter:HandleDragEnd(event)
	self:ClearAnti()
	self._item_moved = false
	self._loop_delay = 0
	if ALittle.Math_Abs(self._drag_total_x) > ALittle.Math_Abs(self._drag_total_y) then
		if self._drag_total_x < 0 then
			self:CalcLeft()
		else
			self:CalcRight()
		end
	else
		if self._drag_total_y < 0 then
			self:CalcUp()
		else
			self:CalcDown()
		end
	end
	if self:CheckGameOver() then
		return
	end
	if self._item_moved == false then
		return
	end
	self:GenerateItem(self._loop_delay)
	if self:CheckGameOver() then
		return
	end
end

function GCenter:CheckGameOver()
	local i = 1
	while true do
		if not(i <= 4) then break end
		local j = 1
		while true do
			if not(j <= 4) then break end
			local item = self._data_map[i][j]
			if item ~= nil and item._user_data == 2048 then
				self:ShowMainMenu("Victory", false)
				if self._max_score_text._user_data < self._score_text._user_data then
					self._max_score_text._user_data = self._score_text._user_data
					self._max_score_text.text = self._max_score_text._user_data
					g_GConfig:SetConfig("max_score", self._max_score_text._user_data, nil)
				end
				return true
			end
			j = j+(1)
		end
		i = i+(1)
	end
	local i = 1
	while true do
		if not(i <= 4) then break end
		local j = 1
		while true do
			if not(j <= 4) then break end
			local item = self._data_map[i][j]
			if item == nil then
				return false
			end
			if j > 1 and (self._data_map[i][j - 1] == nil or self._data_map[i][j - 1]._user_data == item._user_data) then
				return false
			end
			if j < 4 and (self._data_map[i][j + 1] == nil or self._data_map[i][j + 1]._user_data == item._user_data) then
				return false
			end
			if i > 1 and (self._data_map[i - 1][j] == nil or self._data_map[i - 1][j]._user_data == item._user_data) then
				return false
			end
			if i < 4 and (self._data_map[i + 1][j] == nil or self._data_map[i + 1][j]._user_data == item._user_data) then
				return false
			end
			j = j+(1)
		end
		i = i+(1)
	end
	self:ShowMainMenu("GameOver", false)
	return true
end

function GCenter:HandleRestartClick(event)
	self:Restart()
end

function GCenter:HandleBackClick(event)
	self._main_menu.visible = false
end

function GCenter:HandleMenuClick(event)
	self:ShowMainMenu("", true)
end

function GCenter:Shutdown()
end

g_GCenter = GCenter()

module("G2048", package.seeall)

local ___pairs = pairs
local ___ipairs = ipairs


function __Browser_Setup(layer_group, control, module_base_path, script_base_path, debug)
	local window_width = 720
	local window_height = 1280
	local rate = 0.5
	local flag = 0x00000020
	if ALittle.System_IsPhone() then
		local screen_width = ALittle.System_GetScreenWidth()
		local screen_height = ALittle.System_GetScreenHeight()
		window_height = ALittle.Math_Floor(screen_height / screen_width * window_width)
		flag = ALittle.BitOr(flag, 0x00000001)
	end
	ALittle.System_CreateView("2048", window_width, window_height, flag, rate)
	ALittle.System_SetViewIcon(module_base_path .. "/Other/ic_launcher.png")
	A_ModuleSystem:LoadModule(module_base_path, "G2048")
end
__Browser_Setup = Lua.CoWrap(__Browser_Setup)

function __Browser_AddModule(module_name, layer_group, module_info)
end

function __Browser_Shutdown()
end

g_Control = nil
g_LayerGroup = nil
g_ModuleBasePath = nil
function __Module_Setup(layer_group, control, module_base_path, script_base_path, debug)
	g_Control = control
	g_LayerGroup = layer_group
	g_ModuleBasePath = module_base_path
	Require(script_base_path .. "GCenter")
	g_GCenter:Setup()
end
__Module_Setup = Lua.CoWrap(__Module_Setup)

function __Module_Shutdown()
	g_GCenter:Shutdown()
end

function __Module_GetInfo(control, module_base_path, script_base_path)
	local info = {}
	info.title = "2048"
	info.icon = nil
	info.width_type = 1
	info.width_value = 720
	info.height_type = 1
	info.height_value = 1280
	return info
end

PNG

   IHDR         f  FIDATx]wy93֝HA,f:JS$7.e]Epe7"ƩV$q2V`vӍ`ɜ>.林l7:νg5̅;^=uG p$R/	l@lB֦|}g)4L⩓O<	a3H1d~ qƻh?]3B)1Hwo{_&p8ÈW51~1L ^^uRC3S]~rp#  FIjkRm.a3m}f⩕Kw$1nR'%T@g⋋$$ K^k	o
]Rҗm7?y[zf8v(3Cp! v~XЉm  m[{GM:C`i ?..>HLDtWa^@#huK< B8q/{޳96'ӷ-ln2a1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqV`1XqVЇ$ A?!;8?H ~Bvp3X	I"5|fGlI
x`ځ/H |+o
s;Ï߱9	h祥;̳l i%q76@/sTD@@f_V	$AzC ipDMtA|? 57a  _*tHzݾ S̭kA o>~c2yCЕ~@2@zUHFte)zߝHR/=XZovy/9kƙ6M>sWʥ;iuڶyam[6K>{n:XGמ#}߿! ׏ͫ/|Pk}wÈ#AO5z\gg )<v7l~>3?&2~v;ea/!LG IqW/,giQ+DJ>P&Ð?=qmL{?<h
.{    IENDB`PNG

   IHDR         f  IDATxkpTg=Wh@H$Ҫhceu^TkZ1m0Ψt~PQp騣X+R )r	l=7?M={&9	O=0wU+;>'3]{KmC{W`&@wcמEeڻ9	drRD&ȐvX9u w2 j,bpݥBcȋJ#Ppe@^zkOؑ{:+!n `i-mu]	֑R3cPzJd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,Hd ,HBʁ	>vf0LP`L-#sZ6Zv3&01dz
胩'TQ5!ztZ`Pok0Mh^d/e*l 7ڄ{/ {0u2k-s}`竚[jbpBK6A
;܃A
w@
w?H{١ݮY.U.b""GB]?T՜U39ͺ& ߌOAGQlpYڕs)¸v}s5}<GQ01Pռ?K6\z
Ks8W`~tND9\Wr0oukU$A*A,@d6H5U&j&3zQ^XqEXu&n1 &H`bo6`.(0YSOAϷF}Bj!լ0LFpὈ	TG _`Rw1)~ߧR{9#ozLMZ`"s?FCvp܃jGCPfWbzrq?"ur#7_֬TL
#tcxrIȍ'(B-ы̀s]1~ㆊ;OcN~f>d/#z
96Kz3
rƓ2(]ܘG.adο6=pgv y|,:_n|ߤZxRf9sD|n7r)AH6mFQH5+lhFmwݖ	_TYAJAL
C7sjt<ZLm;^PV<<n'#͙vC,w#}?G:U)HUSO@O;dB\Q!`o9%	Pד\wsN}2xh \vDD[\JjۮG*_nȵe/SϺ`33]221Vn Bkܸ;=uq>;)$/S<'"ܘewۮ}:{ǹބb]?(mOJ
]~v9"7Ly߼vyX~	KΒ	r\Gџ],:FW"~0G8_HᎢ:*{2nO] crCi OhxJ0|MiU:s2ʍ>mojr]ҸG:}@=(lEhwƌ G.W]i!t{j:S5摒"{#+@`bZM-wtQ˪-P3&O^C]ōslE1#- B7&ZMudE_\v2[ly6յQ=Sf
eևƲ?r'ͪ&ϳP9 gWl3AAh(pӧ?SlVf߆ٕ]WZw΂> u5~=6	6"aRbNhr-"lEPG^xN!nwX-oJ ZP)HN6{Iag: 1eZ۱  ɶWBk#&
+݄OOǶ"qlkEST1 d^DpWQBWoFw+#\qcA~;OCOm{(sTI >u7˵#IuH.B.(>F)Sf݊`cRN20ҧ}u%D+> {<ԉ*SO :rRx)"`iL
{Y=L+d=̹+X{Xoғc w@Β1H=ч(oFY  yIy b7M劧e"~h#	艷1}W>3a{ eEZ1j? =5,Uտn`"ˠ4| bXAda13Т~v=(GBLh7ޘBf$3S
@X@X@X@X@X@X@X@X@X@X@X@X`tW2A2 LݤnxAKV5bf%r7q`դ%3AS卩В  a:8\Ɍ} ѤIG+S7F&4*eMf(0p
MB(1PGRP
2b02@+#"s!VL@08}L@<9('
 
ެeQdi1ƑNnb;e/Ƒ86H:B _ >Y$arPPD:uL݀BMfǳ0OȽ@%= VmPW}D6|泻uCߚ'vp2&G7Mnk!]Ͽ`jy' g/o&f
{O~0vJK" kZ7YɂiA>t8 /ON~]_5ȍ4]O;	ϱ@`2KC!1.v#79K(dMG    IENDB`PNG

   IHDR         LA  IDATxo\Gǿ3kcǎ8'vBIVmCKAZBEDKUmPhD+ 1TQIJWHNl뵽ᇻvrww|$K3'=̙	q  r p}( DPImw(RQA]
O?,b<a+J [+k1m'gHhY|m(ԋİXhpOïxM,6ާahC,vO><DϼB,z^¨B,R9=m	 x\!&xX-bqA | $	A | $	A | $	A | $	A | $	A | $	A | $	V7_:SOum`zHL@CÝ8NV `
x<Pxl)LCX *gG&P(vVOr; {S:p>sc {RM[VLp0} '{Ŗ &:\jTM[6 {Co{^4hm;-`~$m톓}XyDzX}0oz88σ׭ye@ڥ]hEb#6md(6gR'WAIhLkFr12Jj=@)'V ;rCm`
U@rc`ZcP1TWTJT$:[SnU{*D[~W8@[v;x0z{?n/0q0%RSBL<L  %\SNsN]>HkRX`\Sw@m%S6N|A #)o\	zXwW}JxIXo@Z*(<ye@Aи_5rLkQwCm-%qÁXXŃŨH;o?;}7w2G``/7wWzA#Ӄo.H7X	_+f/1{Y9Ե=O N(?!HSY:Lm.W݉O!]#	7{tNJ	C0N={-Xvml q
S˧bؙҨZF56C%_F!SR\+4atKj/sq!\i3%t"ڊȜ<4.@pM񺎈9SCg:EQ<w[mekHt<o 2xP+]81FIſFWwO"ƅt#"_&>7k^ׁDwa-9tU9Sꡯz ʒM}ýn.N-c
y+!:!H;X'#Ж	lP܊g~*1=P[Jvvp"/z&R0Ͼĺ'GLֺZv8BIS/'L)GnS`)<4M[#|h\ Db#A0/ɾ_R¼Ӆl09+<X 2Ja2FX)^G9_ Qhm˲RZ#0ϕ<UC_p}h=ҿ &ϔ[|l1 ^&Xr܊JeCh;l'&[Y}M[z `'F)&X +E!ԖЖ1F`}n}
}עA:pC:s
<َd4PMQXtBmzݡ3̋ePl~s0o e;[T$V?SXp'>-پ P[`3A0=0/83,
p/'	1GbC`%.hpYMu?qW6أ0/ɼYaJ,
AhzH?7\S2L|S`a\ywxXo Ҹ9҄VTj\{r¸#,O.1%.9>](SXPh7wf?a5N*ML_sY*)#Q(C:٣0ϼ SG%B8o57djkz[-\aSRS6$~+|?t`(y*%/=T/jeB+r_4N$:ѷ?v1xm LXZ н/q&քPoDbW"0ۀQ؃o]5<VDgaG0i}QLDMBo|_Ka` c]>Lm@7{x0(K>}]KRp'RXH8޾hGi#k6$qF߃|s]{se#HgHALPp^T%O a<jԑ *0a\ʛ`}	"a
D S>u'ɧ8!*taa-@]i-~p'N=!f&,w|ÉpJj=xr2/Pɺ;V&=
axӱo+FjO$悰wdV( | $	A | $	A | $	A | $	A | $	A |piW>6ܹCD?yraDxQH;í̓YkЁKs .\Sa(;xO%-D~R@AtPA,>D6=}HĔ;Rsp&I8-aef{qm"ӾA|Sx"7X]yA9؃ NY z||Lq̢4 ߁@&lswo8TB7?k0 	fdOCw
 /o;nSif! V P8=sp~ !W"LTaLޥs*{P DNNT { ~>O˱ާ1=ۃCPx7fTpZJޣWyճ2w.7ZyCe
E /čW @fզ@OswJ =m hQ/v{(Qf7v    IENDB`PNG

   IHDR         f  \IDATxy}uiEFB6Gl"%TD6C2Ml\.۩ q0	 A0",hѱnhG\}T{n b䫵1WOa5`Ӣ#`VS2i|4!HX[ZcrgA&Ɯm+tڡ<- "p/"R0Y`"@Dc&~7%8Tc߼ABc3]iIdA N;ݴG,` "ÁxA77o1  N& ܿyRoKY7[*0?-s#ǟFNnmJÖL~ lD)2lP<t/3(DܵD3+?4Ya,]M
 {lEuf<m B9	" wW3c".NdR ᦔ]  ΰa0tgbaR}C1]a+E0dqf |P@D|ﶄDV
 $b0ۖ*xz<RV Ll,l5A!SH0A$" a	HD@ 0A$" a	HD@ 0A$" a	HDvfRPshP=뀇`߭v+5cYs-T}#p p%`/ZuNk> b0'>[0':+̈0P]3At&Dy>HPsA͙m=0'?/{^Zʌ}|*Ǿh5b	5g^I.D;ԍ?WՖ<uZ&  }$n+Y
sغe*ê3xK
B;]3%j7=0];Cg5K /)y*"˯BYzro({=n¾p%b	uֹUm5A/}3)^UZV bo6ށ=>v<T{
m`-`O̜!JD]	X6(VJ46r9Bͻ W*kNt"?>|T7a)b<3?x(UG@ͻ ?tSVw0ǐyTw#7Q[ liױFP}3"aˌMۋk\l"+8ԊKǎTE!aCU@w/ܒʒ0BFX/99
4+khMeU| 鼰;#h6h5lwX=p`}ѥjfYlb0] D"˯}JXm97ȻBQ'-48;J4-^#Լw9LGp^|^k%jI
P1;PwVP]9UD{٧~Rd51b ֣ϚKP[,iV$>_0DS_ƿZ*X7U?	C݄
U5M"lN{o~=	ւ%_ȥ@q}P-r[KPh
a0}Ἴ;seѤz`R=w]-_Sn[wM%!D0_PK<B:tX	C!+vc?5GPec?oI\~NqKHP!E:;R:AP3}M@7PLPUf;T9vz:P((bI
B{Ak,lLuKPt9@Xq?QRʅJI0'o(j&-ùN0w`%.ҾkB\}J-	(<
\wCmUC?x?Vr&a痡Q][{ъ	ً/C|7܃GMrr:`_2iYt60}am}e ILE0#Qw>kPᙐp^|tz&ơ?:XG8u0L =L?owVH&b4Oaӝ>O$aY=t/˲헐y>eS!s/\؆/^O-,	x{5DoBdƢXjNt}pygUv|7W`7'd~Iz
CtVj20]?vj#~KI" a	HD@ 0A$" a	HD@ 0A$" a s/jX=X _ፒ3	a8}Yi0^mUM	N6jns=C"5Q:p˙Z{ b2drݞiB;|*XNi2΃49̛,@#ghߏBY cnGـMf;/:)hCWg " 7 q=S6=TP/3Xn(t 6Yh@`|=Ȥ]<>DsA*Xz:O."E?փLj 	lBx9=]'<@)("0 ڵaՍ}0l˘ҽ8A?#0H3C1f#V.+3#݇ta(@PD@6ű#GlVx9o]5ƀKVB!xc=b0k3A6=|kmEv ;n ˼g3MRザ42}id×ʲ`E*'&;#I;b'e`SDQ7	Ǝ ܡ?N
> Pd~z^A0(?+W_6w$0" `ܺ2?da"ԬY8	EI+	[,gJ*-mF}e}pc0k 'Pvfd0ܯ@0,tUX@[fg(jswx01-[-^cQF\ֶw%a
LBm9R(_)`dQhzح[,yv(!z, h8^x    IENDB`PNG

   IHDR         f  IDATxVWOy q;nMwλ
BAy8b&I<4AUn@Q)[q[uk:wo x`z>Cea<ۼo5v\f`w ;X 0\a"RY?Ȅ4O$<0i|]dM saȎoVY%`l  ̃A- e;3a@f2zLdg?YSڼaJrs XZ
~	UPYe(gլʃT	UEQĢb1$q4tvrvMMp8.|-:X x>'I[ZՍ^+-2xNxY$ۃ1x< x.}ceۄ!`}uH~nЈ}Xh4EÃ  {7+T|DYM
M,MӰD"az/_jjf0> lѡ3w\o!m\Ʀ&\nh9i{t My-fJ:[gaht.{;ϡi,mtL8].߾o](nO t1ab&[!zgqxmpd_7uK%FJQ_~np=HE*kĩ-
>A~ʉ6EQ(tv$T7P@$ҵ/PWWoB5a
8>:ծJ04N\<{{HڞpF:]mlC p΋-$N\Ã}ݗգ0 sa{kCwQHtJLxi NtvتN/Ǌ_d{OL\u6b}mO, C{\u2bcml'a`UֳYQUVpQ!g CCUAU3#B)A}S0(է%mFp֠UC:;k(/@>IY{oAw:XOtGp:sWw\Yym¡ ֖t߃_EKk/[;C{o0f0}85ݏi︒6g0y^ln
<g"ag{{hwZ]ŇAIGڻ\.LL}kU:cHE߅-2-/sOm.
=28T*R$M|D@@@@@@BEtő)JY]`(CUTn&\dor"IՅdYID^Uk!d"^/@Xp=ֿ pHPTUA$Ҁl4Uu~k"K~h CBUEBX3|H	Ӌ"%N\4UģS#sţ~|m	4U%|kUǣO ``E#hniCCsuB cktP[Wں:A^,].UU HHc  ̣P*Pr01`&9 ?19 ;~0౅ŐugC VTCDf gLh1$B:eߘGD^!gkI+d<~uÐd=͒Tv v09}Yd6!FX@fQ&#7C*ً#    IENDB`PNG

   IHDR         f  BIDATxye[tOdrp	$ 	Wŋ]\EpY<VWq=x!!$9$d̤gzgLUū$O>z+Sz}	>0@0=>>0s 5xSaTn dƯ/cͦdZ}{y:˝WI)iI%cAxn3S_ "0m&p1	DDoivm4hCŗZ65\*J.̰%CEXTJB&{ܱ|Rf^Шْ`@kƫl[[WofWLt%FlF@i+:A9) ׎?^/\#J2 (1I,H23/zw|#3q"B,܄
I2bͱ~ -niI0 n<c@ bQĖto  Je`6 IjN3P@w}2 "$Ym3@ 5+}@` LR$Zsf5"[2X9c%!( /k tAZ"0fZ!(lS&&U* &҅2R%78~QbP8(1(J
%AAĠpPbP8(1(J
%AAĠpPbP8(1(J
%AAĠpPbP8(1(J
%AAĠpGTq2Th	@H!"3lFkh=zdP3H	YuLm42D4τ
D!mByR޿/LbW!ܾ"Z4ܽmGq`4a !<BDO
Ao^#
~3~k#2b4/ӾWAզoGdSfݫQ|Q ]˃:ʦ jqH,)K \'z~hECԺR
kҮUu׭=>mW~G<#҂hs5&cKH?5X=:!#A!e,qJM>CpPQy%_AI飼^hww% \x^? =B]ha BmFhₚTCm6Z/Di{By#4q~M/{nsq;iZ/ЛfZ{͋!8QiQ\Eh	5݌Q}Bbm 됴/FO@o:qڋr5"36j02b7NعN4}KSԿ)BqH#(U=l@-:9weq^EiӰ&Exb4$H̻	Wn-ZNE|GΡ4̼&2/7J;4su:!>4Z7~>D0Yιջ]~?0im)~bE[>vxb Y2z܃Ε7@Tߡ5w|.z_l"	#Xp%R+oE{ɂw^Cەs}H?=k|3m"҃2G`DO[|f5DH`۳XBӢ;&@s96:_p¡G~<ZC[1T-G5tCoZǫ)u<q(iOYi;o?ȷ3>p6-n'p4/|Ϳv8V8'eȸ&YwI#+jR/?Jh9;'~knBoin"YԹ̓!z"܂v-v~_]mh6P-|[_oQ\kS/4=s^	<5Qiû$мnO?&wLn
O[F|ލNk}1] (Z7wk
ɏ(QGdE= ?cVo"vxڴ5ChYmX^s[~v=ΕL;Z B4νl1Z۲~X@(>i/w+&-7mk/Bl6+=kH2]s/H!ꍓt8֪Na~Hj;,D9rFqO?Zl	eR>6ulHu` ~)uc;!R3(u<i?qbe}FW{_QmXRwن#JQCdňu]z~?{[{ȺO#oZQSeD|'кtaWFM)i]	(MZcKFAi$w Ȍ=jW[yH@}-Ҋq3>Eǣew`FEyɽރg=O'QrƤi7IϒѴ_]mvulDoxH@oʬH=o0{yN8N͡aѲ!N|H8dN/Z,-<kXxtO{~˯q a9d9Ҟ ІK^SRmDb4Y@=JnD!dn4w;4!~}Hʀu$+t?zC%<ቁnF|'H#w]8ik<ӏ	D/՜.~_W{y:IWuuHyq7le 7Ru5N5>+g`1z9b&>vCs[als=&Aol>fJuB0G#4,! [@-5#Gܼr#G
,*KX5c8ՖٚŠ'aAmgz#{AuխG6|hGJ=[j-׉o՚z	P9Zfi!H2gkX+~E$zo}Ճo6vcBIw'- H=H̿{ -d?3qgTknP2!׋;W">=٤дH3Oy
*pz_<КXp3ʌKH}+U=o+H,ٷ:3~Xxxvn/:akЄ0y^rfq>4(|bRG5"͞7Kv?hmJ"CpDO?B>'ČkΆG}n|ﴰh֥sT^cUmZ;nDcn{=\j~&J{\x$ކ*}
 <2 ŎWݯ!WUˑ^DGH?RΤ Bڄ  9j  	vUh`{=??mnO}j*{Tԟo+ٳݏ|vRG'P>ʈڱzȼ͚3zi+8R/r}0S['8/C}qM/>]Fyz?U{ܨG <|Ɲ^M  K\r<玺xpCo-2=eY420;*ZA33@|#=7p77>EAĠpPbP8(1(J
%AAĠpPbP8(1(J
%AAĠpPbP8(1(J
aY6̒f|Ծ@md ``Wj  [iŘ$̄m@ZGɊ;Q,.|qeKY$Z'G*w]岩։@D$%,͒+>aB&Ԭp|3.-KX,iKӅ)IU#mA	4aJfdXag!mf-UND˲Mp@D`f{eU,MD)WD)iD1  `%{`Yya&-JJcY*#?iz6m5,LWlJc"%=& r{5uL&[2@HE;ı@@'{aH YDv\iK`^'w	`0rww;*! |] ەq`"i3X3d ;gГAe%pchH_YlMR#_eZN.Fdlpw>@шlKYI J6

Bc M@JGX>PK0a}!v6g}~銀Fa:rmYWhږr4"b| ",	3 ״TJz"ǜ]](OIHNBTBlLMЙ?q+D.hX $D2	~A<d](A1F&~wӡC#LB{,[MF:\lɽDB \#?ܮC̕0}7`K~WC~AϡaU,y"
lf! )i+H~nKJ?55d&WSO+҈s0BI%1&zNv`!!6G    IENDB`PNG

   IHDR         f  IDATxy]Uǿs-aG@0HQG"`M3U#e555S3X.5ˌ  *
!d,N/os~}煉~uםN|RGs~{w{	5nAݦ=OޑPPɑ^0qr,S ZY vݪbrj{VDADHgToecn$K1 04f ~'H:~׏ 3@ݾ8BxYnh :q33
a @ҬoC/ox10@`ٻ.ltph f V:rR|JG
HI0PX͜ <DҖ'E7"$9@`*ە+L7*ʌrsϑ0B5XKڝN`ُ/3*>(	
BEdAx@)4/9w[=H 0̝2sX?X!aR2e~qR @w7 1wn2{*;c6,g5,)4٘:<o_E؃?#됣4Dˌ"!Be
qÜ$ `+ǩH9$I9I?w.$E9f<dF
G OޑlnfV
3x0dଉu-D6 s%M4C$	6II`;<w :|p'dvr2,v!%4(v>R``%``Ib$X1X,	V+K%``Ib$X1X,	V+K%``Ib$X1X,	V+K%
HwA@@n;Hz 9`]8=+hd]Fd*8.l]]r@2&p8S<=*t@S41\'%Ùw%Hxcڑ99 3muQ_@xq	rY7dsׂuIcx	YXL㿑 L(O!:X >[vLtp w8F_wj1ެ?ȶ]	";Ȭ ףۈ^hȧ"3-נ)I_n$P#Tw90	߆kH!ٮ7\^ 2S%*2X\=kT] M-7<8LHCe4E$]gfWgp~'|dV}~8ًG.)bȬ"Eծg Q_3"99dUyk` jJ^qA<*	C5 ?}=dzmq>鶓&@n{)Ftl3^p4r ΃;ӺҞoÔ*4Eѱ_CBf&8]Um6v=<NȮլ˙}I]b^ǘ߱*@ߚZFMLṖFlPUwW
fDGcӴ	Qz?7_~I	Rxiv?ʂ܆/OV*#EqǿUN3;{(w~ZV"v+>`5E MfS< zҮoB=zxwMQGj'UF3 Ýz.!T`U@i׷ب{'1)kzd[CqC֔6puS+4Ax\jg@үiSySIf"8_(밮b)Kj~oJCM7vUlͻ,2YԴ"_ҙU@N+dniMzQTc$ &<3l^?<L8> ^}=%>]0{cj֭G6*[Vk5^P6C{R=֕6f;rȶ5e!@CA
528<>nҘ>b7Rmj ])m!V_n[|zxWeDJcU ӱ+n;m-;J5# 8æbڈ_v?S<ZdLE;.q>!8?"3]};܅Wc\$-(n`R"NKO"Ä!5:OjYw*;2;	]?M)!%]S8ʜE*wޛ/9w
S@vMu@ȮOFq׷P[&s)&u5mlspx+gTU}q]ǕMvdP;:PyC XwnT;=}G፽~aJ}jUR/XA-reY!wHXv^1L=QK#{kYp:[{ 	 xKGtl8=3"ou/ΔzQڸAn+@~-FQE3%E漏ٗVUt?R}#ޅO]18sP,ٺ[r1x߉̪qxm	EwuoaGq8]gDGί^Z.qi_د'ϔYv"~R+1|䟉*ISՐPmhul٠۩f<)yc!gg6!_6"	rZ\һqKo$y1SLW>3-PI!8u~]-eCI-.@a4NXRmF &1瑶߳?aO#b@]Kjp
/f	kwi.mbB4>)O騽Hw~)']j:_s]A}["$˘&NGr;Su	!>}mR :CJ!e3+g'}Y|AdO1
׾ͬ4oG˥ܺ'4ottAi=cxUKYȶ55mL0hd{Z.t-Gol!u/2o	}-k7R,Dvݩvkד[ƺ|ސ;ZД&dY9HS<ojΠ{U4پٵȖ({j<@]p5e7׵Д6y*5":1,O	5tԮ)bȬ`beZ40zxb {aWd!^*@	eeEv2jU|=zdඔ]so:t `ا֕pD6|iQٗX-998s.kFF?'K*5oq:<M8,TKM=FvjL@Q0УF3c  ]߄iz&8C-O4\ΌXdUAԻĥ4Y)͘!5JR׋)CqW;e"+-s<׉}-5'2Qߋ~op^ٲlBQ+N]wwޕch?Fxɦ<q44Moh#c<2"N'.!d6>
P*D0ûwnnirZ̹N:Rs+@팇ûƜ#W 0YŒ:.Y7c#é# ~v]9	VyDGґX(`V+K%``Ib$X1X,	V+K%``Ib$X1X,	V+9JD nX-Әʩfg Xq	 D*\$uc߱{	&RL84~✃& bx}T0Tց9B1S,g_t0OXF`adl2y@qW0fW6PQhs=o@XEp@$؄%} sf&ܾj&(1bbfD}F_[A@P<`$B Kc&YAC0Q ">e& H	J Q)
bT.=UH@?¼Fna{LR	K=3+1B$d 030aB2#YO:[{Qjføɑ$a	(Bw0w\8DtZaHOܸG]" 
5G	 <*s()6(7wy8n2k3 !x`9D!ta	0*^"!J8D97mY'XTT	3"(APn%f ?3Q :1Hb<yt.	 {O 7w=2CLYgd%ez|ZPe,'sX
"cws  F NN㴔  ?BJ$"@q`p$O	| ;XT&yσWwI< 2 $crdlrg<!Y_%/ĈZ_ƦP-+ ^M(Vq?qs2c.7|E
z@lorP x<4%o~8+ tx+rÞC'),"@>Pq	/  TFk[U[f6 8Myea@P( ;ǬC熀o
U#e|_Ě{BW'40+0xA ȧ;nejB iԣ/    IENDB`PNG

   IHDR         f  @IDATxkp}^Ξ,_dW,v@1NEāP06i\:axљM&0&\Z$6Npp<AL/Ɩma2,/ڒs#=+}^}Y}7,  U"*B3lyc+~طqC#	TSMC5d6nB.RE\!a, k:!G8L,)*BG>M - a|YF{Uk#U[j}ϰ)JmPWG#-EU`mUHaojrVHa|2OA0H>' d$a|2OA0H>' d$a|2OA0H>=ը3NG2ŬF1u^Ly3PD:u4(8*^&$^:yF	FAu|ף7θS8Gnyp8թ3З_*@5YZq{{.T"C۸!?+b|aeٞՁ2]e[s1n]ʒzIvwc^<PaPj&_ɼcmG1L5/L%{~˾REmb|fRx:IoGܳYu2W6PyΗH&+bnnA P&Oż;(UJY}?  V!vO!As#3BSqWK)~&%B=?5J=PgkĿ(j-~5݇ٙJ`,^:f9~mPSm`WΪDoF[`[!ws^W^&0:+nM[_|5@;AR?~]NY޻raWUԉ.GvB5V	ݥO0>ԁ_A?9E7έ|QPǾ.<أ&_EMCr+o!~	0<&Tc9isMWTVO<qJh^O^+v%
tlCN@o@~"֎nJ,6m#Nv+b5Q7ܶ;ov?Yyv˛9 p^Hh!8od!NV#U&_<R]Sr mQ.K?nE=چJy(^&ܛZa!Oǋ7rݑ<ouI𞆗͎a0QJD3m`KxUvv6[c"?<B5CSg	vB5aP!xP[{OS/[;+v%UnuP*w{p|BUCд  si'BvR	2|:W܈2yP/aTa0heRދŬ:6SWtirp;Nٿ:iG 6w~W31/7^
^d6\NÃ9ۿ%u;no<seAQMVW}ponʼFR2a"ڏ\Uac'NuO߄~W
/ky߷Qjzl}2ઊN0^ee;	.c:@n>/.4o7$	%b?#(
fnی9uΜ+=cGp;Q.h:=_G[\#֫c3zb עΪø.'I춻Q@#/kNDFam?Am&^	%~ Q~Ηp*PQ>l**?G<Ud`jOL|S]/L U9C/2yD5ԩ3rZ_x1^:Ytp:{^A^g0D/g#7c' QO)yڂOy{?rN}Vù58y*nB*"J/nm=LvamC[Dl)yq-<޷BOZUà-?C8L۰f1nX-ߨb~/|Na|=iU)"bUS07d|Khj붋zR&:9&+ԾE6qnVsK3w׹KئhݴmU}g<mɘUTT/QUۜ~,$=c|~]n"_a%zJTL[(FfrnRmm]t	#lq	!9-wQOPBUgau8:eߕR	׶FhN>2k3=k˓>;1~97eyd[\a䮥s=Ut~_y-~Ɗ܎S{bFB;6gEhݵ&knFvՈuOb^߹2:>T+.LvRPFk*'2it8Vcx5K`^ؿoqiL{FNA0H>' d$a|2OA0H>' d$a|2OA0H>' lvt-5#JYٌÄtN4T҉j&i%.D^&i%dOڍ^Rep]dOZO,g>;OA>)r񨳽`\G/=]}U%sW0p+pX)mo@<v=js,K$9yh
x-xtWI!<Eю 4~`tۙv&4tލmJ˚B	11QUyKҹK/M/M\PP Z46qC1xUJJ-yٶ6%/:̎ʳ	W˶55rikpi E5RdZ} xLd	(R˶5pYA#r1ֵ0(0h\8|]Rȶ,tѝɂokYHLN4O/Es!2G3s-	7W`ed    IENDB`PNG

   IHDR         f  ]IDATx[Sg&pETC=MxqzEx}fәAQ
,Iv"GvgϕCY/x|y0JՕtA0 0M}m1+铨D뱌E2J[{o}Jx"I=u` 6ɒг;Hv)0h̾=Oҍ>M؏^ș<q7U=2ʜ ~^(W" eOA_QWҖ)"K(,	@c 1H`$0	@c 1H`$0	@c 1H`$0	b'eu^'̿]۹C=\`ci"ycxBcu/G'aYT 1XkJQ<#1,`m-#{O	e뛘g4MG*˲rtœB<67eYafgdiTԐ~Z]ߑ=>7>\:׵~.LmX,a,ObH>h4T,vvߟ{--.L}͛Ylm]-:w0?.x?qqGb(l1~.(JN`b0M#cTw74&ד3fn޺SN:@İK_8׺\ȟ|01OH$s˅1Fu`]F=b|b_091|Nu\w&Z[[\|çW.s.L!īium};&
`FG&`	x.X:,j|
j~EQp?yq
_Űa	KV}*ΜUWx~&&~]> q"WN7T {}(~ONt	@c 1HIt_ZZ\}<2H`$0	@g G	@c 1H`$0	@c 1H`$0	#)]C	0	"R֋g (EDʺ#וuъ͖aʞ$;Z9 %Z\ߎ!gNa,Lȝ(2,Sv=YAS/Hy\&yBv>55_L֖_܃M/l#˪'F eP3(fb65/ 1 c vnIHS(7a_}arLY"7D	J/ixDZzP/^ GR8$x)X@_U ^{DWr aH_	qӐ4 ڛ6WG" c/<,oA7=! {U#C'<E.{IWr`^5|qdvnrK{~TN!?Q>{J8ȿ+*    IENDB`PNG

   IHDR         f  IDATx_\gyϙ)B"EMD%*zV,X/BUPz%"ڂ"EIl46iΜ983d*	d,;=,$8Z;l_#P<`f;eu]Oƌ>nÚzg3EFmhO։W $mA$`V?XsEC9k
lU$d;ةEaͪ_<k{لyP~-O.{>Xny_7zsxU:୼x@Č\eΎV`4T}f/ZBW1Z,_X>ȇ 3 h?Dv+%y faYA2Y 1XN|6_ b2˓e`6Tg  ce:e؆KX'i_|j` h `f*lf s<
 pw@Ͽ8I)a{ 8S5f0YOӭ0*mh,
x;r020-ۅ4ʂ0D@PTa2XA)! ԑRb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)qAb)q!A]; ΅} ,ͽ(4f  ֖		)M$ 3>R Vⅺd-ۓH)	?Π?Tۆ UWN@]G}m`ջs!ܱ#1>Qh:lf <0]@u+:B-l$afXZ"lEQ4N$KK0aKHzi-x3z}t;]l1DNW6*&#AUc~VW0aŦ2ŌY1b0`<*! !<&c5 x:fi9e_Y\dEwqP7fػ6/{-1 aX[WܢUpp``7xRb~fUJx<.̣UmͲ*,-;qTqyUe P«B 3dטacFwby!MADy_qϹ  mx}=VT̖ͨ?|[fe !xwXvswԃvh:lMCY)Dۙh3'	GL|a\
ΘEG>sF3}q={KE ƍX'W䭿}q;fx7p4gQh0N`JX(_f<@~c$	C2=u14n:̞gA-& e<2f,1\fxw9/#K80nOd33e;Uo}/Z"I29    IENDB`PNG

   IHDR         f  CIDATx{l+؆@B$ Umh
JT
U*G⏶JAT($Uj[}QQQ4`8~{cyλ{w>>Eٙٙ](^ 
9Ta C >7T0u^  Ta W`0߄l-RNO!V!wI8	`"er@Kǲ0c K-R.s ,_G.C l Nw K.[~dw Da<!/|3@9{Bn  Xa]!/w/HE0E4Lq2d0(Fa 6
Q@lb0(Fa 6
Q@lb0(Fa 6
Q@lb0(&݁CX) S5=5`@4LVʘJB&߆\x\?>C$`N/DS7 &X+ƻOÚ;!Zn	;Xb|2u~^͞TSa?QC!:w1fhM92̉ezEa`LD<Jyh͟ځ`j:<C^wwHݓj] f>+v_k,؂oz%xdݏ3ahr.Tmha~,ͷ&xÍж}ڛV)L xU6| ,k  v0W|5l0^_=  c :T  c.@3xdxmc;L4S0(+	ef1i{@X<p w)d]G[\xƥg2k~Ga0Q-`Ð̠0~ⶉ~a1}	A}`5=ҳ/ހ1}yu_}@*cmUB/|*3 f#˼AX$#a |@*}mUE&ǐ9̉¸tcU;e"ߙ°aN*8p-wg-u?V:]&Bmy?WfuNNKLgW0 Xq(3e i*2]6P[ߘ;`w7Ra?k[ ]l,(d@u% ޯ*M1OnrLn3C`׃T/q0'^LZAu,&^wߔ_o@p Z@I+h^LBwݖ0NCߍ@Cʁ`N:.ѓMb5vmT*f
*5OOڬJ<v*CV<q w.a  vWIکv?@&.xe`Õ~dMe(+ wA]G۽%0D-80ǟD:6
0'_^\YPzJ;s+p Znh۱L7e%5*x6LY	
LnP-9S,wL(2ͻQ~pc$KDR`栿Tfҗ~Tk0Lԕ?%$Zo/08TzܿVsTBZ`uR{ Zow,I#OBZ{p,ô*H0:BXR1FYULV%t=E~XtPB sͺ=( j+enx7emmt,Ј@9̉
Aއ@}1#wytt^&XNR4	ݟ;Yb? u"Ag
!c9_7]-ً@112a>ZC6ٓ]Y[1Q5^a͟[L3wTHξѮ|R>KrZaWm/ڿ(Va`D۝7P;= T<1ee'Bw;oΑ7=Wjb
pt,uϥo؟ےiu`-S)eEOG˹Ӟ?(s$drdmeZ0@Ν/X39qvH}Gqw`~;ѧQqȅ!:u.Z2?L>R8דNܿa͟}]GÚӛvri䡠*,L,(3`%yEdbdSO5WTfVfOTN'R(Fa 6
Q@lb0(Fa 6
Q@lb0(Fa 6
Q@l\k??l-VF& ʒt F1g$up#'R~FZOr=UVq#EYz2] =[=&[9 $cqEgIYX\0()Yjz"eKf 82MnRL,d!²yjnVFG|j;,AIXt
Bio@XH!ǉ?()17>!Qjjsӫ `X 8O3H'Q{QV%Y@,z 3*B&R@8QhI)KLf`2HB 艾!qvp%*=+w]| 5L* <28T;CT_vkyr9dw +^%Lh,iH9<2xvnrVX%S}M "%v
#Ʊ艾^dGEv3``qaXK#{	`lȎO$2t    IENDB`PNG

   IHDR         f  4IDATxypU]ޚJ5%DVTJ;.Umq4U)ZtBd:7Nk[B[kΐAdx{wJB{s#_N=?|{r[=m b<  YTYcӦBPST݆[=<G<]?8/Cz 2_ ::!G8[Y*^ h|B(E9a@|@e;a"qְɚzHvK]ǞJj @H=4YZ
E dYaLD60(@a 
1P@b0(@a 
1P@b0(@a 
1P@b0(@a "ċJ ApQ(HF2eor_yd%# ruZk@i	eקЎf4 .ӦM୞[{wd3~MiSڱ&DwD?|Pbi*o70rcgYg/e{bh8/y׮Ұ5-e%@
sߧ-½x%lW^mD((@̎,3Bꖌv>e pl&TWj'q=+W:Y۔87׽ތ rd8fWYh Տge秈\;ܤX6fp{;"m3nm C(b2	@*V^
9="\C(2Ē0`2v	ןzNm'܋ȻT>;B5V;+c&q+S,	j@X  >eڮڸ'1^@Ae2]W&qP8 ˿kPzysȺג+.	p[pg;#۵$ɴ]P|šH\k \/ƫэk3\Iw,t8vzդkBHecLiG<q*7iN;zڕ*J0c/g:mC5ߘP B9UHJvj?\yuT5]eNZӦ7rB@oF" @=o)3!˺iКA(_lw[.49> ´]|9#5d
0Lg!q[u&na2؇>c6È`
0mێina.?ka1;K/qHˏz)_R!pWVW-4->y62F}λK:'MEޒU?W Z¼&UEprgϤ֟EI<qHy
mIoyÐF^j.^َ_,J'EI꙰_wiX}[0o%[9.a; _NAx3ɖ5]tr4Ǎp?Iz$K)Vg=~gI3#(;>r6bHec!OUyw )v|nGNxZ!{S͈lE쓍^YNAk Ճ~wlO	"IS}o6Mi7n.ۈ}y9a$!V_j>|.~z8Ĵu%o@ (Lԃ{<V;~2{,8p/Zu*ۿ)Wp2D_yGp@WBՋ!4W~T2ef5~aekYgSS!٫n?e"({sy R1b
=>
.L:냐'^ۧXc&C+gRU(>SX<(>lv0p%p?tbH{tvК3Oq&qz&p3ĒWz:C+W33
=I<ꤶ/`jLj:aPG-O0m|ܦamTVy>m[wo?@kj~.mBkRF1
y~^iuLW܋WB}f<n
f[JӠlc?d鿼e7egebiبq 7!jyF(כKb~A*Sx*&m\,YoFy?}
{bzDQ˥\fJTڸ,]L|24'1<Hn̂+0B/.2&8>-Z)DboJCao(uϜ[-I!mBtzD70>YE}H* WLXVqH)w3%)]JaM쮇vkiYgJ=#pڒ0(@a 
1P@b0(@a 
1腵.IN0P*&7D?fu$1AB˘JP{nU	&j{n ZNXN{IU5>ҁD4U7Xx9W OJ5-߬:C !CQ4)vx@r=ڡgV <@Uu4?㩿d>4?{^ xd Tu Μc07JZh"q,tlEؐ_$-l|Ba  :tw0W[dIf|IkT54N_˜$1>5@l!ِ;ZÊjev 2`/&<xLjhNty*ˋ	E8 `~UCyo`u%oOetG}>$YcecYB(Ãp}CBw    IENDB`PNG

   IHDR         f  IDATxy}ǿwՊ,vWB pb/e*+)UﯤLrIQUGƢ@$t b݋^==l?;= 'Y7V ` f0lT@"(^h~vc?e2c	
,Vi6@ּߵ[.:4JDŅ,ÖFL ""WLFc<Rm-Q3~aif(Ͱ>S&3%T0}5=Xbf5Jm	HZ1އ23Kmo1xȱLiD%Ri8X~|?m'"f.^-P-A#!fcOn|= I`onͦW% Y'l6we_I޶(KXbA2?Egt3\@et 1n `q;RkR@Jod"m!\aZ@HGgxwpA%% @ -XBZr l 0 3@(11#!`12B#!`12B#!`12B#!`12B#!`12B#!`Sh	
rҠDd'2 8(@燠N@g´,N׵p^}(\PG݁5_NR@N4Ka]
IG~ݑqnk .jH,}8W)x?N>Ԋ?䤐^	v^~$w<"\sZ4{Rhb'uؤ֙F8W:'ɐ^s'@kW}|JOb5g}uZ?A`ox ;J5j35V*N4͂ӹ[{/:b%3Hta_~[qz͚C[um]P;g/T.c08[(Y#ŬUb%hS<s ܡ#N+[jjG=o+كUŖ/d ;QUZ ^2DAb3e˖UŶZ,_WUZ V2e8VU$wfdNY%h$utky5b$V2UPٍ_*CX6n4o(S7QZJx>RYco+yn_|EF~ۣ[*	 Xeˊv4mk'{sau!#p毊\g~cB};$rn*DH8+tA4]QAez&.CyG*:"w, A{f.w&R0q1y
h/50<yz85mp2l @[Zv˸ĪEb3l@j՟,gܢW.E?OFJAXh=H,\7A> c~'%~EP'QDEw jF/#yJ[YĮgHN׵s(	 -p:^{'Ds<!v8(?v{H.-ew߳p_nԭgpb/So"}+R?iBOBA(#·}sZ3d|;?ڒ@z'"_F{Xe˱
oCM>/~6/ӹ"RZ$62$\iV{PDŮ%b#={q2,}~UU|+圮D'XVF5(+@tuuL12q#Tn\D!C% [&uU;@4]V=VeUESL<d.% ;Y]%ݹ2Jk1B Cgʖ!;TUO-|;Fz#ЮEb#<HnF(vbz-Z;OfgH.P_"8s Pc{H.y߇b;vDotTQӱN2@+3`7[f<85Ald ®閿AEFYl͜(7^ןxZ#V2 @ᵟ?}R~=OMjA"@ArvTM҇g7[P"?w,(tcO(&r/>mY"o[\=k.p]Ojz	J5_>⤊/Q/|)=P{T'T=0-daNӅM`12B#!`12B#!`12B#!`12B#!`:PL\*w=B `*sP3vj ~?A(s4:C PB97qx0s^A  %=Yo5TϹ| ,@jmryC*P*PH&e;
 flH$I'"%}æwX3}^ Aa`yr`pm?!ןRky~dD0t2P En%8}C"t if(}s:gTIY03Zj!huHO Қ=#RHiLy|^L*fA`Fܡ<" f7Hg@ 1X<% ;eoR1S)/]JQ`B9dK	%LFa!=	w$P/)v/eݏzh lrvR5.\|B~ @(=!ݠ42J%~oKBo)@in8~7-Aҥb`ޢx;Z#Jq~ǣQW|LFЦMrQx)#Sw &"R`J5? Πx3Lz7n[AJd(6bl	ATY8xeno]JH/.@\5}" c,ǟKH}-+k[JÏ	{@w !4kO>J9׋k2AQ3B$n^֝KE(.NJ3{T2кSS!moβXY7ˠ&lƏd&0!,oxuӏ~zJ4    IENDB`PNG

   IHDR      F   W&  7IDATxOw-mRJoPꪲ KpBL.[l|H6ŰXAЖB)qRFzֻ;;N`knj! Zۣ nsS>'D!uǽ'UKaiamu$,E8E?}8Hj>z`5sYORh_O:Dcz"N:9])}\g 3ǺB;{_lrQ#1؁ߧ룸^ M˖X/1FR(mg7Eq3E8څ0J]iOˑmb44!VɃ1\9Sx}^_,t7^F[fa(^+Eeˑa^'k7o; BR>8	j>|_``F|FO|3(Kb'/aNjnrsr٠٥Mr6allV6v
9rye`p~G nܺM\&Impdv2cXu393l5 S\eDrGʱ5n{}@g}FQ wX-)?}D飪7n&Imb5 NT9A@Cp293th!|fcfrlϱVe(z,OLts_`w`̯Eq~ ,kz/K^gP91sܻnElu 0Hͭ=n{rCu7@ٟ;;d}?I40=t]j,T揬-# `ksAb-3dJLW (6~¼kt]}lX>{;=ߐn#w3+pԟVGe9$JVf޹wZ	GbF?X׈\Qb=_>DJ#MQ:uO[ǽB k23#Fb|bajǯMw$'~ĻoU2s,/VY6
j~)D!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD!PHB!QD![ۣǽimv'0w    IENDB`PNG

   IHDR  @  @   e6  
IDATxqP@g7 %%qJR%<%%ɄKb3h/-fxXr ؏Ygf헇7/̛מ f~_<_#u p	_weyy
  ܸ<? -;7l=? ;̻>%~ 73lg' ۙp)  .  \  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9 @ @  r #     G  9ۙ~!  .vf]{
 ufNW N3nwaf< %xXי<  n,33" QO3' <~f^|zt<ogf9__y0 >赞;H.*    IENDB`PNG

   IHDR   <   -   vL  zIDATh1nAXƑZZj Q5p"	FQ8c֛5DD/Ody;;_s@bOЃ{ r,
eL>Z;<},naD8+_=x1􌽥#<ǩMجWm _+i6v-T32yӖjW^|1î_G/x7|wo^jo877mߥ>}rGk)=0	z0_ۗ(=LL!I(=7=	|Mx    IENDB`PNG

   IHDR      F   W&  ~IDATxSZgo< xED5MDnvgý^Ef:ӋfdѬjP1XE	({yҋZ}9Η9_6"A7mi9D!MG,}w>ǮOr 2:^Qvn;FKo?L~z;]Q=>!>G'Do2_uhiMD }f66hiy I T88;8:
r0H~0?/Ho&4ȭ<^,d); hs"Namq2mL]rqEnE467xetyƦmz;w z|GwN ~9/Ho$~:o;RG'p=TʥQT\"60W0
PHc$1
yR?H'p=T v\nOtLzQ =~<I%Yyd1Wt۫?-bNJ 6;.O/kTe w<̃ Xx}ӍЀGg&kFn'Hwvq8;NnKfϵ'ttMv2t=OJ$6UMܤŵwno?6.=k?`+Y{oڰX,ϰwKi%p1D,Vb\4boۏYhs8	_T,{bjo#rcR@p̃Xmvs+=?7H0O0ՆqTZz?4JGw/b/E\"`7	`Ȥ^/;k#H\;TOuκo)C]x2esŅy}njw3$1.\0< {fxbv3i v^^.\}I,x7>
o=v/&r'shωsF6;xEVÏkd)uN~cZT?tGSV0s(Ijb8:IGs2R*q̃|<?aXh#8:YLM ]1WQCH=A`q9JN0ł"zz;>5R)	 +t${Gƙ3֖x9h(<>:K,={\7Go2\r	OLyfYJ>E,Dc, ` b$zh(2bX}>WĄt_J\f?usY<|<uU^,m{MzMo/}biMq6$
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
(B
B($
hG\rt    IENDB`PNG

   IHDR     2   )    IDATx}?pך;=*/&A% ^&f4}6m	ȉM@1+HpX5#"7y@N"'fkO5=3a{_($M|w2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2dȐ!C2|p=}H?Zk@kuX8yT*pY~i?y~SJ1v6>>~C@ybGkuP9E$ΕRt__o<_:%A'Wrj	ifX^^~LRtL)
Kr~ciEROـ 8ҫy,V3=[hxE)u)>}c^+˷.OoפfN\cX8HRY Ƙ1fݻϻ9ok2Ƽ` sJF6<yju*Ar?#qn[Xܓ~@8'_<.QJc=1{0Lܽ{ygǹi|P\u4k^!ga{C1Ɯ& ֵO/X,!/ pX,\YY_\(vtV#AǹyYɉh7YEa)n|"*c^hrG t] tx;IFK^?	`'3/yƘYuGSs 9MDhUՙ JWZ9"z[C%%\cL˻ZVcf1z0dWUp*َ !㧟~J68s:	,~^(v( 0`݌1/h8' <'ƘZ 5y>Ns=̜0 Rqc6R JݡBZaQ"5|@CPr'Sq*JCQgWE&R4<*7GD-^RjM"g9Rj*NY\ vcn  g8UOdqDn8\4Zh$˭@< |816h)seRľjzuY {D>RVu("3u]wVk9OD3JY󦢑N0ƬusWcfF<3Mx;M T1v2W%iiOuk,cD֮3L|bI@*絤sA$]C83EhD7Q"¨OVL}0FۡX,يX(vڵk$˭_WT*rIϮ/HTZgDt Tjq%9I n1w֍σ "Z8˱T*PJI&c"KDZjT9|GUcL>GdG̃.}6xv,c̳Z\䴝q": |*y4B?_ *J埀F  :1\0P*.%̷h'fŸXBa^ 'c9!B}OK݀NiGSm *b߽Rʗ_8ǟ<XVN=ϛEjz&e}1#A @;CB9]"F(֟y"RJ7)II0kIDZ vP(p]<B{DtO)5׭t]+ 1 $&<;uf]ׅzjM`񭤄!Q喰Bbma nѦ,^YXzm  my(io*Jlh;]֘l|VwjzFExZ[A D6()Jv:L3ƣGf hǱFT}OR/b;?+@D|>JRе9xfRt!yKKK]vh#-)#yf>Ry	<|PH 3K[k53ߪT**7xo$[k=k׮[/J'f@qyy{1k$^vI]/ORR. ΖJT\b'Dt_{ZsqrP(w^cN*8ciefSw㙳~P8rG~6鮮r"2"Cdqؼb\ǤqOJcƘh/F}1&UNZZ.Ӹ {EZO1ƆnzWT*K|Bx\n1m9O Xlг@D$D4Ǚyǹmݻw5%ȊДϴ<G+`|WE>eX^^V֞ ΕjCƘ:Oep]w	^B̜:mp}aC¢ |Q*R%o13x?ȯ3 8hh)bq3_&"=<OZ롤! jRIr
 =ԇbv9YbL>Vk]% ?&Z@D?Έ3 q{(g2_w+Э(   |g9^,e>+Z%d|e /
/bsJpI$	<$cZ!c`8vm7`ATiz .6ǎFȍ nhQd6BDw#&T"ID0LlW{]hV<AZ3P"E>8؜@8/T*"f%xy 3JuBo`/ѣJ5aC@<W"1  kH6ƴ&RC[
|lg]i ךg,;Dq h;WqA*"Q)	/phpk6\n̟[Ά5Ũ$;#Fi4\0 0s9s3`Rj@rV|"I mYM 3rkhNKFYGB2r= hr'1>L#'B{: 4[#	8"(6{ ٴh'WT*%1f =ێRZrpV8}1#|f6c/˛wiiUT`c*B΂f_FcLD4BD $5yac̬}Dۺe!=^s];)kK \4$ p,J*pVd7	BekѲHJr>fވ= "=wDgv!	?$. LsUJc̍{sQ@My)0f_@C  \ugKjl(1c(ȁ"3?&Ri*BF*a;E	nZSRy PJmlr'!2*	Q
]E טx5h%4qވs}z*tɝ>@BXZ@cG>DDDH*k<>o:e":.t>rO Eb|d`.ߴ/DX֒?H@+V6w̏<4hDT3X e~[V]ԈԱFzvKcߘYV.*s $4%L?g!@"@͟G<T6LDW)"$M	|k||TL7WʈXudyaxry`^+Sq°T%s|nvt"BVFU}ɡk":d1>g ƔRx:,]ki$RZ3"Aq>DI<$ּ8@)5PwBL^缞töX^. 0Ϙ*a `9aK"p]4PJCn<cw}nRJsxv$ώh4M3F1XwhH\dqٺELum} $wPbqZ޽{nJ 1ƼL:6 M,ؽ{M
d(z8gHC/b>6' RJ2Y"Τ"
<xUϘJDcV͹EuǐdTXa 1q<U=xu\݋w%bwcZӑ\ȵ f%cY#F"'-
T*tD^/3# &R{DdmQ%v,X&睲]UT(2!JyõZm>Hǭ ZD!/x?	l*!Kӑ^Z.j7%˽SJ]H"-Y8c󆻩eCDt<DtYk}i+yPJcmכ ^'Jf'n/2f^1 ~7Hjڲܻ85Z>
	ʏ%D^YX@z_Cz_oY7CmRY% mZJt\I=u?}K5BLywz}1 Ǚ` !qSk=+IcA\B 4*kclBPء|q19FynyyD6fhuNZWCB,Ap8E^ ,t:8MYArԤd俛ADFƼ`3TNoDnqMiR۽4dHqA"&;9̛.hY[RXvqyl.G`֗{.{R\1BxRR9	5"<R~fX?&F3(Ns~T*/|	+ ^syAD;1mڴ%gw]wcL\.j)zȟ$DkK!
̦{$eڤ1f'y5II0:'m
6{ZO^&MHq 5n^O]$F?h0GDGhUkBv`RZ[V/Ed¶ Bf#ND1kZr_g<B\\:|#XD uǵyn=("V}iv!LB9yyZbnɸ jW\=;yS.r>!7DJrIk}3)亚x([^B0x'gurjY~38c Ǚ(~B)e	Lp3w] x-A!殅qa>̟S60B0>Z<o!N-SH'n nŝI6׵iv<y$M)T9ŘfWD.':3?f<,3m䱞Ѥ}"u+JJ .{w)o'rIuփ)HE40 L.Es/mO7:I}?NDy$M ?ʎR c nȢ^n7 ;6c.rm'ބI1\Je7l(>U	]>̻#"՟Y/y9 w}޽{{Qp-1#T.;)5<4Ƭ6s9
 Vr&E6P.&"aaefkԍ~%W[f_\q Έ3V*"j@X]!*Y3Ƭ9ӑUtTH2v	c0ɳh̮Gh!p'O ss?7?DQC GE?x/mD!>R%i ~D{
M\.w CA)u^JAe=$0mk䉅
$BC6IV#3D-H8+͌Xyjj|>GaQ&8QB\T*BZ|aCI΄ pemCz߫z Ί1q\g.--ypYrcH`(ֽp:֟1Z6Lj9!yFCv1s})bЦ^)&}n%9Zmr
f]㾗&-!jX8	Oitڄhh_hEQ^p <`/B&"BrtKSw"kDSRDtM\EH{f%
5Y OC 4mzBXCI*&w!_W ;L̬=yH#% S2 &4\!Q^"|ߝ%0=AL}N BM"EzҷDߖNV;a a>~~	qlSS׼凞mK~ܗf7ː8ȸSu!9cII.]?lH36Jy+ʗBវ{V(OCl(cN"SHY5I;uvJMqgA, 컱.6˷  tyF09>!jĿwPri̧>o[tlՀts])B[O7Wy[ەU2A0ќw6_/4$`@I;~UsxRZ!)iO%Nebay153uY7uIz.WQ,\j^yw3h HqSWZvuuyc2_Z6Hm8ΖzKDR,uf,w>V݋;7yc*vc	"*R8S(ٽ{e3+ >3 .YV-TM^?i}"'
wlgRAĉ_C_"*q?Bc`D~r#ia/s)k_#|CqJ^ -!&3n<SC}Vv	`ݻw-)>IM!tvJƎ@i[DvpQ˱ꂐ.xɋ^4js||/X&GNa"a ǹ<fzRlx_Tn"-}/"l3E#zIJ~zI66iqfeTs[waUr>r[M	Lӟ߆ܣjS|\{h/3YA+֢ܢR$b8,=ˇF`QFm;njk!rx:5DM5N#tZZeJ҈(p+r5_X"$>!a󳊄J^_4y1/jvm~Ǚe$l
	@J~.EE/U*Hxu6t p̶% {=us	=d	c݃	l{1۰ܟ"݂Sn`a	i љ2yge)پg}OnpVfo	DtJp	au;A0v x㇔R[˟y :w%${4ϟsgu7xBֱ®xED.QlGho7ACZ~o}lҴA<s'".(+Ium/!V:^[QHaZmh0m"""Wk <bjLE^pOrQ-O!Z9iDZ#<8NK_Ƙycd}d[l9  IDAT`f&Q|Ǯ3!MEuƘ=e8fP(le+0BXpeo}fv0%)7#S6 ޷<`)9	^{ X%0UKhט	37ƬyZ<~ \.wvCWF98Ƙzc9^t"t8OjI1KӱI/
eY-^ s,J'RJƘ  FMLz>BJDJB-^GtKR@#:MDnߜjqcsf'3k-;$,-iD-zӁ2 ,"Jۮ.}_(k}h"V,$ejn[=Z`IEm&7huGio^ׯwR=ReI7ٔ̼
`>6)
;`<e+q~ 8#{(vV)5SRJ\=ʧ<$rI~iѣG]E^"괋bnl"]׽IiY!71	 Zs[=@D maY% ۖUieA6I\:jco\|FavK (< 멬5S. 6Na$M$F4uLk> ~4<rk-rS7zZfY  .*.Iy)YZeٶ4z `wٌ
_fN9sE/l1mavt 777/k10
`S)XeU"	;Rj.uEcLLDNo6WQ&Ƙbmn2˗]v+
SW3V^pIȔWl6Lv-i`MePJT*?,)Y+/X3O)8cl|hSEoZ,i)n󊝄txa3h,!jJH>+8M!"`ùMTc  k)H=|DtQͰM=Qg^45mc9":! 8nmd;"hnZۑfmy}!ahb~5}j5EZRAۃ2~S!BjG'$|@3ݻ_3$HDƘ6\*&Ic̤)OݲBJ*&*+XQX^,NiMq?k#=`9K2Zo9ǹ)r)g{~SbeO3iS~޽[\ˎ ^͞&\(lZ4ODoBmOCŨ-nFwik>G\)P~'$T*_?y\K.A~"+ʗb񒰹pؼ֓DtVJ1q!Ocx8N%ݲ:ࠄ޽{ @w[$|G4^֒+ "w|r|T*m FDRs{
[.&aTM:tL0\[^^nȇr|KkQ8LDU͙|"BsU6*BR%;(M)BaRU>65#^x^C|zT't9uBzֈ1VWh2YVγKc|/yiwJb/@EsݻwP"x_j_qGR
!3_[|V,DP}y0:rV]I:^(Du3I"^޽P(KK[GvV{KDU	p v~qb3sh9גȑ2bסqXO\.ĻAc56tS":̷ց(迗@:v,MISv:@bx;˭+Rr|T*rzbt(
7#ծ}M2lBaܶ[}PF w"<(
;֧'ZS~Rt}VdVns2dȐ!C2dȐ!C2dȐ!oE5    IENDB`{"item_1024":{"__childs":[{"texture_name":"1024.png","height_value":131,"__class":"Image","width_value":131}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_128":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"128.png"}],"height_value":131,"__class":"DisplayLayout","width_value":131}}{"item_16":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"16.png"}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_2":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"2.png"}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_2048":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"2048.png"}],"height_value":131,"__class":"DisplayLayout","width_value":131}}{"item_256":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"256.png"}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_32":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"32.png"}],"height_value":131,"__class":"DisplayLayout","width_value":131}}{"item_4":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"4.png"}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_512":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"512.png"},{"font_path":"ClearSans-Bold.ttf","__class":"Text","font_size":60,"y_value":-8,"x_type":3,"y_type":3,"text":"512"}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_64":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"64.png"}],"__class":"DisplayLayout","height_value":131,"width_value":131}}{"item_8":{"__childs":[{"width_type":4,"height_type":4,"__class":"Image","texture_name":"8.png"}],"height_value":131,"__class":"DisplayLayout","width_value":131}}{"main_menu":{"__childs":[{"height_type":4,"width_type":4,"__class":"Quad","alpha":0.58823529411765},{"red":0.94509803921569,"font_size":50,"text":"New Game","__class":"Text","x_type":3,"y_type":3,"green":0.50980392156863,"font_path":"ClearSans-Bold.ttf","y_value":-162,"__link":"_menu_content","blue":0.32156862745098},{"red":0.65882352941176,"font_size":50,"font_path":"ClearSans-Bold.ttf","y_type":3,"y_value":-51,"__class":"Text","green":0.60392156862745,"text":"Click Here To New Game","x_type":3,"__event":[{"type":"ALittle.UILButtonDownEvent","func":"HandleRestartClick"}],"blue":0.54901960784314},{"red":0.65882352941176,"y_type":3,"__event":[{"type":"ALittle.UILButtonDownEvent","func":"HandleBackClick"}],"font_path":"ClearSans-Bold.ttf","__class":"Text","text":"Back","x_type":3,"green":0.60392156862745,"y_value":86,"font_size":50,"__link":"_menu_back","blue":0.54901960784314}],"width_type":4,"__class":"DisplayLayout","height_type":4}}{"main_scene":{"__childs":[{"width_type":4,"__class":"Quad","height_type":4},{"texture_name":"slogan.png","height_value":50,"__class":"Image","width_value":500,"height_type":1,"width_type":1,"y_value":179,"x_value":65},{"red":0.65882352941176,"font_path":"ClearSans-Bold.ttf","x_value":72,"__class":"Text","y_value":8,"font_size":100,"text":"2048","green":0.60392156862745,"blue":0.54901960784314},{"height_value":45,"width_value":60,"width_type":1,"x_value":81,"__class":"Image","y_value":184,"x_type":4,"height_type":1,"__event":[{"type":"ALittle.UILButtonDownEvent","func":"HandleMenuClick"}],"texture_name":"menu_icon.png"},{"x_type":4,"x_value":219,"height_value":70,"width_value":133,"__childs":[{"width_type":4,"y_type":3,"top_size":23,"height_type":4,"__class":"Grid9Image","bottom_size":2,"left_size":66,"x_type":3,"right_size":67,"texture_name":"score_bg_1.png"},{"text":"0","y_type":3,"x_type":3,"y_value":14,"__class":"Text","font_size":25,"__link":"_score_text","font_path":"ClearSans-Bold.ttf"}],"y_value":48,"__class":"DisplayLayout","description":"分数"},{"x_type":4,"x_value":75,"__class":"DisplayLayout","width_value":133,"__childs":[{"top_size":23,"bottom_size":2,"__class":"Grid9Image","width_type":4,"left_size":66,"height_type":4,"right_size":67,"texture_name":"best_core_bg_1.png"},{"text":"0","y_type":3,"__class":"Text","y_value":13,"font_size":25,"x_type":3,"__link":"_max_score_text","font_path":"ClearSans-Bold.ttf"}],"y_value":48,"height_value":70,"description":"最好"},{"height_value":576,"__class":"DisplayLayout","width_value":576,"__childs":[{"width_type":4,"bottom_size":9,"top_size":9,"height_type":4,"y_type":3,"__class":"Grid9Image","left_size":9,"x_type":3,"right_size":9,"texture_name":"bg.png"},{"x_value":12,"height_value":131,"y_value":11,"width_value":131,"__class":"Image","__link":"_tile11","texture_name":"0.png"},{"texture_name":"0.png","__class":"Image","y_value":11,"width_value":131,"height_value":131,"__link":"_tile12","x_value":152},{"texture_name":"0.png","__class":"Image","y_value":11,"width_value":131,"height_value":131,"__link":"_tile13","x_value":292},{"texture_name":"0.png","__class":"Image","y_value":11,"width_value":131,"height_value":131,"__link":"_tile14","x_value":433},{"x_value":12,"__class":"Image","y_value":151,"width_value":131,"height_value":131,"__link":"_tile21","texture_name":"0.png"},{"x_value":152,"height_value":131,"width_value":131,"y_value":151,"__class":"Image","__link":"_tile22","texture_name":"0.png"},{"x_value":292,"height_value":131,"width_value":131,"y_value":151,"__class":"Image","__link":"_tile23","texture_name":"0.png"},{"x_value":433,"height_value":131,"width_value":131,"y_value":151,"__class":"Image","__link":"_tile24","texture_name":"0.png"},{"texture_name":"0.png","__class":"Image","width_value":131,"height_value":131,"y_value":292,"__link":"_tile31","x_value":12},{"texture_name":"0.png","height_value":131,"y_value":292,"__class":"Image","width_value":131,"__link":"_tile32","x_value":152},{"texture_name":"0.png","height_value":131,"y_value":292,"__class":"Image","width_value":131,"__link":"_tile33","x_value":292},{"texture_name":"0.png","height_value":131,"y_value":292,"__class":"Image","width_value":131,"__link":"_tile34","x_value":433},{"x_value":12,"height_value":131,"width_value":131,"y_value":434,"__class":"Image","__link":"_tile41","texture_name":"0.png"},{"x_value":152,"__class":"Image","y_value":434,"width_value":131,"height_value":131,"__link":"_tile42","texture_name":"0.png"},{"x_value":292,"__class":"Image","y_value":434,"width_value":131,"height_value":131,"__link":"_tile43","texture_name":"0.png"},{"x_value":433,"__class":"Image","y_value":434,"width_value":131,"height_value":131,"__link":"_tile44","texture_name":"0.png"}],"x_type":3,"y_type":3,"description":"游戏背景容器"},{"x_type":3,"y_type":3,"__class":"DisplayLayout","width_value":576,"height_value":576,"__link":"_tile_container","description":"游戏内容容器"},{"height_value":280,"width_type":4,"y_type":4,"__class":"Quad","alpha":0,"__link":"_drag_quad","height_type":4,"__event":[{"type":"ALittle.UIButtonDragBeginEvent","func":"HandleDragBegin"},{"type":"ALittle.UIButtonDragEvent","func":"HandleDrag"},{"type":"ALittle.UIButtonDragEndEvent","func":"HandleDragEnd"}],"description":"感应拖拽"},{"red":0.65882352941176,"text":"develop by ALittle Engine","blue":0.54901960784314,"__class":"Text","green":0.60392156862745,"y_value":145,"font_path":"ClearSans-Bold.ttf","font_size":20,"x_value":72}],"width_type":4,"__class":"DisplayLayout","height_type":4}}